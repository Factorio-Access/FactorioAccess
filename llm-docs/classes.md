# Classes

## Table of Contents

- [LuaAISettings](#luaaisettings)
- [LuaAccumulatorControlBehavior](#luaaccumulatorcontrolbehavior)
- [LuaAchievementPrototype](#luaachievementprototype)
- [LuaActiveTriggerPrototype](#luaactivetriggerprototype)
- [LuaAgriculturalTowerControlBehavior](#luaagriculturaltowercontrolbehavior)
- [LuaAirbornePollutantPrototype](#luaairbornepollutantprototype)
- [LuaAmmoCategoryPrototype](#luaammocategoryprototype)
- [LuaArithmeticCombinatorControlBehavior](#luaarithmeticcombinatorcontrolbehavior)
- [LuaArtilleryTurretControlBehavior](#luaartilleryturretcontrolbehavior)
- [LuaAssemblingMachineControlBehavior](#luaassemblingmachinecontrolbehavior)
- [LuaAsteroidChunkPrototype](#luaasteroidchunkprototype)
- [LuaAsteroidCollectorControlBehavior](#luaasteroidcollectorcontrolbehavior)
- [LuaAutoplaceControlPrototype](#luaautoplacecontrolprototype)
- [LuaBootstrap](#luabootstrap)
- [LuaBurner](#luaburner)
- [LuaBurnerPrototype](#luaburnerprototype)
- [LuaBurnerUsagePrototype](#luaburnerusageprototype)
- [LuaCargoHatch](#luacargohatch)
- [LuaCargoLandingPadControlBehavior](#luacargolandingpadcontrolbehavior)
- [LuaChunkIterator](#luachunkiterator)
- [LuaCircuitNetwork](#luacircuitnetwork)
- [LuaCollisionLayerPrototype](#luacollisionlayerprototype)
- [LuaCombinatorControlBehavior](#luacombinatorcontrolbehavior)
- [LuaCommandProcessor](#luacommandprocessor)
- [LuaCommandable](#luacommandable)
- [LuaConstantCombinatorControlBehavior](#luaconstantcombinatorcontrolbehavior)
- [LuaContainerControlBehavior](#luacontainercontrolbehavior)
- [LuaControl](#luacontrol)
- [LuaControlBehavior](#luacontrolbehavior)
- [LuaCustomChartTag](#luacustomcharttag)
- [LuaCustomEventPrototype](#luacustomeventprototype)
- [LuaCustomInputPrototype](#luacustominputprototype)
- [LuaCustomTable](#luacustomtable)
- [LuaDamagePrototype](#luadamageprototype)
- [LuaDeciderCombinatorControlBehavior](#luadecidercombinatorcontrolbehavior)
- [LuaDecorativePrototype](#luadecorativeprototype)
- [LuaDisplayPanelControlBehavior](#luadisplaypanelcontrolbehavior)
- [LuaElectricEnergySourcePrototype](#luaelectricenergysourceprototype)
- [LuaEntity](#luaentity)
- [LuaEntityPrototype](#luaentityprototype)
- [LuaEquipment](#luaequipment)
- [LuaEquipmentCategoryPrototype](#luaequipmentcategoryprototype)
- [LuaEquipmentGrid](#luaequipmentgrid)
- [LuaEquipmentGridPrototype](#luaequipmentgridprototype)
- [LuaEquipmentPrototype](#luaequipmentprototype)
- [LuaFlowStatistics](#luaflowstatistics)
- [LuaFluidBox](#luafluidbox)
- [LuaFluidBoxPrototype](#luafluidboxprototype)
- [LuaFluidEnergySourcePrototype](#luafluidenergysourceprototype)
- [LuaFluidPrototype](#luafluidprototype)
- [LuaFontPrototype](#luafontprototype)
- [LuaForce](#luaforce)
- [LuaFuelCategoryPrototype](#luafuelcategoryprototype)
- [LuaFurnaceControlBehavior](#luafurnacecontrolbehavior)
- [LuaGameScript](#luagamescript)
- [LuaGenericOnOffControlBehavior](#luagenericonoffcontrolbehavior)
- [LuaGroup](#luagroup)
- [LuaGui](#luagui)
- [LuaGuiElement](#luaguielement)
- [LuaHeatBufferPrototype](#luaheatbufferprototype)
- [LuaHeatEnergySourcePrototype](#luaheatenergysourceprototype)
- [LuaHelpers](#luahelpers)
- [LuaInserterControlBehavior](#luainsertercontrolbehavior)
- [LuaInventory](#luainventory)
- [LuaItem](#luaitem)
- [LuaItemCommon](#luaitemcommon)
- [LuaItemPrototype](#luaitemprototype)
- [LuaItemStack](#luaitemstack)
- [LuaLampControlBehavior](#lualampcontrolbehavior)
- [LuaLazyLoadedValue](#lualazyloadedvalue)
- [LuaLoaderControlBehavior](#lualoadercontrolbehavior)
- [LuaLogisticCell](#lualogisticcell)
- [LuaLogisticContainerControlBehavior](#lualogisticcontainercontrolbehavior)
- [LuaLogisticNetwork](#lualogisticnetwork)
- [LuaLogisticPoint](#lualogisticpoint)
- [LuaLogisticSection](#lualogisticsection)
- [LuaLogisticSections](#lualogisticsections)
- [LuaMiningDrillControlBehavior](#luaminingdrillcontrolbehavior)
- [LuaModSettingPrototype](#luamodsettingprototype)
- [LuaModuleCategoryPrototype](#luamodulecategoryprototype)
- [LuaNamedNoiseExpression](#luanamednoiseexpression)
- [LuaNamedNoiseFunction](#luanamednoisefunction)
- [LuaParticlePrototype](#luaparticleprototype)
- [LuaPermissionGroup](#luapermissiongroup)
- [LuaPermissionGroups](#luapermissiongroups)
- [LuaPlanet](#luaplanet)
- [LuaPlayer](#luaplayer)
- [LuaProcessionLayerInheritanceGroupPrototype](#luaprocessionlayerinheritancegroupprototype)
- [LuaProcessionPrototype](#luaprocessionprototype)
- [LuaProfiler](#luaprofiler)
- [LuaProgrammableSpeakerControlBehavior](#luaprogrammablespeakercontrolbehavior)
- [LuaPrototypeBase](#luaprototypebase)
- [LuaPrototypes](#luaprototypes)
- [LuaProxyContainerControlBehavior](#luaproxycontainercontrolbehavior)
- [LuaPumpControlBehavior](#luapumpcontrolbehavior)
- [LuaQualityPrototype](#luaqualityprototype)
- [LuaRCON](#luarcon)
- [LuaRadarControlBehavior](#luaradarcontrolbehavior)
- [LuaRailEnd](#luarailend)
- [LuaRailPath](#luarailpath)
- [LuaRailSignalBaseControlBehavior](#luarailsignalbasecontrolbehavior)
- [LuaRandomGenerator](#luarandomgenerator)
- [LuaReactorControlBehavior](#luareactorcontrolbehavior)
- [LuaRecipe](#luarecipe)
- [LuaRecipeCategoryPrototype](#luarecipecategoryprototype)
- [LuaRecipePrototype](#luarecipeprototype)
- [LuaRecord](#luarecord)
- [LuaRemote](#luaremote)
- [LuaRenderObject](#luarenderobject)
- [LuaRendering](#luarendering)
- [LuaResourceCategoryPrototype](#luaresourcecategoryprototype)
- [LuaRoboportControlBehavior](#luaroboportcontrolbehavior)
- [LuaRocketSiloControlBehavior](#luarocketsilocontrolbehavior)
- [LuaSchedule](#luaschedule)
- [LuaSelectorCombinatorControlBehavior](#luaselectorcombinatorcontrolbehavior)
- [LuaSettings](#luasettings)
- [LuaShortcutPrototype](#luashortcutprototype)
- [LuaSimulation](#luasimulation)
- [LuaSpaceConnectionPrototype](#luaspaceconnectionprototype)
- [LuaSpaceLocationPrototype](#luaspacelocationprototype)
- [LuaSpacePlatform](#luaspaceplatform)
- [LuaSpacePlatformHubControlBehavior](#luaspaceplatformhubcontrolbehavior)
- [LuaStorageTankControlBehavior](#luastoragetankcontrolbehavior)
- [LuaStyle](#luastyle)
- [LuaSurface](#luasurface)
- [LuaSurfacePropertyPrototype](#luasurfacepropertyprototype)
- [LuaSurfacePrototype](#luasurfaceprototype)
- [LuaTechnology](#luatechnology)
- [LuaTechnologyPrototype](#luatechnologyprototype)
- [LuaTile](#luatile)
- [LuaTilePrototype](#luatileprototype)
- [LuaTrain](#luatrain)
- [LuaTrainManager](#luatrainmanager)
- [LuaTrainStopControlBehavior](#luatrainstopcontrolbehavior)
- [LuaTransportBeltControlBehavior](#luatransportbeltcontrolbehavior)
- [LuaTransportLine](#luatransportline)
- [LuaTrivialSmokePrototype](#luatrivialsmokeprototype)
- [LuaTurretControlBehavior](#luaturretcontrolbehavior)
- [LuaUndoRedoStack](#luaundoredostack)
- [LuaVirtualSignalPrototype](#luavirtualsignalprototype)
- [LuaVoidEnergySourcePrototype](#luavoidenergysourceprototype)
- [LuaWallControlBehavior](#luawallcontrolbehavior)
- [LuaWireConnector](#luawireconnector)

---

## LuaAISettings

# LuaAISettings

Collection of settings for overriding default ai behavior.

## Attributes

### allow_destroy_when_commands_fail

**Type:** `boolean`

If enabled, units that repeatedly fail to succeed at commands will be destroyed.

### allow_try_return_to_spawner

**Type:** `boolean`

If enabled, units that have nothing else to do will attempt to return to a spawner.

### do_separation

**Type:** `boolean`

If enabled, units will try to separate themselves from nearby friendly units.

### join_attacks

**Type:** `boolean`

If enabled, the unit will join attack groups.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### path_resolution_modifier

**Type:** `int8`

Defines how coarse the pathfinder's grid is, where smaller values mean a coarser grid. Defaults to `0`, which equals a resolution of `1x1` tiles, centered on tile centers. Values range from `-8` to `8` inclusive, where each integer increment doubles/halves the resolution. So, a resolution of `-8` equals a grid of `256x256` tiles, and a resolution of `8` equals `1/256` of a tile.

### size_in_group

**Type:** `float`

The number of "slots" that the unit takes up in a unit group. Must be greater than 0.

If this value is changed after the unit has been added to a group, the exact behavior is undefined.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaAccumulatorControlBehavior

# LuaAccumulatorControlBehavior

Control behavior for accumulators.

**Parent:** `LuaControlBehavior`

## Attributes

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### output_signal

**Type:** `SignalID`



### read_charge

**Type:** `boolean`

`true` if this accumulator sends its charge percent to circuit network.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaAchievementPrototype

# LuaAchievementPrototype

Prototype of a achievement.

**Parent:** `LuaPrototypeBase`

## Attributes

### allowed_without_fight

**Type:** `boolean` _(read-only)_



### alternative_armor

**Type:** `LuaItemPrototype` _(read-only)_



### ammo_type

**Type:** `LuaItemPrototype` _(read-only)_



### amount

**Type:** `uint` _(read-only)_



### armor

**Type:** `LuaItemPrototype` _(read-only)_



### count

**Type:** `uint` _(read-only)_



### damage_dealer

**Type:** ``LuaEntityPrototype`[]` _(read-only)_



### damage_type

**Type:** `LuaDamagePrototype` _(read-only)_



### dont_build

**Type:** ``LuaEntityPrototype`[]` _(read-only)_



### dont_research

**Type:** ``LuaItemPrototype`[]` _(read-only)_



### excluded

**Type:** ``LuaEntityPrototype`[]` _(read-only)_



### fluid_product

**Type:** `LuaFluidPrototype` _(read-only)_



### in_vehicle

**Type:** `boolean` _(read-only)_



### included

**Type:** ``LuaEntityPrototype`[]` _(read-only)_



### item_product

**Type:** `LuaItemPrototype` _(read-only)_



### last_hour_only

**Type:** `boolean` _(read-only)_



### limit_equip_quality

**Type:** `LuaQualityPrototype` _(read-only)_



### limit_quality

**Type:** `LuaQualityPrototype` _(read-only)_



### limited_to_one_game

**Type:** `boolean` _(read-only)_



### minimum_damage

**Type:** `float` _(read-only)_



### minimum_distance

**Type:** `double` _(read-only)_



### minimum_energy_produced

**Type:** `double` _(read-only)_



### module

**Type:** ``string`[]` _(read-only)_



### more_than_manually

**Type:** `boolean` _(read-only)_



### not_to_kill

**Type:** `LuaEntityPrototype` _(read-only)_



### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### objective_condition

**Type:** `string` _(read-only)_



### personally

**Type:** `boolean` _(read-only)_



### quality

**Type:** `LuaQualityPrototype` _(read-only)_



### research_all

**Type:** `boolean` _(read-only)_



### research_with

**Type:** ``LuaItemPrototype`[]` _(read-only)_



### science_pack

**Type:** `LuaItemPrototype` _(read-only)_



### should_survive

**Type:** `boolean` _(read-only)_



### surface

**Type:** `string` _(read-only)_



### technology

**Type:** `LuaTechnologyPrototype` _(read-only)_



### to_build

**Type:** `LuaEntityPrototype` _(read-only)_



### to_kill

**Type:** ``LuaEntityPrototype`[]` _(read-only)_



### to_use

**Type:** `LuaItemPrototype` _(read-only)_



### type_not_to_kill

**Type:** `string` _(read-only)_



### type_of_dealer

**Type:** `string` _(read-only)_



### type_to_kill

**Type:** `string` _(read-only)_



### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

### within

**Type:** `uint` _(read-only)_

---

## LuaActiveTriggerPrototype

# LuaActiveTriggerPrototype

Prototype of an Active Trigger.

**Parent:** `LuaPrototypeBase`

## Attributes

### fork_chance

**Type:** `double` _(read-only)_

The chance that a new fork will spawn after each jump [0,1]. default = 0.

### jump_delay_ticks

**Type:** `uint` _(read-only)_

The tick delay between each jump. 0 = all jumps instantaneous. default = 0.

### max_forks

**Type:** `uint` _(read-only)_

maximum number of forks allowed to spawn for the entire chain. default = infinity.

### max_forks_per_jump

**Type:** `uint` _(read-only)_

The maximum number of forks that can spawn from a single jump. default = 1.

### max_jumps

**Type:** `uint` _(read-only)_

The max number of jumps per trigger. default = 5.

### max_range

**Type:** `double` _(read-only)_

The max distance jumps are allowed to travel away from the original target. default = infinity.

### max_range_per_jump

**Type:** `double` _(read-only)_

The max length of jumps. default = 5.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaAgriculturalTowerControlBehavior

# LuaAgriculturalTowerControlBehavior

Control behavior for agricultural tower

**Parent:** `LuaGenericOnOffControlBehavior`

## Attributes

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### read_contents

**Type:** `boolean`

`true` if the agricultural tower reads seeds and harvested plants.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaAirbornePollutantPrototype

# LuaAirbornePollutantPrototype

Airborne pollutant prototype.

**Parent:** `LuaPrototypeBase`

## Attributes

### affects_evolution

**Type:** `boolean` _(read-only)_



### chart_color

**Type:** `Color` _(read-only)_



### damages_trees

**Type:** `boolean` _(read-only)_



### localised_name_with_amount_key

**Type:** `string` _(read-only)_



### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaAmmoCategoryPrototype

# LuaAmmoCategoryPrototype

Prototype of a ammo category.

**Parent:** `LuaPrototypeBase`

## Attributes

### bonus_gui_order

**Type:** `string` _(read-only)_



### factoriopedia_alternative

**Type:** `LuaAmmoCategoryPrototype` _(read-only)_

An alternative prototype that will be used to display info about this prototype in Factoriopedia.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaArithmeticCombinatorControlBehavior

# LuaArithmeticCombinatorControlBehavior

Control behavior for arithmetic combinators.

**Parent:** `LuaCombinatorControlBehavior`

## Attributes

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### parameters

**Type:** `ArithmeticCombinatorParameters`

This arithmetic combinator's parameters. Writing `nil` clears the combinator's parameters.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaArtilleryTurretControlBehavior

# LuaArtilleryTurretControlBehavior

Control behavior for artillery turrets.

**Parent:** `LuaGenericOnOffControlBehavior`

## Attributes

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### read_ammo

**Type:** `boolean`

`true` if the turret will send the ammunition or fluid it contains to the circuit network.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaAssemblingMachineControlBehavior

# LuaAssemblingMachineControlBehavior

Control behavior for assembling machines.

**Parent:** `LuaGenericOnOffControlBehavior`

## Attributes

### circuit_read_contents

**Type:** `boolean`

`true` if the assembling machine reads its ingredients contents, product contents, materials in crafting and trash inventories.

### circuit_read_ingredients

**Type:** `boolean`

`true` if the assembling machine outputs ingredients of current recipe as a signals to circuit network.

### circuit_read_recipe_finished

**Type:** `boolean`

`true` if the the assembling machine sends a signal when the recipe finishes.

### circuit_read_working

**Type:** `boolean`

`true` if the the assembling machine sends a signal when it is working.

### circuit_recipe_finished_signal

**Type:** `SignalID`

The signal sent when the assembling machine finishes a recipe.

### circuit_set_recipe

**Type:** `boolean`

`true` if the assembling machine sets its recipe from the circuit network.

### circuit_working_signal

**Type:** `SignalID`

The signal sent when the assembling machine is working.

### include_fuel

**Type:** `boolean`

`true` if the read contents should include fuel (content of energy source)

### include_in_crafting

**Type:** `boolean`

`true` if the read contents should include items in crafting.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaAsteroidChunkPrototype

# LuaAsteroidChunkPrototype

Prototype of an asteroid chunk.

**Parent:** `LuaPrototypeBase`

## Attributes

### factoriopedia_alternative

**Type:** `LuaAsteroidChunkPrototype` _(read-only)_

An alternative prototype that will be used to display info about this prototype in Factoriopedia.

### hide_from_signal_gui

**Type:** `boolean` _(read-only)_



### item_signal_alias

**Type:** `LuaItemPrototype` _(read-only)_



### mineable_properties

**Type:** `MineableProperties` _(read-only)_



### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaAsteroidCollectorControlBehavior

# LuaAsteroidCollectorControlBehavior

Control behavior for asteroid collectors.

**Parent:** `LuaGenericOnOffControlBehavior`

## Attributes

### include_hands

**Type:** `boolean`

`true` if read contents should include content of hands (items that were captured but are not yet in the asteroid collector's main inventory).

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### read_content

**Type:** `boolean`

`true` if this asteroid collector reads its content and sends it to a circuit network

### set_filter

**Type:** `boolean`

`true` if this asteroid collector has filters set from circuit network

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaAutoplaceControlPrototype

# LuaAutoplaceControlPrototype

Prototype of an autoplace control.

**Parent:** `LuaPrototypeBase`

## Attributes

### can_be_disabled

**Type:** `boolean` _(read-only)_



### category

**Type:**  _(read-only)_

Category name of this prototype.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### richness

**Type:** `boolean` _(read-only)_



### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaBootstrap

# LuaBootstrap

Entry point for registering event handlers. It is accessible through the global object named `script`.

## Methods

### generate_event_name

Generate a new, unique event ID that can be used to raise custom events with [LuaBootstrap::raise_event](runtime:LuaBootstrap::raise_event).

**Returns:**

- `defines.events`: The newly generated event ID. This will be a new value that does not correspond to any named entry in defines.events.

### get_event_filter

Gets the filters for the given event.

**Parameters:**

- `event` `LuaEventType`: ID of the event to get.

**Returns:**

- `EventFilter`: The filters or `nil` if none are defined.

### get_event_handler

Find the event handler for an event.

**Parameters:**

- `event` `LuaEventType`: The event identifier to get a handler for.

**Returns:**

- `function`: Reference to the function currently registered as the handler, if it was found.

### get_event_id

Converts LuaEventType into related value of defines.events. Value will be provided also if event was not given a constant inside of defines.events.

**Parameters:**

- `event` `LuaEventType`: 

**Returns:**

- `defines.events`: 

### get_event_order

Gets the mod event order as a string.

**Returns:**

- `string`: 

### on_configuration_changed

Register a function to be run when mod configuration changes.

This is called when the game version or any mod version changed, when any mod was added or removed, when a startup setting has changed, when any prototypes have been added or removed, or when a migration was applied. It allows the mod to make any changes it deems appropriate to both the data structures in its [storage](runtime:storage) table or to the game state through [LuaGameScript](runtime:LuaGameScript).

For more context, refer to the [Data Lifecycle](runtime:data-lifecycle) page.

**Parameters:**

- `handler` : The handler for this event. Passing `nil` will unregister it.

### on_event

Register a handler to run on the specified event(s). Each mod can only register once for every event, as any additional registration will overwrite the previous one. This holds true even if different filters are used for subsequent registrations.

**Parameters:**

- `event` : The event(s) or custom-input to invoke the handler on.
- `filters` `EventFilter` _(optional)_: The filters for this event. Can only be used when registering for individual events.
- `handler` : The handler for this event. Passing `nil` will unregister it.

### on_init

Register a function to be run on mod initialization.

This is only called when a new save game is created or when a save file is loaded that previously didn't contain the mod. During it, the mod gets the chance to set up initial values that it will use for its lifetime. It has full access to [LuaGameScript](runtime:LuaGameScript) and the [storage](runtime:storage) table and can change anything about them that it deems appropriate. No other events will be raised for the mod until it has finished this step.

For more context, refer to the [Data Lifecycle](runtime:data-lifecycle) page.

**Parameters:**

- `handler` : The handler for this event. Passing `nil` will unregister it.

### on_load

Register a function to be run on save load. This is only called for mods that have been part of the save previously, or for players connecting to a running multiplayer session.

It gives the mod the opportunity to rectify potential differences in local state introduced by the save/load cycle. Doing anything other than the following three will lead to desyncs, breaking multiplayer and replay functionality. Access to [LuaGameScript](runtime:LuaGameScript) is not available. The [storage](runtime:storage) table can be accessed and is safe to read from, but not write to, as doing so will lead to an error.

The only legitimate uses of this event are these:

- Re-setup [metatables](https://www.lua.org/pil/13.html) as they are not persisted through the save/load cycle.

- Re-setup conditional event handlers, meaning subscribing to an event only when some condition is met to save processing time.

- Create local references to data stored in the [storage](runtime:storage) table.

For all other purposes, [LuaBootstrap::on_init](runtime:LuaBootstrap::on_init), [LuaBootstrap::on_configuration_changed](runtime:LuaBootstrap::on_configuration_changed) or [migrations](runtime:migrations) should be used instead.

For more context, refer to the [Data Lifecycle](runtime:data-lifecycle) page.

**Parameters:**

- `handler` : The handler for this event. Passing `nil` will unregister it.

### on_nth_tick

Register a handler to run every nth-tick(s). When the game is on tick 0 it will trigger all registered handlers.

**Parameters:**

- `handler` : The handler to run. Passing `nil` will unregister it for the provided nth-tick(s).
- `tick` : The nth-tick(s) to invoke the handler on. Passing `nil` as the only parameter will unregister all nth-tick handlers.

### raise_biter_base_built



**Parameters:**

- `entity` `LuaEntity`: The entity that was built.

### raise_console_chat



**Parameters:**

- `message` `string`: The chat message to send.
- `player_index` `uint`: The player doing the chatting.

### raise_event

Raise an event. Only events generated with [LuaBootstrap::generate_event_name](runtime:LuaBootstrap::generate_event_name) and the following can be raised:

**Parameters:**

- `data` `table`: Table with extra data that will be passed to the event handler. Any invalid LuaObjects will silently stop the event from being raised.
- `event` `LuaEventType`: ID or name of the event to raise.

### raise_market_item_purchased



**Parameters:**

- `count` `uint`: The amount of offers purchased.
- `market` `LuaEntity`: The market entity.
- `offer_index` `uint`: The index of the offer purchased.
- `player_index` `uint`: The player who did the purchasing.

### raise_player_crafted_item



**Parameters:**

- `item_stack` `LuaItemStack`: The item that has been crafted.
- `player_index` `uint`: The player doing the crafting.
- `recipe` `RecipeID`: The recipe used to craft this item.

### raise_player_fast_transferred



**Parameters:**

- `entity` `LuaEntity`: The entity transferred from or to.
- `from_player` `boolean`: Whether the transfer was from player to entity. If `false`, the transfer was from entity to player.
- `is_split` `boolean`: Whether the transfer was a split action (half stack).
- `player_index` `uint`: The player transferred from or to.

### raise_script_built



**Parameters:**

- `entity` `LuaEntity`: The entity that has been built.

### raise_script_destroy



**Parameters:**

- `entity` `LuaEntity`: The entity that was destroyed.

### raise_script_revive



**Parameters:**

- `entity` `LuaEntity`: The entity that was revived.
- `tags` `Tags` _(optional)_: The tags associated with this entity, if any.

### raise_script_set_tiles



**Parameters:**

- `surface_index` `uint`: The surface whose tiles have been changed.
- `tiles` ``Tile`[]`: The tiles that have been changed.

### raise_script_teleported



**Parameters:**

- `entity` `LuaEntity`: The entity that was teleported.
- `old_position` `MapPosition`: The entity's position before the teleportation.
- `old_surface_index` `uint8`: The entity's surface before the teleportation.

### register_metatable

Register a metatable to have linkage recorded and restored when saving/loading.

The metatable itself will not be saved. Instead, only the linkage to a registered metatable is saved, and the metatable registered under that name will be used when loading the table.

`register_metatable()` can not be used in the console, in event listeners or during a `remote.call()`.

The metatable first needs to be defined in the mod's root scope, then registered using this method. From then on, it will be properly restored for tables in [storage](runtime:storage).

```
local metatable =
{
  __index = function(key)
    return "no value for key " .. key
  end
}
script.register_metatable("my_metatable", metatable)
```

This previously defined `metatable` can then be set on any table as usual:

```
local table = {key="value"}
setmetatable(table, metatable)
```

**Parameters:**

- `metatable` `table`: The metatable to register.
- `name` `string`: The name of this metatable. Names must be unique per mod.

### register_on_object_destroyed

Registers an object so that after it's destroyed, [on_object_destroyed](runtime:on_object_destroyed) is called.

Once an object is registered, it stays registered until it is actually destroyed, even through save/load cycles. The registration is global across all mods, meaning once one mod registers an object, all mods listening to [on_object_destroyed](runtime:on_object_destroyed) will receive the event when it is destroyed. Registering the same object multiple times will still only fire the destruction event once, and will return the same registration number.

Depending on when a given object is destroyed, [on_object_destroyed](runtime:on_object_destroyed) will either be fired at the end of the current tick or at the end of the next tick.

**Parameters:**

- `object` `RegistrationTarget`: The object to register.

**Returns:**

- `uint64`: The registration number. It is used to identify the object in the [on_object_destroyed](runtime:on_object_destroyed) event.
- `uint64`: The [useful identifier](runtime:RegistrationTarget) of the object if it has one. This identifier is specific to the object type, for example for trains it is the value [LuaTrain::id](runtime:LuaTrain::id).
- `defines.target_type`: Type of the target object.

### set_event_filter

Sets the filters for the given event. The filters are only retained when set after the actual event registration, because registering for an event with different or no filters will overwrite previously set ones.

Limit the [on_marked_for_deconstruction](runtime:on_marked_for_deconstruction) event to only be received when a non-ghost entity is marked for deconstruction.

```
script.set_event_filter(defines.events.on_marked_for_deconstruction, {{filter = "ghost", invert = true}})
```

Limit the [on_built_entity](runtime:on_built_entity) event to only be received when either a `unit` or a `unit-spawner` is built.

```
script.set_event_filter(defines.events.on_built_entity, {{filter = "type", type = "unit"}, {filter = "type", type = "unit-spawner"}})
```

Limit the [on_entity_damaged](runtime:on_entity_damaged) event to only be received when a `rail` is damaged by an `acid` attack.

```
script.set_event_filter(defines.events.on_entity_damaged, {{filter = "rail"}, {filter = "damage-type", type = "acid", mode = "and"}})
```

**Parameters:**

- `event` `LuaEventType`: ID of the event to filter.
- `filters` `EventFilter` _(optional)_: The filters or `nil` to clear them.

## Attributes

### active_mods

**Type:** `dictionary<`string`, `string`>` _(read-only)_

A dictionary listing the names of all currently active mods and mapping them to their version.

### feature_flags

**Type:** `unknown` _(read-only)_

A dictionary of feature flags mapping to whether they are enabled.

### level

**Type:** `unknown` _(read-only)_

Information about the currently running scenario/campaign/tutorial.

### mod_name

**Type:** `string` _(read-only)_

The name of the mod from the environment this is used in.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

---

## LuaBurner

# LuaBurner

A reference to the burner energy source owned by a specific [LuaEntity](runtime:LuaEntity) or [LuaEquipment](runtime:LuaEquipment).

## Attributes

### burnt_result_inventory

**Type:** `LuaInventory` _(read-only)_

The burnt result inventory.

### currently_burning

**Type:** `ItemIDAndQualityIDPair`

The currently burning item. Writing `nil` will void the currently burning item without producing a [LuaBurner::burnt_result](runtime:LuaBurner::burnt_result).

Writing to this automatically handles correcting [LuaBurner::remaining_burning_fuel](runtime:LuaBurner::remaining_burning_fuel).

### fuel_categories

**Type:** `dictionary<`string`, `True`>` _(read-only)_

The fuel categories this burner uses.

The value in the dictionary is meaningless and exists just to allow for easy lookup.

### heat

**Type:** `double`

The current heat (energy) stored in this burner.

### heat_capacity

**Type:** `double` _(read-only)_

The maximum heat (maximum energy) that this burner can store.

### inventory

**Type:** `LuaInventory` _(read-only)_

The fuel inventory.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### owner

**Type:**  _(read-only)_

The owner of this burner energy source

### remaining_burning_fuel

**Type:** `double`

The amount of energy left in the currently-burning fuel item.

Writing to this will silently do nothing if there's no [LuaBurner::currently_burning](runtime:LuaBurner::currently_burning) set.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaBurnerPrototype

# LuaBurnerPrototype

Prototype of a burner energy source.

## Attributes

### burnt_inventory_size

**Type:** `uint` _(read-only)_



### effectivity

**Type:** `double` _(read-only)_



### emissions_per_joule

**Type:** `dictionary<`string`, `double`>` _(read-only)_

The table of emissions of this energy source in `pollution/Joule`, indexed by pollutant type. Multiplying it by energy consumption in `Watt` gives `pollution/second`.

### fuel_categories

**Type:** `dictionary<`string`, `True`>` _(read-only)_

The value in the dictionary is meaningless and exists just to allow for easy lookup.

### fuel_inventory_size

**Type:** `uint` _(read-only)_



### initial_fuel

**Type:** `LuaItemPrototype` _(read-only)_



### initial_fuel_percent

**Type:** `double` _(read-only)_



### light_flicker

**Type:** `unknown` _(read-only)_

The light flicker definition for this burner prototype.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### render_no_network_icon

**Type:** `boolean` _(read-only)_



### render_no_power_icon

**Type:** `boolean` _(read-only)_



### smoke

**Type:** ``SmokeSource`[]` _(read-only)_

The smoke sources for this burner prototype.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaBurnerUsagePrototype

# LuaBurnerUsagePrototype

Description of burner usage.

**Parent:** `LuaPrototypeBase`

## Attributes

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaCargoHatch

# LuaCargoHatch

A cargo hatch.

## Methods

### create_cargo_pod

Creates a cargo pod for output at the owning entity hatch location.

**Returns:**

- `LuaEntity`: 

## Attributes

### busy

**Type:** `boolean` _(read-only)_



### is_input_compatible

**Type:** `boolean` _(read-only)_



### is_output_compatible

**Type:** `boolean` _(read-only)_



### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### owner

**Type:** `LuaEntity` _(read-only)_



### reserved

**Type:** `boolean` _(read-only)_



### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaCargoLandingPadControlBehavior

# LuaCargoLandingPadControlBehavior

Control behavior for cargo landing pad.

**Parent:** `LuaControlBehavior`

## Attributes

### circuit_exclusive_mode_of_operation

**Type:** `defines.control_behavior.cargo_landing_pad.exclusive_mode`

The circuit mode of operations for the cargo landing pad.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaChunkIterator

# LuaChunkIterator

A chunk iterator can be used for iterating chunks coordinates of a surface.

The returned type is a [ChunkPositionAndArea](runtime:ChunkPositionAndArea) containing the chunk coordinates and its area.

## Attributes

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaCircuitNetwork

# LuaCircuitNetwork

A circuit network associated with a given entity, connector, and wire type.

## Methods

### get_signal



**Parameters:**

- `signal` `SignalID`: The signal to read.

**Returns:**

- `int`: The current value of the signal.

## Attributes

### connected_circuit_count

**Type:** `uint` _(read-only)_

The number of circuits connected to this network.

### entity

**Type:** `LuaEntity` _(read-only)_

The entity this circuit network reference is associated with.

### network_id

**Type:** `uint` _(read-only)_

The circuit networks ID.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### signals

**Type:** ``Signal`[]` _(read-only)_

The circuit network signals last tick. `nil` if there were no signals last tick.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

### wire_connector_id

**Type:** `defines.wire_connector_id` _(read-only)_

Wire connector ID on associated entity this network was gotten from.

### wire_type

**Type:** `defines.wire_type` _(read-only)_

The wire type this network is associated with.

---

## LuaCollisionLayerPrototype

# LuaCollisionLayerPrototype

Prototype of a collision layer.

**Parent:** `LuaPrototypeBase`

## Attributes

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaCombinatorControlBehavior

# LuaCombinatorControlBehavior



**Parent:** `LuaControlBehavior`

## Methods

### get_signal_last_tick

Gets the value of a specific signal sent by this combinator behavior last tick or `nil` if the signal didn't exist.

**Parameters:**

- `signal` `SignalID`: The signal to get

**Returns:**

- `int`: 

## Attributes

### signals_last_tick

**Type:** ``Signal`[]` _(read-only)_

The circuit network signals sent by this combinator last tick.

---

## LuaCommandProcessor

# LuaCommandProcessor

Allows for the registration of custom console commands through the global object named `commands`. Similarly to [event subscriptions](runtime:LuaBootstrap::on_event), these don't persist through a save-and-load cycle.

## Methods

### add_command

Add a custom console command.

Trying to add a command with the `name` of a game command or the name of a custom command that is already in use will result in an error.

This example command will register a custom event called `print_tick` that prints the current tick to either the player issuing the command or to everyone on the server, depending on the command parameter:

```
commands.add_command("print_tick", nil, function(command)
  if command.player_index ~= nil and command.parameter == "me" then
    game.get_player(command.player_index).print(command.tick)
  else
    game.print(command.tick)
  end
end)
```

This shows the usage of the table that gets passed to any function handling a custom command. This specific example makes use of the `tick` and the optional `player_index` and `parameter` fields. The user is supposed to either call it without any parameter (`"/print_tick"`) or with the `"me"` parameter (`"/print_tick me"`).

**Parameters:**

- `function` `function`: The function that will be called when this command is invoked.
- `help` `LocalisedString`: The localised help message. It will be shown to players using the `/help` command.
- `name` `string`: The desired name of the command (case sensitive).

### remove_command

Remove a custom console command.

**Parameters:**

- `name` `string`: The name of the command to remove (case sensitive).

**Returns:**

- `boolean`: Whether the command was successfully removed. Returns `false` if the command didn't exist.

## Attributes

### commands

**Type:** `dictionary<`string`, `LocalisedString`>` _(read-only)_

Lists the custom commands registered by scripts through `LuaCommandProcessor`.

### game_commands

**Type:** `dictionary<`string`, `LocalisedString`>` _(read-only)_

Lists the built-in commands of the core game. The [wiki](https://wiki.factorio.com/Console) has an overview of these.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

---

## LuaCommandable

# LuaCommandable

AI object which can be ordered commands. This can represent a UnitGroup (a set of multiple commandables) or can be a single Unit, SpiderUnit or other commandable entity.

## Methods

### add_member

Adds a member to this UnitGroup. Has the same effect as setting defines.command.group command on the member to join the group.

The member must have the same force be on the same surface as the group.

**Parameters:**

- `member` : 

### destroy

Destroys this commandable. If it is a unit group, members will not be destroyed, they will be merely unlinked from the group.

### release_from_spawner

Release the commandable from the spawner. This allows the spawner to continue spawning additional units.

### set_autonomous

Make this group autonomous. Autonomous groups will automatically attack polluted areas. Autonomous groups aren't considered to be [script-driven](runtime:LuaCommandable::is_script_driven).

### set_command

Give this commandable a command.

**Parameters:**

- `command` `Command`: 

### set_distraction_command

Give this commandable a distraction command.

**Parameters:**

- `command` `Command`: 

### start_moving

Make the group start moving even if some of its members haven't yet arrived.

## Attributes

### command

**Type:** `Command` _(read-only)_

The command of this commandable, if any.

### commandable_members

**Type:** ``LuaCommandable`[]` _(read-only)_

Non recursively returns all members of this unit group.

### distraction_command

**Type:** `Command` _(read-only)_

The distraction command of this commandable, if any.

### entity

**Type:** `LuaEntity` _(read-only)_

Returns entity object for this commandable.

### force

**Type:** `LuaForce` _(read-only)_

The force of this commandable.

### has_command

**Type:** `boolean` _(read-only)_

If this commandable has a command assigned.

### is_entity

**Type:** `boolean` _(read-only)_

If this commandable is Entity.

### is_script_driven

**Type:** `boolean` _(read-only)_

Whether this unit group is controlled by a script or by the game engine. This can be changed using [LuaCommandable::set_autonomous](runtime:LuaCommandable::set_autonomous). Units created by [LuaSurface::create_unit_group](runtime:LuaSurface::create_unit_group) are considered script-driven.

### is_unit_group

**Type:** `boolean` _(read-only)_

If this commandable is UnitGroup.

### members

**Type:** ``LuaEntity`[]` _(read-only)_

All entity members of this unit group, recursive (if unit group is member of this unit group, its members will be returned here).

### moving_state

**Type:** `defines.moving_state` _(read-only)_

Current moving state of the commandable's behavior

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### parent_group

**Type:** `LuaCommandable` _(read-only)_

The unit group this commandable is a member of, if any.

### position

**Type:** `MapPosition` _(read-only)_

Current position of this commandable.

If commandable is a UnitGroup, this can have different meanings depending on the group state. When the group is gathering, the position is the place of gathering. When the group is moving, the position is the expected position of its members along the path. When the group is attacking, it is the average position of its members.

### spawner

**Type:** `LuaEntity` _(read-only)_

The spawner associated with this commandable, if any.

### state

**Type:** `defines.group_state` _(read-only)_

Whether this group is gathering, moving or attacking.

### surface

**Type:** `LuaSurface` _(read-only)_

Surface this commandable is on.

### unique_id

**Type:** `uint` _(read-only)_

Unique identifier of this commandable.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaConstantCombinatorControlBehavior

# LuaConstantCombinatorControlBehavior

Control behavior for constant combinators.

**Parent:** `LuaControlBehavior`

## Methods

### add_section

Adds a new logistic section to this constant combinator if possible.

**Parameters:**

- `group` `string` _(optional)_: The group to assign this section to.

**Returns:**

- `LuaLogisticSection`: Logistic section if added.

### get_section

Gets section on the selected index, if it exists.

**Parameters:**

- `section_index` `uint`: Index of the section.

**Returns:**

- `LuaLogisticSection`: 

### remove_section

Removes the given logistic section if possible. Removal may fail if the section index is out of range or the section is not [manual](runtime:LuaLogisticSection::is_manual).

**Parameters:**

- `section_index` `uint`: Index of the section.

**Returns:**

- `boolean`: Whether section was removed.

## Attributes

### enabled

**Type:** `boolean`

Turns this constant combinator on and off.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### sections

**Type:** ``LuaLogisticSection`[]` _(read-only)_

All logistic sections of this constant combinator.

### sections_count

**Type:** `uint` _(read-only)_

Amount of logistic sections this constant combinator has.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaContainerControlBehavior

# LuaContainerControlBehavior

Control behavior for container entities.

**Parent:** `LuaControlBehavior`

## Attributes

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### read_contents

**Type:** `boolean`

`true` if this container is sending its content to a circuit network

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaControl

# LuaControl

This is an abstract base class containing the common functionality between [LuaPlayer](runtime:LuaPlayer) and entities (see [LuaEntity](runtime:LuaEntity)). When accessing player-related functions through a [LuaEntity](runtime:LuaEntity), it must refer to a character entity.

## Methods

### begin_crafting

Begins crafting the given count of the given recipe.

**Parameters:**

- `count` `uint`: The count to craft.
- `recipe` `RecipeID`: The recipe to craft.
- `silent` `boolean` _(optional)_: If false and the recipe can't be crafted the requested number of times printing the failure is skipped.

**Returns:**

- `uint`: The count that was actually started crafting.

### can_insert

Can at least some items be inserted?

**Parameters:**

- `items` `ItemStackIdentification`: Items that would be inserted.

**Returns:**

- `boolean`: `true` if at least a part of the given items could be inserted into this inventory.

### can_reach_entity

Can a given entity be opened or accessed?

**Parameters:**

- `entity` `LuaEntity`: 

**Returns:**

- `boolean`: 

### cancel_crafting

Cancels crafting the given count of the given crafting queue index.

**Parameters:**

- `count` `uint`: The count to cancel crafting.
- `index` `uint`: The crafting queue index.

### clear_gui_arrow

Removes the arrow created by `set_gui_arrow`.

### clear_items_inside

Remove all items from this entity.

### clear_selected_entity

Unselect any selected entity.

### close_factoriopedia_gui

Closes the Factoriopedia GUI if it's open.

### disable_flashlight

Disable the flashlight.

Applied per controller. Only supported by [defines.controllers.character](runtime:defines.controllers.character) and [defines.controllers.remote](runtime:defines.controllers.remote).

### enable_flashlight

Enable the flashlight.

Applied per controller. Only supported by [defines.controllers.character](runtime:defines.controllers.character) and [defines.controllers.remote](runtime:defines.controllers.remote).

### get_craftable_count

Gets the count of the given recipe that can be crafted.

**Parameters:**

- `recipe` `RecipeID`: The recipe.

**Returns:**

- `uint`: The count that can be crafted.

### get_inventory

Get an inventory belonging to this entity. This can be either the "main" inventory or some auxiliary one, like the module slots or logistic trash slots.

A given [defines.inventory](runtime:defines.inventory) is only meaningful for the corresponding LuaObject type. EG: get_inventory(defines.inventory.character_main) is only meaningful if 'this' is a player character. You may get a value back but if the type of 'this' isn't the type referred to by the [defines.inventory](runtime:defines.inventory) it's almost guaranteed to not be the inventory asked for.

**Parameters:**

- `inventory` `defines.inventory`: 

**Returns:**

- `LuaInventory`: The inventory or `nil` if none with the given index was found.

### get_inventory_name

Get name of inventory. Names match keys of [defines.inventory](runtime:defines.inventory).

**Parameters:**

- `inventory` `defines.inventory`: 

**Returns:**

- `string`: 

### get_item_count

Get the number of all or some items in this entity.

**Parameters:**

- `item` `ItemFilter` _(optional)_: The item to count. If not specified, count all items.

**Returns:**

- `uint`: 

### get_main_inventory

Gets the main inventory for this character or player if this is a character or player.

**Returns:**

- `LuaInventory`: The inventory or `nil` if this entity is not a character or player.

### get_max_inventory_index

The highest index of all inventories this entity can use. Allows iteration over all of them if desired.

**Returns:**

- `defines.inventory`: 

### get_requester_point

Gets the requester logistic point for this entity if it has one.

**Returns:**

- `LuaLogisticPoint`: 

### has_items_inside

Does this entity have any item inside it?

**Returns:**

- `boolean`: 

### insert

Insert items into this entity. This works the same way as inserters or shift-clicking: the "best" inventory is chosen automatically.

**Parameters:**

- `items` `ItemStackIdentification`: The items to insert.

**Returns:**

- `uint`: The number of items that were actually inserted.

### is_cursor_blueprint

Returns whether the player is holding a blueprint. This takes both blueprint items as well as blueprint records from the blueprint library into account.

Note that both this method refers to the currently selected blueprint, which means that a blueprint book with a selected blueprint will return the information as well.

**Returns:**

- `boolean`: 

### is_cursor_empty

Returns whether the player is holding something in the cursor. Takes into account items from the blueprint library, as well as items and ghost cursor.

**Returns:**

- `boolean`: 

### is_flashlight_enabled

Is the flashlight enabled for the current controller. Only supported by [defines.controllers.character](runtime:defines.controllers.character) and [defines.controllers.remote](runtime:defines.controllers.remote).

**Returns:**

- `boolean`: 

### is_player

When `true` control adapter is a LuaPlayer object, `false` for entities including characters with players.

**Returns:**

- `boolean`: 

### mine_entity

Mines the given entity as if this player (or character) mined it.

**Parameters:**

- `entity` `LuaEntity`: The entity to mine
- `force` `boolean` _(optional)_: Forces mining the entity even if the items can't fit in the player.

**Returns:**

- `boolean`: Whether the mining succeeded.

### mine_tile

Mines the given tile as if this player (or character) mined it.

**Parameters:**

- `tile` `LuaTile`: The tile to mine.

**Returns:**

- `boolean`: Whether the mining succeeded.

### open_factoriopedia_gui

Open the Factoriopedia GUI and select a given entry, if any valid ID is given.

**Parameters:**

- `prototype` `FactoriopediaID` _(optional)_: 

### open_technology_gui

Open the technology GUI and select a given technology.

**Parameters:**

- `technology` `TechnologyID` _(optional)_: The technology to select after opening the GUI.

### remove_item

Remove items from this entity.

**Parameters:**

- `items` `ItemStackIdentification`: The items to remove.

**Returns:**

- `uint`: The number of items that were actually removed.

### set_driving

Sets if this character or player is driving. Returns if the player or character is still driving.

**Parameters:**

- `driving` `boolean`: True for enter-vehicle, false for leave.
- `force` `boolean` _(optional)_: If true, the player will be ejected and left at the position of the car if normal "leave" is not possible.

### set_gui_arrow

Create an arrow which points at this entity. This is used in the tutorial. For examples, see `control.lua` in the campaign missions.

**Parameters:**

- `margin` `uint`: 
- `type` `GuiArrowType`: Where to point to. This field determines what other fields are mandatory.

### teleport

Teleport the entity to a given position, possibly on another surface.

Some entities may not be teleported. For instance, transport belts won't allow teleportation and this method will always return `false` when used on any such entity.

You can also pass 1 or 2 numbers as the parameters and they will be used as relative teleport coordinates `'teleport(0, 1)'` to move the entity 1 tile positive y. `'teleport(4)'` to move the entity 4 tiles to the positive x.

`script_raised_teleported` will not be raised if teleporting a player with no character.

**Parameters:**

- `build_check_type` `defines.build_check_type` _(optional)_: The build check type done when teleporting to the destination. Defaults to `script`. This is ignored when teleporting between surfaces.
- `position` `MapPosition`: Where to teleport to.
- `raise_teleported` `boolean` _(optional)_: If true, [defines.events.script_raised_teleported](runtime:defines.events.script_raised_teleported) will be fired on successful entity teleportation.
- `snap_to_grid` `boolean` _(optional)_: If false the exact position given is used to instead of snapping to the normal entity grid. This only applies if the entity normally snaps to the grid.
- `surface` `SurfaceIdentification` _(optional)_: Surface to teleport to. If not given, will teleport to the entity's current surface. Only players, cars, and spidertrons can be teleported cross-surface.

**Returns:**

- `boolean`: `true` if the entity was successfully teleported.

### update_selected_entity

Select an entity, as if by hovering the mouse above it.

**Parameters:**

- `position` `MapPosition`: Position of the entity to select.

## Attributes

### build_distance

**Type:** `uint` _(read-only)_

The build distance of this character or max uint when not a character or player connected to a character.

### cargo_pod

**Type:** `LuaEntity` _(read-only)_

The cargo pod the player is currently sitting in or the cargo pod attached to this rocket silo.

### character_additional_mining_categories

**Type:** ``string`[]`

When called on a [LuaPlayer](runtime:LuaPlayer), it must be associated with a character (see [LuaPlayer::character](runtime:LuaPlayer::character)).

### character_build_distance_bonus

**Type:** `uint`

When called on a [LuaPlayer](runtime:LuaPlayer), it must be associated with a character (see [LuaPlayer::character](runtime:LuaPlayer::character)).

### character_crafting_speed_modifier

**Type:** `double`

When called on a [LuaPlayer](runtime:LuaPlayer), it must be associated with a character (see [LuaPlayer::character](runtime:LuaPlayer::character)).

### character_health_bonus

**Type:** `float`

When called on a [LuaPlayer](runtime:LuaPlayer), it must be associated with a character (see [LuaPlayer::character](runtime:LuaPlayer::character)).

### character_inventory_slots_bonus

**Type:** `uint`

When called on a [LuaPlayer](runtime:LuaPlayer), it must be associated with a character (see [LuaPlayer::character](runtime:LuaPlayer::character)).

### character_item_drop_distance_bonus

**Type:** `uint`

When called on a [LuaPlayer](runtime:LuaPlayer), it must be associated with a character (see [LuaPlayer::character](runtime:LuaPlayer::character)).

### character_item_pickup_distance_bonus

**Type:** `uint`

When called on a [LuaPlayer](runtime:LuaPlayer), it must be associated with a character (see [LuaPlayer::character](runtime:LuaPlayer::character)).

### character_loot_pickup_distance_bonus

**Type:** `uint`

When called on a [LuaPlayer](runtime:LuaPlayer), it must be associated with a character (see [LuaPlayer::character](runtime:LuaPlayer::character)).

### character_maximum_following_robot_count_bonus

**Type:** `uint`

When called on a [LuaPlayer](runtime:LuaPlayer), it must be associated with a character (see [LuaPlayer::character](runtime:LuaPlayer::character)).

### character_mining_progress

**Type:** `double` _(read-only)_

The current mining progress between 0 and 1 of this character, or 0 if they aren't mining.

### character_mining_speed_modifier

**Type:** `double`

When called on a [LuaPlayer](runtime:LuaPlayer), it must be associated with a character (see [LuaPlayer::character](runtime:LuaPlayer::character)).

### character_reach_distance_bonus

**Type:** `uint`

When called on a [LuaPlayer](runtime:LuaPlayer), it must be associated with a character (see [LuaPlayer::character](runtime:LuaPlayer::character)).

### character_resource_reach_distance_bonus

**Type:** `uint`

When called on a [LuaPlayer](runtime:LuaPlayer), it must be associated with a character (see [LuaPlayer::character](runtime:LuaPlayer::character)).

### character_running_speed

**Type:** `double` _(read-only)_

The current movement speed of this character, including effects from exoskeletons, tiles, stickers and shooting.

### character_running_speed_modifier

**Type:** `double`

Modifies the running speed of this character by the given value as a percentage. Setting the running modifier to `0.5` makes the character run 50% faster. The minimum value of `-1` reduces the movement speed by 100%, resulting in a speed of `0`.

When called on a [LuaPlayer](runtime:LuaPlayer), it must be associated with a character (see [LuaPlayer::character](runtime:LuaPlayer::character)).

### character_trash_slot_count_bonus

**Type:** `uint`

When called on a [LuaPlayer](runtime:LuaPlayer), it must be associated with a character (see [LuaPlayer::character](runtime:LuaPlayer::character)).

### cheat_mode

**Type:** `boolean`

When `true` hand crafting is free and instant.

### crafting_queue

**Type:** ``CraftingQueueItem`[]` _(read-only)_

The current crafting queue items.

### crafting_queue_progress

**Type:** `double`

The crafting queue progress in the range `[0-1]`. `0` when no recipe is being crafted.

### crafting_queue_size

**Type:** `uint` _(read-only)_

Size of the crafting queue.

### cursor_ghost

**Type:** `ItemIDAndQualityIDPair`

The ghost prototype in the player's cursor.

Items in the cursor stack will take priority over the cursor ghost.

### cursor_record

**Type:** `LuaRecord` _(read-only)_

The blueprint record in the player's cursor.

### cursor_stack

**Type:** `LuaItemStack` _(read-only)_

The player's cursor stack. `nil` if the player controller is a spectator.

### driving

**Type:** `boolean`

`true` if the player is in a vehicle. Writing to this attribute puts the player in or out of a vehicle.

### drop_item_distance

**Type:** `uint` _(read-only)_

The item drop distance of this character or max uint when not a character or player connected to a character.

### following_robots

**Type:** ``LuaEntity`[]` _(read-only)_

The current combat robots following the character.

When called on a [LuaPlayer](runtime:LuaPlayer), it must be associated with a character (see [LuaPlayer::character](runtime:LuaPlayer::character)).

### force

**Type:** `LuaForce`

The force of this entity. Reading will always give a [LuaForce](runtime:LuaForce), but it is possible to assign either [string](runtime:string), [uint8](runtime:uint8) or [LuaForce](runtime:LuaForce) to this attribute to change the force.

### force_index

**Type:** `uint` _(read-only)_

Unique [index](runtime:LuaForce::index) (ID) associated with the force of this entity.

### hub

**Type:** `LuaEntity` _(read-only)_

The space platform hub the player is currently sitting in.

### in_combat

**Type:** `boolean` _(read-only)_

Whether this character entity is in combat.

### item_pickup_distance

**Type:** `double` _(read-only)_

The item pickup distance of this character or max double when not a character or player connected to a character.

### loot_pickup_distance

**Type:** `double` _(read-only)_

The loot pickup distance of this character or max double when not a character or player connected to a character.

### mining_state

**Type:** `unknown`

Current mining state.

When the player isn't mining tiles the player will mine whatever entity is currently selected. See [LuaControl::selected](runtime:LuaControl::selected) and [LuaControl::update_selected_entity](runtime:LuaControl::update_selected_entity).

### opened

**Type:** 

The GUI the player currently has open.

This is the GUI that will asked to close (by firing the [on_gui_closed](runtime:on_gui_closed) event) when the `Esc` or `E` keys are pressed. If this attribute is non-nil, then writing `nil` or a new GUI to it will ask the existing GUI to close.

Write supports any of the types. Read will return the `entity`, `equipment`, `equipment-grid`, `player`, `element`, `inventory`, `item` or `nil`.

### opened_gui_type

**Type:** `defines.gui_type` _(read-only)_



### picking_state

**Type:** `boolean`

Current item-picking state.

### position

**Type:** `MapPosition` _(read-only)_

The current position of the entity.

### reach_distance

**Type:** `uint` _(read-only)_

The reach distance of this character or max uint when not a character or player connected to a character.

### repair_state

**Type:** `unknown`

Current repair state.

### resource_reach_distance

**Type:** `double` _(read-only)_

The resource reach distance of this character or max double when not a character or player connected to a character.

### riding_state

**Type:** `RidingState`

Current riding state of this car, or of the car this player is riding in.

### selected

**Type:** `LuaEntity`

The currently selected entity. Assigning an entity will select it if is selectable, otherwise the selection is cleared.

### shooting_state

**Type:** `unknown`

Current shooting state.

### surface

**Type:** `LuaSurface` _(read-only)_

The surface this entity is currently on.

### surface_index

**Type:** `uint` _(read-only)_

Unique [index](runtime:LuaSurface::index) (ID) associated with the surface this entity is currently on.

### vehicle

**Type:** `LuaEntity` _(read-only)_

The vehicle the player is currently sitting in.

### walking_state

**Type:** `unknown`

Current walking state of the player, or the spider-vehicle the character is driving.

---

## LuaControlBehavior

# LuaControlBehavior

The control behavior for an entity. Inserters have logistic network and circuit network behavior logic, lamps have circuit logic and so on. This is an abstract base class that concrete control behaviors inherit.

An control reference becomes invalid once the control behavior is removed or the entity (see [LuaEntity](runtime:LuaEntity)) it resides in is destroyed.

## Methods

### get_circuit_network



**Parameters:**

- `wire_connector_id` `defines.wire_connector_id`: Wire connector to get circuit network for.

**Returns:**

- `LuaCircuitNetwork`: The circuit network or nil.

## Attributes

### entity

**Type:** `LuaEntity` _(read-only)_

The entity this control behavior belongs to.

### type

**Type:** `defines.control_behavior.type` _(read-only)_

The concrete type of this control behavior.

---

## LuaCustomChartTag

# LuaCustomChartTag

A custom tag that shows on the map view.

## Methods

### destroy

Destroys this tag.

## Attributes

### force

**Type:** `LuaForce` _(read-only)_

The force this tag belongs to.

### icon

**Type:** `SignalID`

This tag's icon, if it has one. Writing `nil` removes it.

### last_user

**Type:** `LuaPlayer`

The player who last edited this tag.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### position

**Type:** `MapPosition` _(read-only)_

The position of this tag.

### surface

**Type:** `LuaSurface` _(read-only)_

The surface this tag belongs to.

### tag_number

**Type:** `uint` _(read-only)_

The unique ID for this tag on this force.

### text

**Type:** `string`



### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaCustomEventPrototype

# LuaCustomEventPrototype

Prototype of a custom event.

**Parent:** `LuaPrototypeBase`

## Attributes

### event_id

**Type:** `defines.events` _(read-only)_

Event identifier associated with this custom event.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaCustomInputPrototype

# LuaCustomInputPrototype

Prototype of a custom input.

**Parent:** `LuaPrototypeBase`

## Attributes

### action

**Type:** `string` _(read-only)_

The action that happens when this custom input is triggered.

### alternative_key_sequence

**Type:** `string` _(read-only)_

The default alternative key sequence for this custom input, if any

### consuming

**Type:**  _(read-only)_

The consuming type.

### controller_alternative_key_sequence

**Type:** `string` _(read-only)_

The default controller alternative key sequence for this custom input, if any

### controller_key_sequence

**Type:** `string` _(read-only)_

The default controller key sequence for this custom input, if any

### enabled

**Type:** `boolean` _(read-only)_

Whether this custom input is enabled. Disabled custom inputs exist but are not used by the game.

### enabled_while_in_cutscene

**Type:** `boolean` _(read-only)_

Whether this custom input is enabled while using the cutscene controller.

### enabled_while_spectating

**Type:** `boolean` _(read-only)_

Whether this custom input is enabled while using the spectator controller.

### event_id

**Type:** `defines.events` _(read-only)_

Event identifier associated with this custom input.

### include_selected_prototype

**Type:** `boolean` _(read-only)_

Whether this custom input will include the selected prototype (if any) when triggered.

### item_to_spawn

**Type:** `LuaItemPrototype` _(read-only)_

The item that gets spawned when this custom input is fired, if any.

### key_sequence

**Type:** `string` _(read-only)_

The default key sequence for this custom input.

### linked_game_control

**Type:** `LinkedGameControl` _(read-only)_

The linked game control name, if any.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaCustomTable

# LuaCustomTable

Lazily evaluated table. For performance reasons, we sometimes return a custom table-like type instead of a native Lua table. This custom type lazily constructs the necessary Lua wrappers of the corresponding C++ objects, therefore preventing their unnecessary construction in some cases.

There are some notable consequences to the usage of a custom table type rather than the native Lua table type: Iterating a custom table is only possible using the `pairs` Lua function; `ipairs` won't work. Another key difference is that custom tables cannot be serialised into a game save file -- if saving the game would require serialisation of a custom table, an error will be displayed and the game will not be saved.

In previous versions of Factorio, this would create a [LuaPlayer](runtime:LuaPlayer) instance for every player in the game, even though only one such wrapper is needed. In the current version, accessing [game.players](runtime:LuaGameScript::players) by itself does not create any [LuaPlayer](runtime:LuaPlayer) instances; they are created lazily when accessed. Therefore, this example only constructs one [LuaPlayer](runtime:LuaPlayer) instance, no matter how many elements there are in `game.players`.

```
game.players["Oxyd"].character.die()
```

This statement will execute successfully and `storage.p` will be useable as one might expect. However, as soon as the user tries to save the game, a "LuaCustomTable cannot be serialized" error will be shown. The game will remain unsaveable so long as `storage.p` refers to an instance of a custom table.

```
storage.p = game.players  -- This has high potential to make the game unsaveable
```

The following will produce no output because `ipairs` is not supported with custom tables.

```
for _, p in ipairs(game.players) do game.player.print(p.name); end  -- incorrect; use pairs instead
```

## Attributes

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaDamagePrototype

# LuaDamagePrototype

Prototype of a damage.

**Parent:** `LuaPrototypeBase`

## Attributes

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaDeciderCombinatorControlBehavior

# LuaDeciderCombinatorControlBehavior

Control behavior for decider combinators.

**Parent:** `LuaCombinatorControlBehavior`

## Methods

### add_condition

Adds a new condition.

**Parameters:**

- `condition` `DeciderCombinatorCondition`: New condition to insert.
- `index` `uint` _(optional)_: Index to insert new condition at. If not specified, appends to the end.

### add_output

Adds a new output.

**Parameters:**

- `index` `uint` _(optional)_: Index to insert new output at. If not specified, appends to the end.
- `output` `DeciderCombinatorOutput`: New output to insert.

### get_condition

Gets the condition at `index`.

**Parameters:**

- `index` `uint`: Index of condition to get.

**Returns:**

- `DeciderCombinatorCondition`: 

### get_output

Gets the output at `index`.

**Parameters:**

- `index` `uint`: Index of output to get.

**Returns:**

- `DeciderCombinatorOutput`: 

### remove_condition

Removes the condition at `index`.

**Parameters:**

- `index` `uint`: Index of condition to remove.

### remove_output

Removes the output at `index`.

**Parameters:**

- `index` `uint`: Index of output to remove.

### set_condition

Sets the condition at `index`.

**Parameters:**

- `condition` `DeciderCombinatorCondition`: Data to set selected condition to.
- `index` `uint`: Index of condition to modify.

### set_output

Sets the output at `index`.

**Parameters:**

- `index` `uint`: Index of output to modify.
- `output` `DeciderCombinatorOutput`: Data to set selected output to.

## Attributes

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### parameters

**Type:** `DeciderCombinatorParameters`

This decider combinator's parameters. Writing `nil` clears the combinator's parameters.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaDecorativePrototype

# LuaDecorativePrototype

Prototype of an optimized decorative.

**Parent:** `LuaPrototypeBase`

## Attributes

### autoplace_specification

**Type:** `AutoplaceSpecification` _(read-only)_

Autoplace specification for this decorative prototype, if any.

### collision_box

**Type:** `BoundingBox` _(read-only)_

The bounding box used for collision checking.

### collision_mask

**Type:** `CollisionMask` _(read-only)_

The collision masks this decorative uses

### decal

**Type:** `boolean` _(read-only)_



### grows_through_rail_path

**Type:** `boolean` _(read-only)_



### minimal_separation

**Type:** `double` _(read-only)_



### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### placed_effect

**Type:** ``TriggerEffectItem`[]` _(read-only)_



### render_layer

**Type:** `string` _(read-only)_



### target_count

**Type:** `uint` _(read-only)_



### trigger_effect

**Type:** ``TriggerEffectItem`[]` _(read-only)_



### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaDisplayPanelControlBehavior

# LuaDisplayPanelControlBehavior

Control behavior for display panels.

**Parent:** `LuaControlBehavior`

## Methods

### get_message

Get a specific message definition

**Parameters:**

- `index` `uint`: Message index.

**Returns:**

- `DisplayPanelMessageDefinition`: The message definition at the specified index.

### set_message

Set the message at the specified index

**Parameters:**

- `index` `uint`: Message index. Use `-1` to append new element.
- `message` `DisplayPanelMessageDefinition`: The message definition for the specified index. Specify `nil` to remove the message.

## Attributes

### messages

**Type:** ``DisplayPanelMessageDefinition`[]`

The full list of configured messages.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaElectricEnergySourcePrototype

# LuaElectricEnergySourcePrototype

Prototype of an electric energy source.

## Methods

### get_input_flow_limit



**Parameters:**

- `quality` `QualityID` _(optional)_: 

**Returns:**

- `double`: 

### get_output_flow_limit



**Parameters:**

- `quality` `QualityID` _(optional)_: 

**Returns:**

- `double`: 

## Attributes

### buffer_capacity

**Type:** `double` _(read-only)_



### drain

**Type:** `double` _(read-only)_



### emissions_per_joule

**Type:** `dictionary<`string`, `double`>` _(read-only)_

The table of emissions of this energy source in `pollution/Joule`, indexed by pollutant type. Multiplying it by energy consumption in `Watt` gives `pollution/second`.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### render_no_network_icon

**Type:** `boolean` _(read-only)_



### render_no_power_icon

**Type:** `boolean` _(read-only)_



### usage_priority

**Type:** `string` _(read-only)_



### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaEntity

# LuaEntity

The primary interface for interacting with entities through the Lua API. Entities are everything that exists on the map except for tiles (see [LuaTile](runtime:LuaTile)).

Most functions on LuaEntity also work when the entity is contained in a ghost.

**Parent:** `LuaControl`

## Methods

### add_autopilot_destination

Adds the given position to this spidertron's autopilot's queue of destinations.

**Parameters:**

- `position` `MapPosition`: The position the spidertron should move to.

### add_market_item

Offer a thing on the market.

**Parameters:**

- `offer` `Offer`: 

### can_be_destroyed

Whether the entity can be destroyed

**Returns:**

- `boolean`: 

### can_shoot

Whether this character can shoot the given entity or position.

**Parameters:**

- `position` `MapPosition`: 
- `target` `LuaEntity`: 

**Returns:**

- `boolean`: 

### can_wires_reach

Can wires reach between these entities.

**Parameters:**

- `entity` `LuaEntity`: 

**Returns:**

- `boolean`: 

### cancel_deconstruction

Cancels deconstruction if it is scheduled, does nothing otherwise.

**Parameters:**

- `force` `ForceID`: The force who did the deconstruction order.
- `player` `PlayerIdentification` _(optional)_: The player to set the `last_user` to if any.

### cancel_upgrade

Cancels upgrade if it is scheduled, does nothing otherwise.

**Parameters:**

- `force` `ForceID`: The force who did the upgrade order.
- `player` `PlayerIdentification` _(optional)_: The player to set the last_user to if any.

**Returns:**

- `boolean`: Whether the cancel was successful.

### clear_fluid_inside

Remove all fluids from this entity.

### clear_market_items

Removes all offers from a market.

### clone

Clones this entity.

**Parameters:**

- `create_build_effect_smoke` `boolean` _(optional)_: If false, the building effect smoke will not be shown around the new entity.
- `force` `ForceID` _(optional)_: 
- `position` `MapPosition`: The destination position
- `surface` `LuaSurface` _(optional)_: The destination surface

**Returns:**

- `LuaEntity`: The cloned entity or `nil` if this entity can't be cloned/can't be cloned to the given location.

### connect_linked_belts

Connects current linked belt with another one.

Neighbours have to be of different type. If given linked belt is connected to something else it will be disconnected first. If provided neighbour is connected to something else it will also be disconnected first. Automatically updates neighbour to be connected back to this one.

Can also be used on entity ghost if it contains linked-belt.

**Parameters:**

- `neighbour` `LuaEntity` _(optional)_: Another linked belt or entity ghost containing linked belt to connect or nil to disconnect

### connect_rolling_stock

Connects the rolling stock in the given direction.

**Parameters:**

- `direction` `defines.rail_direction`: 

**Returns:**

- `boolean`: Whether any connection was made

### copy_settings

Copies settings from the given entity onto this entity.

**Parameters:**

- `by_player` `PlayerIdentification` _(optional)_: If provided, the copying is done 'as' this player and [on_entity_settings_pasted](runtime:on_entity_settings_pasted) is triggered.
- `entity` `LuaEntity`: 

**Returns:**

- ``ItemWithQualityCounts`[]`: Any items removed from this entity as a result of copying the settings.

### create_build_effect_smoke

Creates the same smoke that is created when you place a building by hand.

You can play the building sound to go with it by using [LuaSurface::play_sound](runtime:LuaSurface::play_sound), eg: `entity.surface.play_sound{path="entity-build/"..entity.prototype.name, position=entity.position}`

### create_cargo_pod

Creates a cargo pod if possible.

Cargo pod will be created with [invalid](runtime:defines.cargo_destination.invalid) destination type. Setting [cargo_pod_destination](runtime:LuaEntity::cargo_pod_destination) will cause it to launch.

**Parameters:**

- `cargo_hatch` `LuaCargoHatch` _(optional)_: The hatch to create the pod at. A random (available) one is picked if not provided.

**Returns:**

- `LuaEntity`: 

### damage

Damages the entity.

**Parameters:**

- `cause` `LuaEntity` _(optional)_: The entity that originally triggered the events that led to this damage being dealt (e.g. the character, turret, enemy, etc. that pulled the trigger). Does not need to be on the same surface as the entity being damaged.
- `damage` `float`: The amount of damage to be done.
- `force` `ForceID`: The force that will be doing the damage.
- `source` `LuaEntity` _(optional)_: The entity that is directly dealing the damage (e.g. the projectile, flame, sticker, grenade, laser beam, etc.). Needs to be on the same surface as the entity being damaged.
- `type` `DamageTypeID` _(optional)_: The type of damage to be done, defaults to `"impact"`.

**Returns:**

- `float`: the total damage actually applied after resistances.

### deplete

Depletes and destroys this resource entity.

### destroy

Destroys the entity.

Not all entities can be destroyed - things such as rails under trains cannot be destroyed until the train is moved or destroyed.

**Parameters:**

- `do_cliff_correction` `boolean` _(optional)_: Whether neighbouring cliffs should be corrected. Defaults to `false`.
- `item_index` `uint` _(optional)_: The index of the undo item to add this action to. An index of `0` creates a new undo item for it. Defaults to putting it into the appropriate undo item automatically if not specified.
- `player` `PlayerIdentification` _(optional)_: The player whose undo queue this action should be added to.
- `raise_destroy` `boolean` _(optional)_: If `true`, [script_raised_destroy](runtime:script_raised_destroy) will be called. Defaults to `false`.

**Returns:**

- `boolean`: Returns `false` if the entity was valid and destruction failed, `true` in all other cases.

### die

Immediately kills the entity. Does nothing if the entity doesn't have health.

Unlike [LuaEntity::destroy](runtime:LuaEntity::destroy), `die` will trigger the [on_entity_died](runtime:on_entity_died) event and the entity will produce a corpse and drop loot if it has any.

**Parameters:**

- `cause` `LuaEntity` _(optional)_: The cause to attribute the kill to.
- `force` `ForceID` _(optional)_: The force to attribute the kill to.

**Returns:**

- `boolean`: Whether the entity was successfully killed.

### disconnect_linked_belts

Disconnects linked belt from its neighbour.

Can also be used on entity ghost if it contains linked-belt

### disconnect_rolling_stock

Tries to disconnect this rolling stock in the given direction.

**Parameters:**

- `direction` `defines.rail_direction`: 

**Returns:**

- `boolean`: If anything was disconnected

### force_finish_ascending

Take an ascending cargo pod and safely make it skip all animation and immediately switch surface.

### force_finish_descending

Take a descending cargo pod and safely make it arrive and deposit cargo.

### get_beacon_effect_receivers

Returns a table with all entities affected by this beacon

**Returns:**

- ``LuaEntity`[]`: 

### get_beacons

Returns a table with all beacons affecting this effect receiver. Can only be used when the entity has an effect receiver (AssemblingMachine, Furnace, Lab, MiningDrills)

**Returns:**

- ``LuaEntity`[]`: 

### get_beam_source

Get the source of this beam.

**Returns:**

- `BeamTarget`: 

### get_beam_target

Get the target of this beam.

**Returns:**

- `BeamTarget`: 

### get_burnt_result_inventory

The burnt result inventory for this entity or `nil` if this entity doesn't have a burnt result inventory.

**Returns:**

- `LuaInventory`: 

### get_cargo_bays

Gets the cargo bays connected to this cargo landing pad or space platform hub.

**Returns:**

- ``LuaEntity`[]`: 

### get_child_signals

Returns all child signals. Child signals can be either RailSignal or RailChainSignal. Child signals are signals which are checked by this signal to determine a chain state.

**Returns:**

- ``LuaEntity`[]`: 

### get_circuit_network



**Parameters:**

- `wire_connector_id` `defines.wire_connector_id`: Wire connector to get circuit network for.

**Returns:**

- `LuaCircuitNetwork`: The circuit network or nil.

### get_connected_rail



**Parameters:**

- `rail_connection_direction` `defines.rail_connection_direction`: 
- `rail_direction` `defines.rail_direction`: 

**Returns:**

- `LuaEntity`: Rail connected in the specified manner to this one, `nil` if unsuccessful.
- `defines.rail_direction`: Rail direction of the returned rail which points to origin rail
- `defines.rail_connection_direction`: Turn to be taken when going back from returned rail to origin rail

### get_connected_rails

Get the rails that this signal is connected to.

**Returns:**

- ``LuaEntity`[]`: 

### get_connected_rolling_stock

Gets rolling stock connected to the given end of this stock.

**Parameters:**

- `direction` `defines.rail_direction`: 

**Returns:**

- `LuaEntity`: The rolling stock connected at the given end, `nil` if none is connected there.
- `defines.rail_direction`: The rail direction of the connected rolling stock if any.

### get_control_behavior

Gets the control behavior of the entity (if any).

**Returns:**

- `LuaControlBehavior`: The control behavior or `nil`.

### get_damage_to_be_taken

Returns the amount of damage to be taken by this entity.

**Returns:**

- `float`: `nil` if this entity does not have health.

### get_driver

Gets the driver of this vehicle if any.

**Returns:**

- : `nil` if the vehicle contains no driver. To check if there's a passenger see [LuaEntity::get_passenger](runtime:LuaEntity::get_passenger).

### get_electric_input_flow_limit

The input flow limit for the electric energy source. `nil` if the entity doesn't have an electric energy source.

**Parameters:**

- `quality` `QualityID` _(optional)_: 

**Returns:**

- `double`: 

### get_electric_output_flow_limit

The output flow limit for the electric energy source. `nil` if the entity doesn't have an electric energy source.

**Parameters:**

- `quality` `QualityID` _(optional)_: 

**Returns:**

- `double`: 

### get_filter

Get the filter for a slot in an inserter, loader, mining drill, asteroid collector, or logistic storage container. The entity must allow filters.

**Parameters:**

- `slot_index` `uint`: Index of the slot to get the filter for.

**Returns:**

- : The filter, or `nil` if the given slot has no filter.

### get_fluid

Gets fluid of the i-th fluid storage.

**Parameters:**

- `index` `uint`: Fluid storage index. Valid values are from 1 up to [LuaEntity::fluids_count](runtime:LuaEntity::fluids_count).

**Returns:**

- `Fluid`: Fluid in this storage. nil if fluid storage is empty.

### get_fluid_contents

Get amounts of all fluids in this entity.

If information about fluid temperatures is required, [LuaEntity::fluidbox](runtime:LuaEntity::fluidbox) should be used instead.

**Returns:**

- `dictionary<`string`, `double`>`: The amounts, indexed by fluid names.

### get_fluid_count

Get the amount of all or some fluid in this entity.

If information about fluid temperatures is required, [LuaEntity::fluidbox](runtime:LuaEntity::fluidbox) should be used instead.

**Parameters:**

- `fluid` `string` _(optional)_: Prototype name of the fluid to count. If not specified, count all fluids.

**Returns:**

- `double`: 

### get_fluid_source_fluid

Checks what is expected fluid to be produced from the offshore pump's source tile. It accounts for visible tile, hidden tile and double hidden tile. It ignores currently set fluid box filter.

**Returns:**

- `string`: Name of fluid that should be produced by this offshore pump based on existing tiles.

### get_fluid_source_tile

Gives TilePosition of a tile which this offshore pump uses to check what fluid should be produced.

**Returns:**

- `TilePosition`: 

### get_fuel_inventory

The fuel inventory for this entity or `nil` if this entity doesn't have a fuel inventory.

**Returns:**

- `LuaInventory`: 

### get_health_ratio

The health ratio of this entity between 1 and 0 (for full health and no health respectively).

**Returns:**

- `float`: `nil` if this entity doesn't have health.

### get_heat_setting

Gets the heat setting for this heat interface.

**Returns:**

- `HeatSetting`: 

### get_inbound_signals

Returns all signals guarding entrance to a rail block this rail belongs to.

**Returns:**

- ``LuaEntity`[]`: 

### get_infinity_container_filter

Gets the filter for this infinity container at the given index, or `nil` if the filter index doesn't exist or is empty.

**Parameters:**

- `index` `uint`: The index to get.

**Returns:**

- `InfinityInventoryFilter`: 

### get_infinity_pipe_filter

Gets the filter for this infinity pipe, or `nil` if the filter is empty.

**Returns:**

- `InfinityPipeFilter`: 

### get_inventory_size_override

Gets the inventory size override of the selected inventory if size override was set using [set_inventory_size_override](runtime:LuaEntity::set_inventory_size_override).

**Parameters:**

- `inventory_index` `defines.inventory`: 

**Returns:**

- `uint16`: 

### get_item_insert_specification

Get an item insert specification onto a belt connectable: for a given map position provides into which line at what position item should be inserted to be closest to the provided position.

**Parameters:**

- `position` `MapPosition`: Position where the item is to be inserted.

**Returns:**

- `uint`: Index of the transport line that is closest to the provided map position.
- `float`: Position along the transport line where item should be dropped.

### get_line_item_position

Get a map position related to a position on a transport line.

**Parameters:**

- `index` `uint`: Index of the transport line. Transport lines are 1-indexed.
- `position` `float`: Linear position along the transport line. Clamped to the transport line range.

**Returns:**

- `MapPosition`: 

### get_logistic_point

Gets all the `LuaLogisticPoint`s that this entity owns. Optionally returns only the point specified by the index parameter.

**Parameters:**

- `index` `defines.logistic_member_index` _(optional)_: If provided, this method only returns the `LuaLogisticPoint` specified by this index, or `nil` if it doesn't exist.

**Returns:**

- : 

### get_logistic_sections

Gives logistic sections of this entity if it uses logistic sections.

**Returns:**

- `LuaLogisticSections`: 

### get_market_items

Get all offers in a market as an array.

**Returns:**

- ``Offer`[]`: 

### get_max_transport_line_index

Get the maximum transport line index of a belt or belt connectable entity.

**Returns:**

- `uint`: 

### get_module_inventory

Inventory for storing modules of this entity; `nil` if this entity has no module inventory.

**Returns:**

- `LuaInventory`: 

### get_or_create_control_behavior

Gets (and or creates if needed) the control behavior of the entity.

**Returns:**

- `LuaControlBehavior`: The control behavior or `nil`.

### get_outbound_signals

Returns all signals guarding exit from a rail block this rail belongs to.

**Returns:**

- ``LuaEntity`[]`: 

### get_output_inventory

Gets the entity's output inventory if it has one.

**Returns:**

- `LuaInventory`: A reference to the entity's output inventory.

### get_parent_signals

Returns all parent signals. Parent signals are always RailChainSignal. Parent signals are those signals that are checking state of this signal to determine their own chain state.

**Returns:**

- ``LuaEntity`[]`: 

### get_passenger

Gets the passenger of this car, spidertron, or cargo pod if any.

This differs over [LuaEntity::get_driver](runtime:LuaEntity::get_driver) in that for cars, the passenger can't drive the car.

**Returns:**

- : `nil` if the vehicle contains no passenger. To check if there's a driver see [LuaEntity::get_driver](runtime:LuaEntity::get_driver).

### get_priority_target

Get the entity ID at the specified position in the turret's priority list.

**Parameters:**

- `index` `uint`: The index of the entry to fetch.

**Returns:**

- `LuaEntityPrototype`: 

### get_radius

The radius of this entity.

**Returns:**

- `double`: 

### get_rail_end

Gets a LuaRailEnd object for specified end of this rail

**Parameters:**

- `direction` `defines.rail_direction`: 

**Returns:**

- `LuaRailEnd`: 

### get_rail_segment_end

Get the rail at the end of the rail segment this rail is in.

A rail segment is a continuous section of rail with no branches, signals, nor train stops.

**Parameters:**

- `direction` `defines.rail_direction`: 

**Returns:**

- `LuaEntity`: The rail entity.
- `defines.rail_direction`: A rail direction pointing out of the rail segment from the end rail.

### get_rail_segment_length

Get the length of the rail segment this rail is in.

A rail segment is a continuous section of rail with no branches, signals, nor train stops.

**Returns:**

- `double`: 

### get_rail_segment_overlaps

Get a rail from each rail segment that overlaps with this rail's rail segment.

A rail segment is a continuous section of rail with no branches, signals, nor train stops.

**Returns:**

- ``LuaEntity`[]`: 

### get_rail_segment_rails

Get all rails of a rail segment this rail is in

A rail segment is a continuous section of rail with no branches, signals, nor train stops.

**Parameters:**

- `direction` `defines.rail_direction`: Selects end of this rail that points to a rail segment end from which to start returning rails

**Returns:**

- ``LuaEntity`[]`: Rails of this rail segment

### get_rail_segment_signal

Get the rail signal at the start/end of the rail segment this rail is in.

A rail segment is a continuous section of rail with no branches, signals, nor train stops.

**Parameters:**

- `direction` `defines.rail_direction`: The direction of travel relative to this rail.
- `in_else_out` `boolean`: If true, gets the signal at the entrance of the rail segment, otherwise gets the signal at the exit of the rail segment.

**Returns:**

- `LuaEntity`: `nil` if the rail segment doesn't start/end with a signal.

### get_rail_segment_stop

Get train stop at the start/end of the rail segment this rail is in.

A rail segment is a continuous section of rail with no branches, signals, nor train stops.

**Parameters:**

- `direction` `defines.rail_direction`: The direction of travel relative to this rail.

**Returns:**

- `LuaEntity`: `nil` if the rail segment doesn't start/end with a train stop.

### get_recipe

Current recipe being assembled by this machine, if any.

**Returns:**

- `LuaRecipe`: 
- `LuaQualityPrototype`: 

### get_signal

Read a single signal from the selected wire connector

**Parameters:**

- `extra_wire_connector_id` `defines.wire_connector_id` _(optional)_: Additional wire connector ID. If specified, signal will be added to the result
- `signal` `SignalID`: The signal to read.
- `wire_connector_id` `defines.wire_connector_id`: Wire connector ID from which to get the signal

**Returns:**

- `int`: The current value of the signal.

### get_signals

Read all signals from the selected wire connector.

**Parameters:**

- `extra_wire_connector_id` `defines.wire_connector_id` _(optional)_: Additional wire connector ID. If specified, signals will be added to the result
- `wire_connector_id` `defines.wire_connector_id`: Wire connector ID from which to get the signal

**Returns:**

- ``Signal`[]`: Current values of all signals.

### get_spider_legs

Gets legs of given SpiderVehicle.

**Returns:**

- ``LuaEntity`[]`: 

### get_stopped_train

The train currently stopped at this train stop, if any.

**Returns:**

- `LuaTrain`: 

### get_train_stop_trains

The trains scheduled to stop at this train stop.

**Returns:**

- ``LuaTrain`[]`: 

### get_transport_line

Get a transport line of a belt or belt connectable entity.

**Parameters:**

- `index` `uint`: Index of the requested transport line. Transport lines are 1-indexed.

**Returns:**

- `LuaTransportLine`: 

### get_upgrade_target

Returns the new entity prototype and its quality.

**Returns:**

- `LuaEntityPrototype`: `nil` if this entity is not marked for upgrade.
- `LuaQualityPrototype`: `nil` if this entity is not marked for upgrade.

### get_wire_connector

Gets a single wire connector of this entity

**Parameters:**

- `or_create` `boolean`: If true and connector does not exist, it will be allocated if possible
- `wire_connector_id` `defines.wire_connector_id`: Identifier of a specific connector to get

**Returns:**

- `LuaWireConnector`: 

### get_wire_connectors

Gets all wire connectors of this entity

**Parameters:**

- `or_create` `boolean`: If true, it will try to create all connectors possible

**Returns:**

- `dictionary<`defines.wire_connector_id`, `LuaWireConnector`>`: 

### ghost_has_flag

Same as [LuaEntity::has_flag](runtime:LuaEntity::has_flag), but targets the inner entity on a entity ghost.

**Parameters:**

- `flag` `EntityPrototypeFlag`: The flag to test.

**Returns:**

- `boolean`: `true` if the entity has the given flag set.

### has_flag

Test whether this entity's prototype has a certain flag set.

`entity.has_flag(f)` is a shortcut for `entity.prototype.has_flag(f)`.

**Parameters:**

- `flag` `EntityPrototypeFlag`: The flag to test.

**Returns:**

- `boolean`: `true` if this entity has the given flag set.

### insert_fluid

Insert fluid into this entity. Fluidbox is chosen automatically.

**Parameters:**

- `fluid` `Fluid`: Fluid to insert.

**Returns:**

- `double`: Amount of fluid actually inserted.

### is_closed



**Returns:**

- `boolean`: `true` if this gate is currently closed.

### is_closing



**Returns:**

- `boolean`: `true` if this gate is currently closing

### is_connected_to_electric_network

Returns `true` if this entity produces or consumes electricity and is connected to an electric network that has at least one entity that can produce power.

**Returns:**

- `boolean`: 

### is_crafting

Returns whether a craft is currently in process. It does not indicate whether progress is currently being made, but whether a crafting process has been started in this machine.

**Returns:**

- `boolean`: 

### is_opened



**Returns:**

- `boolean`: `true` if this gate is currently opened.

### is_opening



**Returns:**

- `boolean`: `true` if this gate is currently opening.

### is_rail_in_same_rail_block_as

Checks if this rail and other rail both belong to the same rail block.

**Parameters:**

- `other_rail` `LuaEntity`: 

**Returns:**

- `boolean`: 

### is_rail_in_same_rail_segment_as

Checks if this rail and other rail both belong to the same rail segment.

**Parameters:**

- `other_rail` `LuaEntity`: 

**Returns:**

- `boolean`: 

### is_registered_for_construction

Is this entity or tile ghost or item request proxy registered for construction? If false, it means a construction robot has been dispatched to build the entity, or it is not an entity that can be constructed.

**Returns:**

- `boolean`: 

### is_registered_for_deconstruction

Is this entity registered for deconstruction with this force? If false, it means a construction robot has been dispatched to deconstruct it, or it is not marked for deconstruction. The complexity is effectively O(1) - it depends on the number of objects targeting this entity which should be small enough.

**Parameters:**

- `force` `ForceID`: The force construction manager to check.

**Returns:**

- `boolean`: 

### is_registered_for_repair

Is this entity registered for repair? If false, it means a construction robot has been dispatched to repair it, or it is not damaged. This is worst-case O(N) complexity where N is the current number of things in the repair queue.

**Returns:**

- `boolean`: 

### is_registered_for_upgrade

Is this entity registered for upgrade? If false, it means a construction robot has been dispatched to upgrade it, or it is not marked for upgrade. This is worst-case O(N) complexity where N is the current number of things in the upgrade queue.

**Returns:**

- `boolean`: 

### launch_rocket



**Parameters:**

- `character` `LuaEntity` _(optional)_: If provided, must be of `character` type.
- `destination` `CargoDestination` _(optional)_: 

**Returns:**

- `boolean`: `true` if the rocket was successfully launched. Return value of `false` means the silo is not ready for launch.

### mine

Mines this entity.

'Standard' operation is to keep calling `LuaEntity.mine` with an inventory until all items are transferred and the items dealt with.

The result of mining the entity (the item(s) it produces when mined) will be dropped on the ground if they don't fit into the provided inventory. If no inventory is provided, the items will be destroyed.

**Parameters:**

- `force` `boolean` _(optional)_: If true, when the item(s) don't fit into the given inventory the entity is force mined. If false, the mining operation fails when there isn't enough room to transfer all of the items into the inventory. Defaults to false. This is ignored and acts as `true` if no inventory is provided.
- `ignore_minable` `boolean` _(optional)_: If true, the minable state of the entity is ignored. Defaults to `false`. If false, an entity that isn't minable (set as not-minable in the prototype or isn't minable for other reasons) will fail to be mined.
- `inventory` `LuaInventory` _(optional)_: If provided the item(s) will be transferred into this inventory. If provided, this must be an inventory created with [LuaGameScript::create_inventory](runtime:LuaGameScript::create_inventory) or be a basic inventory owned by some entity.
- `raise_destroyed` `boolean` _(optional)_: If true, [script_raised_destroy](runtime:script_raised_destroy) will be raised. Defaults to `true`.

**Returns:**

- `boolean`: Whether mining succeeded.

### order_deconstruction

Sets the entity to be deconstructed by construction robots.

**Parameters:**

- `force` `ForceID`: The force whose robots are supposed to do the deconstruction.
- `item_index` `uint` _(optional)_: The index of the undo item to add this action to. An index of `0` creates a new undo item for it. An index of `1` adds the action to the latest undo action on the stack. Defaults to putting it into the appropriate undo item automatically if one is not specified.
- `player` `PlayerIdentification` _(optional)_: The player to set the last_user to, if any. Also the player whose undo queue this action should be added to.

**Returns:**

- `boolean`: if the entity was marked for deconstruction.

### order_upgrade

Sets the entity to be upgraded by construction robots.

**Parameters:**

- `force` `ForceID`: The force whose robots are supposed to do the upgrade.
- `item_index` `uint` _(optional)_: The index of the undo item to add this action to. An index of `0` creates a new undo item for it. Defaults to putting it into the appropriate undo item automatically if not specified.
- `player` `PlayerIdentification` _(optional)_: The player whose undo queue this action should be added to.
- `target` `EntityWithQualityID`: The prototype of the entity to upgrade to.

**Returns:**

- `boolean`: Whether the entity was marked for upgrade.

### play_note

Plays a note with the given instrument and note.

**Parameters:**

- `instrument` `uint`: 
- `note` `uint`: 
- `stop_playing_sounds` `boolean` _(optional)_: 

**Returns:**

- `boolean`: Whether the request is valid. The sound may or may not be played depending on polyphony settings.

### release_from_spawner

Release the unit from the spawner which spawned it. This allows the spawner to continue spawning additional units.

### remove_fluid

Remove fluid from this entity.

If temperature is given only fluid matching that exact temperature is removed. If minimum and maximum is given fluid within that range is removed.

**Parameters:**

- `amount` `double`: Amount to remove
- `maximum_temperature` `double` _(optional)_: 
- `minimum_temperature` `double` _(optional)_: 
- `name` `string`: Fluid prototype name.
- `temperature` `double` _(optional)_: 

**Returns:**

- `double`: Amount of fluid actually removed.

### remove_market_item

Remove an offer from a market.

The other offers are moved down to fill the gap created by removing the offer, which decrements the overall size of the offer array.

**Parameters:**

- `offer` `uint`: Index of offer to remove.

**Returns:**

- `boolean`: `true` if the offer was successfully removed; `false` when the given index was not valid.

### request_to_close



**Parameters:**

- `force` `ForceID`: The force that requests the gate to be closed.

### request_to_open



**Parameters:**

- `extra_time` `uint` _(optional)_: Extra ticks to stay open.
- `force` `ForceID`: The force that requests the gate to be open.

### revive

Revive a ghost, which turns it from a ghost into a real entity or tile.

**Parameters:**

- `raise_revive` `boolean` _(optional)_: If true, and an entity ghost; [script_raised_revive](runtime:script_raised_revive) will be called. Else if true, and a tile ghost; [script_raised_set_tiles](runtime:script_raised_set_tiles) will be called.
- `return_item_request_proxy` `boolean` _(optional)_: If `true` the function will return item request proxy as the third return value.

**Returns:**

- `dictionary<`string`, `uint`>`: Any items the new real entity collided with or `nil` if the ghost could not be revived.
- `LuaEntity`: The revived entity if an entity ghost was successfully revived.
- `LuaEntity`: The item request proxy if it was requested with `return_item_request_proxy`.

### rotate

Rotates this entity as if the player rotated it.

**Parameters:**

- `by_player` `PlayerIdentification` _(optional)_: 
- `reverse` `boolean` _(optional)_: If `true`, rotate the entity in the counter-clockwise direction.

**Returns:**

- `boolean`: Whether the rotation was successful.

### set_beam_source

Set the source of this beam.

**Parameters:**

- `source` : 

### set_beam_target

Set the target of this beam.

**Parameters:**

- `target` : 

### set_driver

Sets the driver of this vehicle.

This differs from [LuaEntity::set_passenger](runtime:LuaEntity::set_passenger) in that the passenger can't drive the vehicle.

**Parameters:**

- `driver`  _(optional)_: The new driver. Writing `nil` ejects the current driver, if any.

### set_filter

Set the filter for a slot in an inserter (ItemFilter), loader (ItemFilter), mining drill (EntityID), asteroid collector (AsteroidChunkID) or logistic storage container (ItemWithQualityID). The entity must allow filters.

**Parameters:**

- `filter`  _(optional)_: The item or entity to filter, or `nil` to clear the filter.
- `index` `uint`: Index of the slot to set the filter for.

### set_fluid

Sets fluid to the i-th fluid storage.

Fluid storages that are part of FluidBoxes (also available through [LuaFluidBox](runtime:LuaFluidBox)) may reject some fluids if they do not match filters or are above the FluidBox volume. To verify how much fluid was set a return value can be used which is the same as value that would be returned by [LuaEntity::get_fluid](runtime:LuaEntity::get_fluid).

**Parameters:**

- `fluid` `Fluid` _(optional)_: Fluid to set. Fluid storage will be cleared if this is not provided.
- `index` `uint`: Fluid storage index. Valid values are from 1 up to [LuaEntity::fluids_count](runtime:LuaEntity::fluids_count).

**Returns:**

- `Fluid`: Fluid in this storage after it was set. nil if fluid storage is empty.

### set_heat_setting

Sets the heat setting for this heat interface.

**Parameters:**

- `filter` `HeatSetting`: The new setting.

### set_infinity_container_filter

Sets the filter for this infinity container at the given index.

**Parameters:**

- `filter` : The new filter, or `nil` to clear the filter.
- `index` `uint`: The index to set.

### set_infinity_pipe_filter

Sets the filter for this infinity pipe.

**Parameters:**

- `filter` : The new filter, or `nil` to clear the filter.

### set_inventory_size_override

Sets inventory size override. When set, supported entity will ignore inventory size from prototype and will instead keep inventory size equal to the override. Setting `nil` will restore default inventory size.

**Parameters:**

- `inventory_index` `defines.inventory`: 
- `overflow` `LuaInventory` _(optional)_: Items that would be deleted due to change of inventory size will be transferred to this inventory. Must be a script inventory or inventory of other entity. Inventory references obtained from proxy container are not allowed.
- `size_override` : 

### set_passenger

Sets the passenger of this car, spidertron, or cargo pod.

This differs from [LuaEntity::get_driver](runtime:LuaEntity::get_driver) in that the passenger can't drive the car.

**Parameters:**

- `passenger`  _(optional)_: The new passenger. Writing `nil` ejects the current passenger, if any.

### set_priority_target

Set the entity ID name at the specified position in the turret's priority list.

**Parameters:**

- `entity_id` `EntityID` _(optional)_: The name of the entity prototype, or `nil` to clear the entry.
- `index` `uint`: The index of the entry to set.

### set_recipe

Sets the given recipe in this assembly machine.

**Parameters:**

- `quality` `QualityID` _(optional)_: The quality. If not provided `normal` is used.
- `recipe` `RecipeID` _(optional)_: The new recipe. Writing `nil` clears the recipe, if any.

**Returns:**

- ``ItemWithQualityCounts`[]`: Any items removed from this entity as a result of setting the recipe.

### silent_revive

Revives a ghost silently, so the revival makes no sound and no smoke is created.

**Parameters:**

- `raise_revive` `boolean` _(optional)_: If true, and an entity ghost; [script_raised_revive](runtime:script_raised_revive) will be called. Else if true, and a tile ghost; [script_raised_set_tiles](runtime:script_raised_set_tiles) will be called.

**Returns:**

- ``ItemWithQualityCounts`[]`: Any items the new real entity collided with or `nil` if the ghost could not be revived.
- `LuaEntity`: The revived entity if an entity ghost was successfully revived.
- `LuaEntity`: The item request proxy.

### spawn_decorations

Triggers spawn_decoration actions defined in the entity prototype or does nothing if entity is not "turret" or "unit-spawner".

### start_fading_out

Only works if the entity is a speech-bubble, with an "effect" defined in its wrapper_flow_style. Starts animating the opacity of the speech bubble towards zero, and destroys the entity when it hits zero.

### stop_spider

Sets the [speed](runtime:LuaEntity::speed) of the given SpiderVehicle to zero. Notably does not clear its [autopilot_destination](runtime:LuaEntity::autopilot_destination), which it will continue moving towards if set.

### supports_backer_name

Whether this entity supports a backer name.

**Returns:**

- `boolean`: 

### to_be_deconstructed

Is this entity marked for deconstruction?

**Returns:**

- `boolean`: 

### to_be_upgraded

Is this entity marked for upgrade?

**Returns:**

- `boolean`: 

### toggle_equipment_movement_bonus

Toggle this entity's equipment movement bonus. Does nothing if the entity does not have an equipment grid.

This property can also be read and written on the equipment grid of this entity.

### update_connections

Reconnect loader, beacon, cliff and mining drill connections to entities that might have been teleported out or in by the script. The game doesn't do this automatically as we don't want to lose performance by checking this in normal games.

## Attributes

### absorbed_pollution

**Type:** `double` _(read-only)_



### active

**Type:** `boolean`

Deactivating an entity will stop all its operations (car will stop moving, inserters will stop working, fish will stop moving etc).

Entities that are not active naturally can't be set to be active (setting it to be active will do nothing)

Ghosts, simple smoke, and corpses can't be modified at this time.

It is even possible to set the character to not be active, so he can't move and perform most of the tasks.

### ai_settings

**Type:** `LuaAISettings` _(read-only)_

The ai settings of this unit.

### alert_parameters

**Type:** `ProgrammableSpeakerAlertParameters`



### allow_dispatching_robots

**Type:** `boolean`

Whether this character's personal roboports are allowed to dispatch robots.

### always_on

**Type:** `boolean`

If the lamp is always on when not driven by control behavior.

### amount

**Type:** `uint`

Count of resource units contained.

### armed

**Type:** `boolean` _(read-only)_

Whether this land mine is armed.

### artillery_auto_targeting

**Type:** `boolean`

If this artillery auto-targets enemies.

### associated_player

**Type:** `LuaPlayer`

The player this character is associated with, if any. Set to `nil` to clear.

The player will be automatically disassociated when a controller is set on the character. Also, all characters associated to a player will be logged off when the player logs off in multiplayer.

A character associated with a player is not directly controlled by any player.

### attached_cargo_pod

**Type:** `LuaEntity` _(read-only)_

The cargo pod attached to this rocket silo rocket if any.

### autopilot_destination

**Type:** `MapPosition`

Destination of this spidertron's autopilot, if any. Writing `nil` clears all destinations.

### autopilot_destinations

**Type:** ``MapPosition`[]` _(read-only)_

The queued destination positions of spidertron's autopilot.

### backer_name

**Type:** `string`

The backer name assigned to this entity. Entities that support backer names are labs, locomotives, radars, roboports, and train stops. `nil` if this entity doesn't support backer names.

While train stops get the name of a backer when placed down, players can rename them if they want to. In this case, `backer_name` returns the player-given name of the entity.

### base_damage_modifiers

**Type:** `TriggerModifierData`



### beacons_count

**Type:** `uint` _(read-only)_

Number of beacons affecting this effect receiver. Can only be used when the entity has an effect receiver (AssemblingMachine, Furnace, Lab, MiningDrills)

### belt_neighbours

**Type:** `unknown` _(read-only)_

The belt connectable neighbours of this belt connectable entity. Only entities that input to or are outputs of this entity. Does not contain the other end of an underground belt, see [LuaEntity::neighbours](runtime:LuaEntity::neighbours) for that.

### belt_shape

**Type:**  _(read-only)_

Gives what is the current shape of a transport-belt.

Can also be used on entity ghost if it contains transport-belt.

### belt_to_ground_type

**Type:**  _(read-only)_

Whether this underground belt goes into or out of the ground.

### bonus_damage_modifiers

**Type:** `TriggerModifierData`



### bonus_mining_progress

**Type:** `double`

The bonus mining progress for this mining drill. Read yields a number in range [0, mining_target.prototype.mineable_properties.mining_time]. `nil` if this isn't a mining drill.

### bonus_progress

**Type:** `double`

The current productivity bonus progress, as a number in range `[0, 1]`.

### bounding_box

**Type:** `BoundingBox` _(read-only)_

[LuaEntityPrototype::collision_box](runtime:LuaEntityPrototype::collision_box) around entity's given position and respecting the current entity orientation.

### burner

**Type:** `LuaBurner` _(read-only)_

The burner energy source for this entity, if any.

### cargo_bay_connection_owner

**Type:** `LuaEntity` _(read-only)_

The space platform hub or cargo landing pad this cargo bay is connected to if any.

### cargo_hatches

**Type:** ``LuaCargoHatch`[]` _(read-only)_

The cargo hatches owned by this entity if any.

### cargo_pod_destination

**Type:** `CargoDestination`

The destination of this cargo pod entity.

Use [force_finish_ascending](runtime:LuaEntity::force_finish_ascending) if you want it to only descend from orbit.

### cargo_pod_origin

**Type:** `LuaEntity`

The origin of this cargo pod entity. (Must be a silo, hub or pad)

### cargo_pod_state

**Type:**  _(read-only)_

The state of this cargo pod entity.

### chain_signal_state

**Type:** `defines.chain_signal_state` _(read-only)_

The state of this chain signal.

### character_corpse_death_cause

**Type:** `LocalisedString`

The reason this character corpse character died. `""` if there is no reason.

### character_corpse_player_index

**Type:** `uint`

The player index associated with this character corpse.

The index is not guaranteed to be valid so it should always be checked first if a player with that index actually exists.

### character_corpse_tick_of_death

**Type:** `uint`

The tick this character corpse died at.

### cliff_orientation

**Type:** `CliffOrientation` _(read-only)_

The orientation of this cliff.

### color

**Type:** `Color`

The color of this character, rolling stock, train stop, car, spider-vehicle, flying text, corpse or simple-entity-with-owner. `nil` if this entity doesn't use custom colors.

Car color is overridden by the color of the current driver/passenger, if there is one.

### combat_robot_owner

**Type:** `LuaEntity`

The owner of this combat robot, if any.

### combinator_description

**Type:** `string`

The description on this combinator.

### commandable

**Type:** `LuaCommandable` _(read-only)_

Returns a LuaCommandable for this entity or nil if entity is not commandable.

### connected_rail

**Type:** `LuaEntity` _(read-only)_

The rail entity this train stop is connected to, if any.

### connected_rail_direction

**Type:** `defines.rail_direction` _(read-only)_

Rail direction to which this train stop is binding. This returns a value even when no rails are present.

### consumption_bonus

**Type:** `double` _(read-only)_

The consumption bonus of this entity.

### consumption_modifier

**Type:** `float`

Multiplies the energy consumption.

### copy_color_from_train_stop

**Type:** `boolean`

If this RollingStock has 'copy color from train stop' enabled.

### corpse_expires

**Type:** `boolean`

Whether this corpse will ever fade away.

### corpse_immune_to_entity_placement

**Type:** `boolean`

If true, corpse won't be destroyed when entities are placed over it. If false, whether corpse will be removed or not depends on value of [CorpsePrototype::remove_on_entity_placement](prototype:CorpsePrototype::remove_on_entity_placement).

### crafting_progress

**Type:** `float`

The current crafting progress, as a number in range `[0, 1]`.

### crafting_speed

**Type:** `double` _(read-only)_

The current crafting speed, including speed bonuses from modules and beacons.

### crane_destination

**Type:** `MapPosition`

Destination of the crane of this entity. Throws when trying to set the destination out of range.

### crane_destination_3d

**Type:** `Vector3D`

Destination of the crane of this entity in 3D. Throws when trying to set the destination out of range.

### crane_end_position_3d

**Type:** `Vector3D` _(read-only)_

Returns current position in 3D for the end of the crane of this entity.

### crane_grappler_destination

**Type:** `any`

Will set destination for the grappler of crane of this entity. The crane grappler will start moving to reach the destination, but the rest of the arm will remain stationary. Throws when trying to set the destination out of range.

### crane_grappler_destination_3d

**Type:** `any`

Will set destination in 3D for the grappler of crane of this entity. The crane grappler will start moving to reach the destination, but the rest of the arm will remain stationary. Throws when trying to set the destination out of range.

### custom_status

**Type:** `CustomEntityStatus`

A custom status for this entity that will be displayed in the GUI.

### damage_dealt

**Type:** `double`

The damage dealt by this turret, artillery turret, or artillery wagon.

### destructible

**Type:** `boolean`

If set to `false`, this entity can't be damaged and won't be attacked automatically. It can however still be mined.

Entities that are indestructible naturally (they have no health, like smoke, resource etc) can't be set to be destructible.

### direction

**Type:** `defines.direction`

The current direction this entity is facing.

### disabled_by_control_behavior

**Type:** `boolean` _(read-only)_

If the updatable entity is disabled by control behavior.

### disabled_by_recipe

**Type:** `boolean` _(read-only)_

If the updatable entity is disabled by recipe.

### disabled_by_script

**Type:** `boolean`

If the updatable entity is disabled by script.

Note: Some entities (Corpse, FireFlame, Roboport, RollingStock, dying entities) need to remain active and will ignore writes.

### draw_data

**Type:** `RollingStockDrawData` _(read-only)_

Gives a draw data of the given entity if it supports such data.

### driver_is_gunner

**Type:** `boolean`

Whether the driver of this car or spidertron is the gunner. If `false`, the passenger is the gunner. `nil` if this is neither a car or a spidertron.

### drop_position

**Type:** `MapPosition`

Position where the entity puts its stuff.

Mining drills and crafting machines can't have their drop position changed; inserters must have `allow_custom_vectors` set to true on their prototype to allow changing the drop position.

Meaningful only for entities that put stuff somewhere, such as mining drills, crafting machines with a drop target or inserters.

### drop_target

**Type:** `LuaEntity`

The entity this entity is putting its items to. If there are multiple possible entities at the drop-off point, writing to this attribute allows a mod to choose which one to drop off items to. The entity needs to collide with the tile box under the drop-off position. `nil` if there is no entity to put items to, or if this is not an entity that puts items somewhere.

### effective_speed

**Type:** `float` _(read-only)_

The current speed of this unit in tiles per tick, taking into account any walking speed modifier given by the tile the unit is standing on. `nil` if this is not a unit.

### effectivity_modifier

**Type:** `float`

Multiplies the acceleration the vehicle can create for one unit of energy. Defaults to `1`.

### effects

**Type:** `ModuleEffects` _(read-only)_

The effects being applied to this entity, if any. For beacons, this is the effect the beacon is broadcasting.

### electric_buffer_size

**Type:** `double`

The buffer size for the electric energy source. `nil` if the entity doesn't have an electric energy source.

Write access is limited to the ElectricEnergyInterface type.

### electric_drain

**Type:** `double` _(read-only)_

The electric drain for the electric energy source. `nil` if the entity doesn't have an electric energy source.

### electric_emissions_per_joule

**Type:** `dictionary<`string`, `double`>` _(read-only)_

The table of emissions of this energy source in `pollution/Joule`, indexed by pollutant type. `nil` if the entity doesn't have an electric energy source. Multiplying values in the returned table by energy consumption in `Watt` gives `pollution/second`.

### electric_network_id

**Type:** `uint` _(read-only)_

Returns the id of the electric network that this entity is connected to, if any.

### electric_network_statistics

**Type:** `LuaFlowStatistics` _(read-only)_

The electric network statistics for this electric pole.

### enable_logistics_while_moving

**Type:** `boolean`

Whether equipment grid logistics are enabled while this vehicle is moving.

### energy

**Type:** `double`

Energy stored in the entity's energy buffer (energy stored in electrical devices etc.). Always 0 for entities that don't have the concept of energy stored inside.

### energy_generated_last_tick

**Type:** `double` _(read-only)_

How much energy this generator generated in the last tick.

### entity_label

**Type:** `string`

The label on this spider-vehicle entity, if any. `nil` if this is not a spider-vehicle.

### filter_slot_count

**Type:** `uint` _(read-only)_

The number of filter slots this inserter, loader, mining drill, asteroid collector or logistic storage container has. 0 if not one of those entities.

### fluidbox

**Type:** `LuaFluidBox` _(read-only)_

Fluidboxes of this entity.

### fluids_count

**Type:** `uint` _(read-only)_

Returns count of fluid storages. This includes fluid storages provided by FluidBoxes but also covers other fluid storages like FluidTurret's internal buffer and FluidWagon's fluid since they are not FluidBox and cannot be exposed through [LuaFluidBox](runtime:LuaFluidBox).

### follow_offset

**Type:** `Vector`

The follow offset of this spidertron, if any entity is being followed. This is randomized each time the follow entity is set.

### follow_target

**Type:** `LuaEntity`

The follow target of this spidertron, if any.

### friction_modifier

**Type:** `float`

Multiplies the car friction rate.

### frozen

**Type:** `boolean` _(read-only)_

If the freezable entity is currently frozen.

### ghost_localised_description

**Type:** `LocalisedString` _(read-only)_



### ghost_localised_name

**Type:** `LocalisedString` _(read-only)_

Localised name of the entity or tile contained in this ghost.

### ghost_name

**Type:** `string` _(read-only)_

Name of the entity or tile contained in this ghost

### ghost_prototype

**Type:**  _(read-only)_

The prototype of the entity or tile contained in this ghost.

### ghost_type

**Type:** `string` _(read-only)_

The prototype type of the entity or tile contained in this ghost.

### ghost_unit_number

**Type:** `uint64` _(read-only)_

The [unit_number](runtime:LuaEntity::unit_number) of the entity contained in this ghost. It is the same as the unit number of the [EntityWithOwnerPrototype](prototype:EntityWithOwnerPrototype) that was destroyed to create this ghost. If it was created by other means, or if the inner entity does not support unit numbers, this property is `nil`.

### gps_tag

**Type:** `string` _(read-only)_

Returns a [rich text](https://wiki.factorio.com/Rich_text) string containing this entity's position and surface name as a gps tag. [Printing](runtime:LuaGameScript::print) it will ping the location of the entity.

### graphics_variation

**Type:** `uint8`

The graphics variation for this entity. `nil` if this entity doesn't use graphics variations.

### grid

**Type:** `LuaEquipmentGrid` _(read-only)_

This entity's equipment grid, if any.

### health

**Type:** `float`

The current health of the entity, if any. Health is automatically clamped to be between `0` and max health (inclusive). Entities with a health of `0` can not be attacked.

To get the maximum possible health of this entity, see [LuaEntity::max_health](runtime:LuaEntity::max_health).

### held_stack

**Type:** `LuaItemStack` _(read-only)_

The item stack currently held in an inserter's hand.

### held_stack_position

**Type:** `MapPosition` _(read-only)_

Current position of the inserter's "hand".

### highlight_box_blink_interval

**Type:** `uint`

The blink interval of this highlight box entity. `0` indicates no blink.

### highlight_box_type

**Type:** `CursorBoxRenderType`

The highlight box type of this highlight box entity.

### ignore_unprioritised_targets

**Type:** `boolean`

Whether this turret shoots at targets that are not on its priority list.

### infinity_container_filters

**Type:** ``InfinityInventoryFilter`[]`

The filters for this infinity container.

### initial_amount

**Type:** `uint`

Count of initial resource units contained. `nil` if this is not an infinite resource.

If this is not an infinite resource, writing will produce an error.

### insert_plan

**Type:** ``BlueprintInsertPlan`[]`

The insert plan for this ghost or item request proxy.

### inserter_filter_mode

**Type:** 

The filter mode for this filter inserter. `nil` if this inserter doesn't use filters.

### inserter_spoil_priority

**Type:** 

The spoil priority for this inserter.

### inserter_stack_size_override

**Type:** `uint`

Sets the stack size limit on this inserter.

Set to `0` to reset.

### inserter_target_pickup_count

**Type:** `uint` _(read-only)_

Returns the current target pickup count of the inserter.

This considers the circuit network, manual override and the inserter stack size limit based on technology.

### is_entity_with_health

**Type:** `boolean` _(read-only)_

If this entity is EntityWithHealth

### is_entity_with_owner

**Type:** `boolean` _(read-only)_

If this entity is EntityWithOwner

### is_freezable

**Type:** `boolean` _(read-only)_

If the entity is freezable.

### is_headed_to_trains_front

**Type:** `boolean` _(read-only)_

If the rolling stock is facing train's front.

### is_military_target

**Type:** `boolean`

Whether this entity is a MilitaryTarget. Can be written to if [LuaEntityPrototype::allow_run_time_change_of_is_military_target](runtime:LuaEntityPrototype::allow_run_time_change_of_is_military_target) returns `true`.

### is_updatable

**Type:** `boolean` _(read-only)_

If the entity is updatable.

### item_request_proxy

**Type:** `LuaEntity` _(read-only)_

The first found item request proxy targeting this entity.

### item_requests

**Type:** ``ItemWithQualityCounts`[]` _(read-only)_

Items this ghost will request when revived or items this item request proxy is requesting.

### kills

**Type:** `uint`

The number of units killed by this turret, artillery turret, or artillery wagon.

### last_user

**Type:** `LuaPlayer`

The last player that changed any setting on this entity. This includes building the entity, changing its color, or configuring its circuit network. `nil` if the last user is not part of the save anymore.

### link_id

**Type:** `uint`

The link ID this linked container is using.

### linked_belt_neighbour

**Type:** `LuaEntity` _(read-only)_

Neighbour to which this linked belt is connected to, if any.

Can also be used on entity ghost if it contains linked-belt.

May return entity ghost which contains linked belt to which connection is made.

### linked_belt_type

**Type:** 

Type of linked belt. Changing type will also flip direction so the belt is out of the same side.

Can only be changed when linked belt is disconnected (has no neighbour set).

Can also be used on entity ghost if it contains linked-belt.

### loader_belt_stack_size_override

**Type:** `uint8`

The belt stack size override for this loader. Set to `0` to disable. Writing this value requires [LoaderPrototype::adjustable_belt_stack_size](prototype:LoaderPrototype::adjustable_belt_stack_size) to be `true`.

### loader_container

**Type:** `LuaEntity` _(read-only)_

The container entity this loader is pointing at/pulling from depending on the [LuaEntity::loader_type](runtime:LuaEntity::loader_type), if any.

### loader_filter_mode

**Type:** 

The filter mode for this loader. `nil` if this loader does not support filters.

### loader_type

**Type:** 

Whether this loader gets items from or puts item into a container.

### localised_description

**Type:** `LocalisedString` _(read-only)_



### localised_name

**Type:** `LocalisedString` _(read-only)_

Localised name of the entity.

### logistic_cell

**Type:** `LuaLogisticCell` _(read-only)_

The logistic cell this entity is a part of. Will be `nil` if this entity is not a part of any logistic cell.

### logistic_network

**Type:** `LuaLogisticNetwork`

The logistic network this entity is a part of, or `nil` if this entity is not a part of any logistic network.

### max_health

**Type:** `float` _(read-only)_

Max health of this entity.

### minable

**Type:** `boolean`

Not minable entities can still be destroyed.

Tells if entity reports as being minable right now. This takes into account minable_flag and entity specific conditions (for example rail under rolling stocks is not minable, vehicle with passenger is not minable).

Write to this field since 2.0.26 is deprecated and it will result in write to minable_flag instead.

### minable_flag

**Type:** `boolean`

Script controlled flag that allows entity to be mined.

### mining_drill_filter_mode

**Type:** 

The filter mode for this mining drill. `nil` if this mining drill doesn't have filters.

### mining_progress

**Type:** `double`

The mining progress for this mining drill. Is a number in range [0, mining_target.prototype.mineable_properties.mining_time]. `nil` if this isn't a mining drill.

### mining_target

**Type:** `LuaEntity` _(read-only)_

The mining target, if any.

### mirroring

**Type:** `boolean`

If the entity is currently mirrored. This state is referred to as `flipped` elsewhere, such as on the [on_player_flipped_entity](runtime:on_player_flipped_entity) event.

### name

**Type:** `string` _(read-only)_

Name of the entity prototype. E.g. "inserter" or "fast-inserter".

### name_tag

**Type:** `string`

Name tag of this entity. Returns `nil` if entity has no name tag. When name tag is already used by other entity, the name will be removed from the other entity. Entity name tags can also be set in the entity "extra settings" GUI in the map editor.

### neighbour_bonus

**Type:** `double` _(read-only)_

The current total neighbour bonus of this reactor.

### neighbours

**Type:**  _(read-only)_

A list of neighbours for certain types of entities. Applies to underground belts, walls, gates, reactors, cliffs, and pipe-connectable entities.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### operable

**Type:** `boolean`

Player can't open gui of this entity and he can't quick insert/input stuff in to the entity when it is not operable.

### orientation

**Type:** `RealOrientation`

The smooth orientation of this entity.

### owned_plants

**Type:** ``LuaEntity`[]` _(read-only)_

Plants registered by this agricultural tower. One plant can be registered in multiple agricultural towers.

### parameters

**Type:** `ProgrammableSpeakerParameters`



### pickup_position

**Type:** `MapPosition`

Where the inserter will pick up items from.

Inserters must have `allow_custom_vectors` set to true on their prototype to allow changing the pickup position.

### pickup_target

**Type:** `LuaEntity`

The entity this inserter will attempt to pick up items from. If there are multiple possible entities at the pick-up point, writing to this attribute allows a mod to choose which one to pick up items from. The entity needs to collide with the tile box under the pick-up position. `nil` if there is no entity to pull items from.

### player

**Type:** `LuaPlayer` _(read-only)_

The player connected to this character, if any.

### pollution_bonus

**Type:** `double` _(read-only)_

The pollution bonus of this entity.

### power_production

**Type:** `double`

The power production specific to the ElectricEnergyInterface entity type.

### power_switch_state

**Type:** `boolean`

The state of this power switch.

### power_usage

**Type:** `double`

The power usage specific to the ElectricEnergyInterface entity type.

### previous_recipe

**Type:** `RecipeIDAndQualityIDPair` _(read-only)_

The previous recipe this furnace was using, if any.

### procession_tick

**Type:** `MapTick`

how far into the current procession the cargo pod is.

### productivity_bonus

**Type:** `double` _(read-only)_

The productivity bonus of this entity.

This includes force based bonuses as well as beacon/module bonuses.

### products_finished

**Type:** `uint`

The number of products this machine finished crafting in its lifetime.

### prototype

**Type:** `LuaEntityPrototype` _(read-only)_

The entity prototype of this entity.

### proxy_target

**Type:** `LuaEntity` _(read-only)_

The target entity for this item-request-proxy, if any.

### proxy_target_entity

**Type:** `LuaEntity`

Entity of which inventory is exposed by this ProxyContainer

### proxy_target_inventory

**Type:** `defines.inventory`

Inventory index of the inventory that is exposed by this ProxyContainer

### pump_rail_target

**Type:** `LuaEntity` _(read-only)_

The rail target of this pump, if any.

### quality

**Type:** `LuaQualityPrototype` _(read-only)_

The quality of this entity.

Not all entities support quality and will give the "normal" quality back if they don't.

### radar_scan_progress

**Type:** `float` _(read-only)_

The current radar scan progress, as a number in range `[0, 1]`.

### rail_layer

**Type:** `defines.rail_layer` _(read-only)_

Gets rail layer of a given signal

### recipe_locked

**Type:** `boolean`

When locked; the recipe in this assembling machine can't be changed by the player.

### relative_turret_orientation

**Type:** `RealOrientation`

The relative orientation of the vehicle turret, artillery turret, artillery wagon. `nil` if this entity isn't a vehicle with a vehicle turret or artillery turret/wagon.

Writing does nothing if the vehicle doesn't have a turret.

### removal_plan

**Type:** ``BlueprintInsertPlan`[]`

The removal plan for this item request proxy.

### remove_unfiltered_items

**Type:** `boolean`

Whether items not included in this infinity container filters should be removed from the container.

### render_player

**Type:** `LuaPlayer`

The player that this `simple-entity-with-owner`, `simple-entity-with-force`, or `highlight-box` is visible to. `nil` when this entity is rendered for all players.

### render_to_forces

**Type:** `ForceSet`

The forces that this `simple-entity-with-owner` or `simple-entity-with-force` is visible to. `nil` or an empty array when this entity is rendered for all forces.

Reading will always give an array of [LuaForce](runtime:LuaForce)

### request_from_buffers

**Type:** `boolean`

Whether this requester chest is set to also request from buffer chests.

Useable only on entities that have requester slots.

### result_quality

**Type:** `LuaQualityPrototype`

The quality produced when this crafting machine finishes crafting. `nil` when crafting is not in progress.

Note: Writing `nil` is not allowed.

### robot_order_queue

**Type:** ``WorkerRobotOrder`[]` _(read-only)_

Get the current queue of robot orders.

### rocket

**Type:** `LuaEntity` _(read-only)_

The rocket silo rocket this cargo pod is attached to, or rocket silo rocket attached to this rocket silo - if any.

### rocket_parts

**Type:** `uint`

Number of rocket parts in the silo.

### rocket_silo_status

**Type:** `defines.rocket_silo_status` _(read-only)_

The status of this rocket silo entity.

### rotatable

**Type:** `boolean`

When entity is not to be rotatable (inserter, transport belt etc), it can't be rotated by player using the R key.

Entities that are not rotatable naturally (like chest or furnace) can't be set to be rotatable.

### secondary_bounding_box

**Type:** `BoundingBox` _(read-only)_

The secondary bounding box of this entity or `nil` if it doesn't have one. This only exists for curved rails, and is automatically determined by the game.

### secondary_selection_box

**Type:** `BoundingBox` _(read-only)_

The secondary selection box of this entity or `nil` if it doesn't have one. This only exists for curved rails, and is automatically determined by the game.

### selected_gun_index

**Type:** `uint`

Index of the currently selected weapon slot of this character, car, or spidertron. `nil` if this entity doesn't have guns.

### selection_box

**Type:** `BoundingBox` _(read-only)_

[LuaEntityPrototype::selection_box](runtime:LuaEntityPrototype::selection_box) around entity's given position and respecting the current entity orientation.

### shooting_target

**Type:** `LuaEntity`

The shooting target for this turret, if any. Can't be set to `nil` via script.

### signal_state

**Type:** `defines.signal_state` _(read-only)_

The state of this rail signal.

### spawn_shift

**Type:** `double` _(read-only)_



### spawning_cooldown

**Type:** `double` _(read-only)_



### speed

**Type:** `float`

The current speed if this is a car, rolling stock, projectile or spidertron, or the maximum speed if this is a unit. The speed is in tiles per tick. `nil` if this is not a car, rolling stock, unit, projectile or spidertron.

Only the speed of units, cars, and projectiles are writable.

### speed_bonus

**Type:** `double` _(read-only)_

The speed bonus of this entity.

This includes force based bonuses as well as beacon/module bonuses.

### splitter_filter

**Type:** `ItemFilter`

The filter for this splitter, if any is set.

### splitter_input_priority

**Type:** 

The input priority for this splitter.

### splitter_output_priority

**Type:** 

The output priority for this splitter.

### stack

**Type:** `LuaItemStack` _(read-only)_



### status

**Type:** `defines.entity_status` _(read-only)_

The status of this entity, if any.

This is always the actual status of the entity, even if [LuaEntity::custom_status](runtime:LuaEntity::custom_status) is set.

### sticked_to

**Type:** `LuaEntity` _(read-only)_

The entity this sticker is sticked to.

### sticker_vehicle_modifiers

**Type:** `unknown` _(read-only)_

The vehicle modifiers applied to this entity through the attached stickers.

### stickers

**Type:** ``LuaEntity`[]` _(read-only)_

The sticker entities attached to this entity, if any.

### storage_filter

**Type:** `ItemIDAndQualityIDPair`

The storage filter for this logistic storage container.

Useable only on logistic containers with the `"storage"` [logistic_mode](runtime:LuaEntityPrototype::logistic_mode).

### supports_direction

**Type:** `boolean` _(read-only)_

Whether the entity has direction. When it is false for this entity, it will always return north direction when asked for.

### tags

**Type:** `Tags`

The tags associated with this entity ghost. `nil` if this is not an entity ghost or when the ghost has no tags.

### temperature

**Type:** `double`

The temperature of this entity's heat energy source. `nil` if this entity does not use a heat energy source.

### tick_grown

**Type:** `MapTick`

The tick when this plant is fully grown.

### tick_of_last_attack

**Type:** `uint`

The last tick this character entity was attacked.

### tick_of_last_damage

**Type:** `uint`

The last tick this character entity was damaged.

### tile_height

**Type:** `uint` _(read-only)_

Specifies the tiling size of the entity, is used to decide, if the center should be in the center of the tile (odd tile size dimension) or on the tile border (even tile size dimension). Uses the current direction of the entity.

### tile_width

**Type:** `uint` _(read-only)_

Specifies the tiling size of the entity, is used to decide, if the center should be in the center of the tile (odd tile size dimension) or on the tile border (even tile size dimension). Uses the current direction of the entity.

### time_to_live

**Type:** `uint64`

The ticks left before a combat robot, highlight box, smoke, or sticker entity is destroyed.

### time_to_next_effect

**Type:** `uint`

The ticks until the next trigger effect of this smoke-with-trigger.

### timeout

**Type:** `uint`

The timeout that's left on this landmine in ticks. It describes the time between the landmine being placed and it being armed.

### to_be_looted

**Type:** `boolean`

Will this item entity be picked up automatically when the player walks over it?

### torso_orientation

**Type:** `RealOrientation`

The torso orientation of this spider vehicle.

### train

**Type:** `LuaTrain` _(read-only)_

The train this rolling stock belongs to, if any. `nil` if this is not a rolling stock.

### train_stop_priority

**Type:** `uint8`

Priority of this train stop.

### trains_count

**Type:** `uint` _(read-only)_

Amount of trains related to this particular train stop. Includes train stopped at this train stop (until it finds a path to next target) and trains having this train stop as goal or waypoint.

Train may be included multiple times when braking distance covers this train stop multiple times.

Value may be read even when train stop has no control behavior.

### trains_in_block

**Type:** `uint` _(read-only)_

The number of trains in this rail block for this rail entity.

### trains_limit

**Type:** `uint`

Amount of trains above which no new trains will be sent to this train stop. Writing nil will disable the limit (will set a maximum possible value).

When a train stop has a control behavior with wire connected and set_trains_limit enabled, this value will be overwritten by it.

### tree_color_index

**Type:** `uint8`

Index of the tree color.

### tree_color_index_max

**Type:** `uint8` _(read-only)_

Maximum index of the tree colors.

### tree_gray_stage_index

**Type:** `uint8`

Index of the tree gray stage

### tree_gray_stage_index_max

**Type:** `uint8` _(read-only)_

Maximum index of the tree gray stages.

### tree_stage_index

**Type:** `uint8`

Index of the tree stage.

### tree_stage_index_max

**Type:** `uint8` _(read-only)_

Maximum index of the tree stages.

### type

**Type:** `string` _(read-only)_

The entity prototype type of this entity.

### unit_number

**Type:** `uint64` _(read-only)_

A unique number identifying this entity for the lifetime of the save. These are allocated sequentially, and not re-used (until overflow).

Only entities inheriting from [EntityWithOwnerPrototype](prototype:EntityWithOwnerPrototype), as well as [ItemRequestProxyPrototype](prototype:ItemRequestProxyPrototype) and [EntityGhostPrototype](prototype:EntityGhostPrototype) are assigned a unit number. Returns `nil` otherwise.

### units

**Type:** ``LuaEntity`[]` _(read-only)_

The units associated with this spawner entity.

### use_filters

**Type:** `boolean`

If set to 'true', this inserter will use filtering logic.

This has no effect if the prototype does not support filters.

### use_transitional_requests

**Type:** `boolean`

When true, the rocket silo will request items for space platforms in orbit.

Setting the value will have no effect when the silo doesn't support logistics.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

### valve_threshold_override

**Type:** `float`

The threshold override of this valve, or `nil` if an override is not defined.

If no override is defined, the threshold is taken from [LuaEntityPrototype::valve_threshold](runtime:LuaEntityPrototype::valve_threshold).

### vehicle_automatic_targeting_parameters

**Type:** `VehicleAutomaticTargetingParameters`

Read when this spidertron auto-targets enemies

---

## LuaEntityPrototype

# LuaEntityPrototype

Prototype of an entity.

**Parent:** `LuaPrototypeBase`

## Methods

### get_crafting_speed

The crafting speed of this crafting-machine.

**Parameters:**

- `quality` `QualityID` _(optional)_: 

**Returns:**

- `double`: 

### get_fluid_usage_per_tick

The fluid usage of this generator prototype.

**Parameters:**

- `quality` `QualityID` _(optional)_: 

**Returns:**

- `double`: 

### get_inserter_extension_speed

The extension speed of this inserter.

**Parameters:**

- `quality` `QualityID` _(optional)_: 

**Returns:**

- `double`: 

### get_inserter_rotation_speed

The rotation speed of this inserter.

**Parameters:**

- `quality` `QualityID` _(optional)_: 

**Returns:**

- `double`: 

### get_inventory_size

Gets the base size of the given inventory on this entity or `nil` if the given inventory doesn't exist.

**Parameters:**

- `index` `defines.inventory`: 
- `quality` `QualityID` _(optional)_: 

**Returns:**

- `uint`: 

### get_max_circuit_wire_distance

The maximum circuit wire distance for this entity. 0 if the entity doesn't support circuit wires.

**Parameters:**

- `quality` `QualityID` _(optional)_: 

**Returns:**

- `double`: 

### get_max_distance_of_nearby_sector_revealed

The radius of the area constantly revealed by this radar, or cargo landing pad, in chunks.

**Parameters:**

- `quality` `QualityID` _(optional)_: 

**Returns:**

- `uint`: 

### get_max_distance_of_sector_revealed

The radius of the area this radar can chart, in chunks.

**Parameters:**

- `quality` `QualityID` _(optional)_: 

**Returns:**

- `uint`: 

### get_max_energy

The max energy for this flying robot prototype.

**Parameters:**

- `quality` `QualityID` _(optional)_: 

**Returns:**

- `double`: 

### get_max_energy_production

The theoretical maximum energy production for this entity.

**Parameters:**

- `quality` `QualityID` _(optional)_: 

**Returns:**

- `double`: 

### get_max_energy_usage

The theoretical maximum energy usage for this entity.

**Parameters:**

- `quality` `QualityID` _(optional)_: 

**Returns:**

- `double`: 

### get_max_health

Max health of this entity. Will be `0` if this is not an entity with health.

**Parameters:**

- `quality` `QualityID` _(optional)_: 

**Returns:**

- `float`: 

### get_max_power_output

The maximum power output of this burner generator or generator prototype.

**Parameters:**

- `quality` `QualityID` _(optional)_: 

**Returns:**

- `double`: 

### get_max_wire_distance

The maximum wire distance for this entity. 0 if the entity doesn't support wires.

**Parameters:**

- `quality` `QualityID` _(optional)_: 

**Returns:**

- `double`: 

### get_pumping_speed

The pumping speed of this offshore or normal pump.

**Parameters:**

- `quality` `QualityID` _(optional)_: 

**Returns:**

- `double`: 

### get_researching_speed

The base researching speed of this lab prototype.

**Parameters:**

- `quality` `QualityID` _(optional)_: 

**Returns:**

- `double`: 

### get_supply_area_distance

The supply area of this electric pole or beacon prototype.

**Parameters:**

- `quality` `QualityID` _(optional)_: 

**Returns:**

- `double`: 

### get_valve_flow_rate

The maximum flow rate through this valve.

**Parameters:**

- `quality` `QualityID` _(optional)_: 

**Returns:**

- `double`: 

### has_flag

Test whether this entity prototype has a certain flag set.

**Parameters:**

- `flag` `EntityPrototypeFlag`: The flag to test.

**Returns:**

- `boolean`: `true` if this prototype has the given flag set.

## Attributes

### absorptions_to_join_attack

**Type:** `dictionary<`string`, `float`>` _(read-only)_

A table of pollutions amounts that has to be absorbed by the unit's spawner before the unit will leave the spawner and attack the source of the pollution, indexed by the name of each absorbed pollution type.

### accepted_seeds

**Type:** ``string`[]` _(read-only)_



### active_energy_usage

**Type:** `double` _(read-only)_

The active energy usage of this rocket silo or combinator prototype.

### additional_pastable_entities

**Type:** ``LuaEntityPrototype`[]` _(read-only)_

Entities this entity can be pasted onto in addition to the normal allowed ones.

### affected_by_tiles

**Type:** `boolean` _(read-only)_

Whether this unit prototype is affected by tile walking speed modifiers.

### agricultural_tower_radius

**Type:** `double` _(read-only)_



### air_resistance

**Type:** `double` _(read-only)_

The air resistance of this rolling stock prototype.

### alert_icon_scale

**Type:** `float` _(read-only)_

The alert icon scale of this entity prototype.

### alert_icon_shift

**Type:** `Vector` _(read-only)_

The alert icon shift of this entity prototype.

### alert_when_attacking

**Type:** `boolean` _(read-only)_

Whether this turret raises an alert when attacking

### alert_when_damaged

**Type:** `boolean` _(read-only)_

Whether this entity raises an alert when damaged.

### allow_access_to_all_forces

**Type:** `boolean` _(read-only)_

Whether this market allows access to all forces or just friendly ones.

### allow_burner_leech

**Type:** `boolean` _(read-only)_

Whether this inserter allows burner leeching.

### allow_copy_paste

**Type:** `boolean` _(read-only)_

When false copy-paste is not allowed for this entity.

### allow_custom_vectors

**Type:** `boolean` _(read-only)_

Whether this inserter allows custom pickup and drop vectors.

### allow_passengers

**Type:** `boolean` _(read-only)_

Whether this vehicle allows passengers.

### allow_run_time_change_of_is_military_target

**Type:** `boolean` _(read-only)_

True if this entity-with-owner's is_military_target can be changed run-time (on the entity, not on the prototype itself)

### allowed_effects

**Type:** `dictionary<`string`, `boolean`>` _(read-only)_

The allowed module effects for this entity, if any.

### allowed_module_categories

**Type:** `dictionary<`string`, `True`>` _(read-only)_

The allowed module categories for this entity, if any.

### always_on

**Type:** `boolean` _(read-only)_

Whether the lamp is always on (except when out of power or turned off by the circuit network).

### ammo_category

**Type:** `string` _(read-only)_

Name of the ammo category of this land mine.

### animation_speed_coefficient

**Type:** `double` _(read-only)_

The animation speed coefficient of this belt connectable prototype.

### attack_parameters

**Type:** `AttackParameters` _(read-only)_

The attack parameters for this entity, if any.

### attack_result

**Type:** ``TriggerItem`[]` _(read-only)_

The attack result of this entity, if any.

### auto_setup_collision_box

**Type:** `boolean` _(read-only)_



### automated_ammo_count

**Type:** `uint` _(read-only)_

The amount of ammo that inserters automatically insert into this ammo-turret or artillery-turret.

### automatic_weapon_cycling

**Type:** `boolean` _(read-only)_

Whether this spider vehicle prototype automatically cycles weapons.

### autoplace_specification

**Type:** `AutoplaceSpecification` _(read-only)_

Autoplace specification for this entity prototype, if any.

### beacon_counter

**Type:**  _(read-only)_

The beacon counter used by effect receiver when deciding which sample to take from beacon profile.

### belt_distance

**Type:** `double` _(read-only)_



### belt_length

**Type:** `double` _(read-only)_



### belt_speed

**Type:** `double` _(read-only)_

The speed of this transport belt.

### boiler_mode

**Type:**  _(read-only)_

The boiler operation mode of this boiler prototype.

### braking_force

**Type:** `double` _(read-only)_

The braking force of this vehicle prototype.

### build_base_evolution_requirement

**Type:** `double` _(read-only)_

The evolution requirement to build this entity as a base when expanding enemy bases.

### build_distance

**Type:** `uint` _(read-only)_



### building_grid_bit_shift

**Type:** `uint` _(read-only)_

The log2 of grid size of the building

### bulk

**Type:** `boolean` _(read-only)_

Whether this inserter is a bulk-type.

### burner_prototype

**Type:** `LuaBurnerPrototype` _(read-only)_

The burner energy source prototype this entity uses, if any.

### burns_fluid

**Type:** `boolean` _(read-only)_

Whether this generator prototype burns fluid.

### call_for_help_radius

**Type:** `double` _(read-only)_



### can_open_gates

**Type:** `boolean` _(read-only)_

Whether this unit prototype can open gates.

### chain_shooting_cooldown_modifier

**Type:** `double` _(read-only)_

The chain shooting cooldown modifier of this spider vehicle prototype.

### character_corpse

**Type:** `LuaEntityPrototype` _(read-only)_



### chunk_exploration_radius

**Type:** `double` _(read-only)_

The chunk exploration radius of this vehicle prototype.

### cliff_explosive_prototype

**Type:** `string` _(read-only)_

The item prototype name used to destroy this cliff.

### collision_box

**Type:** `BoundingBox` _(read-only)_

The bounding box used for collision checking.

### collision_mask

**Type:** `CollisionMask` _(read-only)_

The collision masks this entity uses

### collision_mask_collides_with_self

**Type:** `boolean` _(read-only)_

Does this prototype collision mask collide with itself?

### collision_mask_collides_with_tiles_only

**Type:** `boolean` _(read-only)_

Does this prototype collision mask collide with tiles only?

### collision_mask_considers_tile_transitions

**Type:** `boolean` _(read-only)_

Does this prototype collision mask consider tile transitions?

### color

**Type:** `Color` _(read-only)_

The color of the prototype, if any.

### connection_distance

**Type:** `double` _(read-only)_



### construction_radius

**Type:** `double` _(read-only)_

The construction radius for this roboport prototype.

### consumption

**Type:** `double` _(read-only)_

The energy consumption of this car prototype.

### container_distance

**Type:** `double` _(read-only)_



### corpses

**Type:** `dictionary<`string`, `LuaEntityPrototype`>` _(read-only)_

Corpses used when this entity is destroyed. It is a dictionary indexed by the corpse's prototype name.

### count_as_rock_for_filtered_deconstruction

**Type:** `boolean` _(read-only)_

If this simple-entity is counted as a rock for the deconstruction planner "trees and rocks only" filter.

### crafting_categories

**Type:** `dictionary<`string`, `True`>` _(read-only)_

The [crafting categories](runtime:LuaRecipeCategoryPrototype) this entity prototype supports.

The value in the dictionary is meaningless and exists just to allow for easy lookup.

### crane_energy_usage

**Type:** `double` _(read-only)_

The crane energy usage of this agricultural tower prototype.

### create_ghost_on_death

**Type:** `boolean` _(read-only)_

If this prototype will attempt to create a ghost of itself on death.

If this is false then a ghost will never be made, if it's true a ghost may be made.

### created_effect

**Type:** ``TriggerItem`[]` _(read-only)_

The trigger to run when this entity is created, if any.

### created_smoke

**Type:** `unknown` _(read-only)_

The smoke trigger run when this entity is built, if any.

### damage_hit_tint

**Type:** `Color` _(read-only)_



### darkness_for_all_lamps_off

**Type:** `float` _(read-only)_

Value between 0 and 1 darkness where all lamps of this lamp prototype are off.

### darkness_for_all_lamps_on

**Type:** `float` _(read-only)_

Value between 0 and 1 darkness where all lamps of this lamp prototype are on.

### destroy_non_fuel_fluid

**Type:** `boolean` _(read-only)_

Whether this generator prototype destroys non-fuel fluids.

### distraction_cooldown

**Type:** `uint` _(read-only)_

The distraction cooldown of this unit prototype.

### distribution_effectivity

**Type:** `double` _(read-only)_

The distribution effectivity for this beacon prototype.

### distribution_effectivity_bonus_per_quality_level

**Type:** `double` _(read-only)_

The distribution effectivity bonus per quality level for this beacon prototype.

### door_opening_speed

**Type:** `double` _(read-only)_

The door opening speed for this rocket silo prototype.

### draw_cargo

**Type:** `boolean` _(read-only)_

Whether this logistics or construction robot renders its cargo when flying.

### drawing_box_vertical_extension

**Type:** `double` _(read-only)_

Extra vertical space needed to see the whole entity in GUIs. This is used to calculate the correct zoom and positioning in the entity info gui, for example in the entity tooltip.

### drop_item_distance

**Type:** `uint` _(read-only)_



### dying_speed

**Type:** `float` _(read-only)_

The dying time of this corpse prototype.

### effect_receiver

**Type:** `EffectReceiver` _(read-only)_

Effect receiver prototype of this crafting machine, lab, or mining drill.

### effectivity

**Type:** `double` _(read-only)_

The effectivity of this car prototype, generator prototype.

### electric_energy_source_prototype

**Type:** `LuaElectricEnergySourcePrototype` _(read-only)_

The electric energy source prototype this entity uses, if any.

### emissions_per_second

**Type:** `dictionary<`string`, `double`>` _(read-only)_

A table of pollution emissions per second the entity will create, grouped by the name of the pollution type.

### enemy_map_color

**Type:** `Color` _(read-only)_

The enemy map color used when charting this entity.

### energy_per_hit_point

**Type:** `double` _(read-only)_

The energy used per hit point taken for this vehicle during collisions.

### energy_per_move

**Type:** `double` _(read-only)_

The energy consumed per tile moved for this flying robot.

### energy_per_tick

**Type:** `double` _(read-only)_

The energy consumed per tick for this flying robot.

### energy_usage

**Type:** `double` _(read-only)_

The direct energy usage of this entity, if any.

### engine_starting_speed

**Type:** `double` _(read-only)_

The engine starting speed for this rocket silo rocket prototype.

### enter_vehicle_distance

**Type:** `double` _(read-only)_



### explosion_beam

**Type:** `double` _(read-only)_

Whether this explosion has a beam.

### explosion_rotate

**Type:** `double` _(read-only)_

Whether this explosion rotates.

### factoriopedia_alternative

**Type:** `LuaEntityPrototype` _(read-only)_

An alternative prototype that will be used to display info about this prototype in Factoriopedia.

### fast_replaceable_group

**Type:** `string` _(read-only)_

The group of mutually fast-replaceable entities, if any.

### filter_count

**Type:** `uint` _(read-only)_

The filter count of this inserter, loader, mining drill or logistic chest. For logistic containers, `nil` means no limit.

### final_attack_result

**Type:** ``TriggerItem`[]` _(read-only)_

The final attack result for this projectile.

### fixed_recipe

**Type:** `string` _(read-only)_

The fixed recipe name for this assembling machine prototype, if any.

### flags

**Type:** `EntityPrototypeFlags` _(read-only)_

The flags for this entity prototype.

### flow_scaling

**Type:** `boolean` _(read-only)_



### fluid_capacity

**Type:** `double` _(read-only)_

The fluid capacity of this entity or 0 if this entity doesn't support fluids.

Crafting machines will report 0 due to their fluid capacity being whatever a given recipe needs.

### fluid_energy_source_prototype

**Type:** `LuaFluidEnergySourcePrototype` _(read-only)_

The fluid energy source prototype this entity uses, if any.

### fluid_source_offset

**Type:** `Vector` _(read-only)_



### fluid_usage_per_tick

**Type:** `double` _(read-only)_

The fluid usage of this generator prototype. This property is deprecated in favor of [LuaEntityPrototype::get_fluid_usage_per_tick](runtime:LuaEntityPrototype::get_fluid_usage_per_tick) and should not be used.

### fluidbox_prototypes

**Type:** ``LuaFluidBoxPrototype`[]` _(read-only)_

The fluidbox prototypes for this entity.

### flying_acceleration

**Type:** `double` _(read-only)_

The flying acceleration for this rocket silo rocket prototype.

### flying_speed

**Type:** `double` _(read-only)_

The flying speed for this rocket silo rocket prototype.

### friction_force

**Type:** `double` _(read-only)_

The friction of this vehicle prototype.

### friendly_map_color

**Type:** `Color` _(read-only)_

The friendly map color used when charting this entity.

### grid_prototype

**Type:** `LuaEquipmentGridPrototype` _(read-only)_

The equipment grid prototype for this entity, if any.

### growth_area_radius

**Type:** `double` _(read-only)_



### growth_grid_tile_size

**Type:** `uint` _(read-only)_



### growth_ticks

**Type:** `uint` _(read-only)_



### guns

**Type:** `dictionary<`string`, `LuaItemPrototype`>` _(read-only)_

A mapping of the gun name to the gun prototype this prototype uses. `nil` if this entity prototype doesn't use guns.

### harvest_emissions

**Type:** `dictionary<`string`, `double`>` _(read-only)_

A table of pollutants that this plant will release when it is harvested.

### has_belt_immunity

**Type:** `boolean` _(read-only)_

Whether this unit, car, or character prototype has belt immunity.

### healing_per_tick

**Type:** `float` _(read-only)_

Amount this entity can heal per tick, if any.

### heat_buffer_prototype

**Type:** `LuaHeatBufferPrototype` _(read-only)_

The heat buffer prototype this entity uses, if any.

### heat_energy_source_prototype

**Type:** `LuaHeatEnergySourcePrototype` _(read-only)_

The heat energy source prototype this entity uses, if any.

### heating_energy

**Type:** `double` _(read-only)_

The energy required to keep this entity from freezing. Zero energy means it doesn't freeze.

### height

**Type:** `double` _(read-only)_

The height of this spider vehicle prototype.

### indexed_guns

**Type:** ``LuaItemPrototype`[]` _(read-only)_

A vector of the gun prototypes of this car, spider vehicle, artillery wagon, or turret.

### infinite_depletion_resource_amount

**Type:** `uint` _(read-only)_

Every time this infinite resource 'ticks' down, it is reduced by this amount. Meaningless if this isn't an infinite resource.

### infinite_resource

**Type:** `boolean` _(read-only)_

Whether this resource is infinite.

### ingredient_count

**Type:** `uint` _(read-only)_

The max number of ingredients this crafting machine prototype supports.

### inserter_chases_belt_items

**Type:** `boolean` _(read-only)_

True if this inserter chases items on belts for pickup.

### inserter_drop_position

**Type:** `Vector` _(read-only)_

The drop position for this inserter.

### inserter_pickup_position

**Type:** `Vector` _(read-only)_

The pickup position for this inserter.

### inserter_stack_size_bonus

**Type:** `uint` _(read-only)_

The built-in stack size bonus of this inserter prototype.

### instruments

**Type:** ``ProgrammableSpeakerInstrument`[]` _(read-only)_

The instruments for this programmable speaker.

### inventory_type

**Type:**  _(read-only)_

The inventory type this container or linked container uses.

### is_building

**Type:** `boolean` _(read-only)_



### is_entity_with_owner

**Type:** `boolean` _(read-only)_

True if this is entity-with-owner

### is_military_target

**Type:** `boolean` _(read-only)_

True if this entity-with-owner is military target

### item_pickup_distance

**Type:** `double` _(read-only)_



### items_to_place_this

**Type:** ``ItemStackDefinition`[]` _(read-only)_

Items that when placed will produce this entity, if any. Construction bots will choose the first item in the list to build this entity.

### joint_distance

**Type:** `double` _(read-only)_



### lab_inputs

**Type:** ``string`[]` _(read-only)_

The item prototype names that are the inputs of this lab prototype.

### lamp_energy_usage

**Type:** `double` _(read-only)_

The lamp energy usage of this rocket silo prototype.

### launch_to_space_platforms

**Type:** `boolean` _(read-only)_



### launch_wait_time

**Type:** `uint8` _(read-only)_

The rocket launch delay for this rocket silo prototype.

### light_blinking_speed

**Type:** `double` _(read-only)_

The light blinking speed for this rocket silo prototype.

### loader_adjustable_belt_stack_size

**Type:** `boolean` _(read-only)_

True if this loader supports a runtime-adjustable belt stack size.

### loader_max_belt_stack_size

**Type:** `uint8` _(read-only)_

The max belt stack size for this loader.

### logistic_mode

**Type:**  _(read-only)_

The logistic mode of this logistic container.

### logistic_parameters

**Type:** `unknown` _(read-only)_

The logistic parameters for this roboport.

### logistic_radius

**Type:** `double` _(read-only)_

The logistic radius for this roboport prototype.

### loot

**Type:** ``Loot`[]` _(read-only)_

Loot that will be dropped when this entity is killed, if any.

### loot_pickup_distance

**Type:** `double` _(read-only)_



### manual_range_modifier

**Type:** `double` _(read-only)_

The manual range modifier for this artillery turret or wagon prototype.

### map_color

**Type:** `Color` _(read-only)_

The map color used when charting this entity if a friendly or enemy color isn't defined, if any.

### map_generator_bounding_box

**Type:** `BoundingBox` _(read-only)_

The bounding box used for map generator collision checking.

### max_count_of_owned_defensive_units

**Type:** `double` _(read-only)_

Count of defensive enemies this spawner can sustain.

### max_count_of_owned_units

**Type:** `double` _(read-only)_

Count of enemies this spawner can sustain.

### max_darkness_to_spawn

**Type:** `float` _(read-only)_

The maximum darkness at which this unit spawner can spawn entities.

### max_defensive_friends_around_to_spawn

**Type:** `double` _(read-only)_

How many defensive friendly units are required within the spawning_radius of this spawner for it to stop producing more units.

### max_friends_around_to_spawn

**Type:** `double` _(read-only)_

How many friendly units are required within the spawning_radius of this spawner for it to stop producing more units.

### max_item_product_count

**Type:** `uint` _(read-only)_

The max number of item products this crafting machine prototype supports.

### max_payload_size

**Type:** `uint` _(read-only)_

The max payload size of this logistics or construction robot.

### max_polyphony

**Type:** `uint` _(read-only)_

The maximum polyphony for this programmable speaker.

### max_power_output

**Type:** `double` _(read-only)_

The default maximum power output of this generator prototype. This property is deprecated in favor of [LuaEntityPrototype::get_max_power_output](runtime:LuaEntityPrototype::get_max_power_output) and should not be used.

### max_pursue_distance

**Type:** `double` _(read-only)_

The maximum pursue distance of this unit prototype.

### max_speed

**Type:** `double` _(read-only)_

The max speed of this projectile or flying robot prototype.

### max_to_charge

**Type:** `float` _(read-only)_

The maximum energy for this flying robot above which it won't try to recharge when stationing.

### max_underground_distance

**Type:** `uint8` _(read-only)_

The max underground distance for underground belts and underground pipes.

### maximum_corner_sliding_distance

**Type:** `double` _(read-only)_



### maximum_temperature

**Type:** `double` _(read-only)_

The maximum fluid temperature of this generator prototype.

### min_darkness_to_spawn

**Type:** `float` _(read-only)_

The minimum darkness at which this unit spawner can spawn entities.

### min_pursue_time

**Type:** `uint` _(read-only)_

The minimum pursue time of this unit prototype.

### min_to_charge

**Type:** `float` _(read-only)_

The minimum energy for this flying robot before it tries to recharge.

### mineable_properties

**Type:** `MineableProperties` _(read-only)_

Whether this entity is minable and what can be obtained by mining it.

### minimum_resource_amount

**Type:** `uint` _(read-only)_

Minimum amount of this resource.

### mining_drill_radius

**Type:** `double` _(read-only)_

The mining radius of this mining drill prototype.

### mining_speed

**Type:** `double` _(read-only)_

The mining speed of this mining drill/character prototype.

### module_inventory_size

**Type:** `uint` _(read-only)_

The module inventory size. `nil` if this entity doesn't support modules.

### move_while_shooting

**Type:** `boolean` _(read-only)_

Whether this unit prototype can move while shooting.

### neighbour_bonus

**Type:** `double` _(read-only)_



### next_upgrade

**Type:** `LuaEntityPrototype` _(read-only)_

The next upgrade for this entity, if any.

### normal_resource_amount

**Type:** `uint` _(read-only)_

The normal amount for this resource.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### per_lane_filters

**Type:** `boolean` _(read-only)_



### profile

**Type:** ``double`[]` _(read-only)_

The beacon profile: extra multiplier applied to the effects received from beacon by the effect receiver based on amount of beacons that reach that effect receiver

### protected_from_tile_building

**Type:** `boolean` _(read-only)_

True if this entity prototype should be included during tile collision checks with [LuaTilePrototype::check_collision_with_entities](runtime:LuaTilePrototype::check_collision_with_entities) enabled.

### pumping_speed

**Type:** `double` _(read-only)_

The pumping speed of this offshore or normal pump. This property is deprecated in favor of [LuaEntityPrototype::get_pumping_speed](runtime:LuaEntityPrototype::get_pumping_speed) and should not be used.

### radar_range

**Type:** `uint` _(read-only)_

The radar range of this unit prototype.

### radius

**Type:** `double` _(read-only)_

The radius of this entity prototype.

### radius_visualisation_specification

**Type:** `RadiusVisualisationSpecification` _(read-only)_



### reach_distance

**Type:** `uint` _(read-only)_



### reach_resource_distance

**Type:** `double` _(read-only)_



### related_underground_belt

**Type:** `LuaEntityPrototype` _(read-only)_



### remains_when_mined

**Type:** ``LuaEntityPrototype`[]` _(read-only)_

The remains left behind when this entity is mined.

### remove_decoratives

**Type:**  _(read-only)_

Whether this entity should remove decoratives that collide with it when this entity is built.

### repair_speed_modifier

**Type:** `float` _(read-only)_

Repair-speed modifier for this entity, if any. Actual repair speed will be `tool_repair_speed * entity_repair_speed_modifier`.

### resistances

**Type:** `dictionary<`string`, `Resistance`>` _(read-only)_

List of resistances towards each damage type. It is a dictionary indexed by damage type names (see `data/base/prototypes/damage-type.lua`).

### resource_categories

**Type:** `dictionary<`string`, `True`>` _(read-only)_

The [resource categories](runtime:LuaResourceCategoryPrototype) this character or mining drill supports.

The value in the dictionary is meaningless and exists just to allow for easy lookup.

### resource_category

**Type:** `string` _(read-only)_

Name of the category of this resource.

During data stage, this property is named "category".

### resource_drain_rate_percent

**Type:** `uint8` _(read-only)_

The resource drain rate percent of this mining drill prototype.

### respawn_time

**Type:** `uint` _(read-only)_



### result_units

**Type:** ``UnitSpawnDefinition`[]` _(read-only)_

The result units and spawn points with weight and evolution factor for a biter spawner entity.

### rewire_neighbours_when_destroying

**Type:** `boolean` _(read-only)_



### rising_speed

**Type:** `double` _(read-only)_

The rising speed for this rocket silo rocket prototype.

### rocket_entity_prototype

**Type:** `LuaEntityPrototype` _(read-only)_

The rocket entity prototype associated with this rocket silo prototype.

### rocket_parts_required

**Type:** `uint` _(read-only)_

The rocket parts required for this rocket silo prototype.

### rocket_rising_delay

**Type:** `uint8` _(read-only)_

The rocket rising delay for this rocket silo prototype.

### rotation_snap_angle

**Type:** `double` _(read-only)_

The rotation snap angle of this car prototype.

### rotation_speed

**Type:** `double` _(read-only)_

The rotation speed of this car prototype.

### running_speed

**Type:** `double` _(read-only)_

The movement speed of this character prototype.

### scale_fluid_usage

**Type:** `boolean` _(read-only)_

Whether this generator prototype scales fluid usage.

### science_pack_drain_rate_percent

**Type:** `uint8` _(read-only)_

How much science pack durability is required to research one science point.

### secondary_collision_box

**Type:** `BoundingBox` _(read-only)_

The secondary bounding box used for collision checking, if any. This is only used in rails and rail remnants.

### selectable_in_game

**Type:** `boolean` _(read-only)_

Is this entity selectable?

### selection_box

**Type:** `BoundingBox` _(read-only)_

The bounding box used for drawing selection.

### selection_priority

**Type:** `uint` _(read-only)_

The selection priority of this entity - a value between `0` and `255`.

### shooting_cursor_size

**Type:** `float` _(read-only)_

The cursor size used when shooting at this entity.

### solar_panel_performance_at_day

**Type:** `double` _(read-only)_



### solar_panel_performance_at_night

**Type:** `double` _(read-only)_



### solar_panel_solar_coefficient_property

**Type:** `LuaSurfacePropertyPrototype` _(read-only)_



### spawn_cooldown

**Type:** `unknown` _(read-only)_

The spawning cooldown for this enemy spawner prototype.

### spawn_decoration

**Type:** ``TriggerEffectItem`[]` _(read-only)_



### spawn_decorations_on_expansion

**Type:** `boolean` _(read-only)_



### spawning_radius

**Type:** `double` _(read-only)_

How far from the spawner can the units be spawned.

### spawning_spacing

**Type:** `double` _(read-only)_

What spaces should be between the spawned units.

### spawning_time_modifier

**Type:** `double` _(read-only)_

The spawning time modifier of this unit prototype.

### speed

**Type:** `double` _(read-only)_

The default speed of this flying robot, rolling stock or unit. For rolling stocks, this is their `max_speed`.

### speed_multiplier_when_out_of_energy

**Type:** `float` _(read-only)_

The speed multiplier when this flying robot is out of energy.

### sticker_box

**Type:** `BoundingBox` _(read-only)_

The bounding box used to attach sticker type entities.

### supports_direction

**Type:** `boolean` _(read-only)_

Whether this entity prototype could possibly ever be rotated.

### surface_conditions

**Type:** ``SurfaceCondition`[]` _(read-only)_

The surface conditions required to build this entity.

### tank_driving

**Type:** `boolean` _(read-only)_

If this car prototype uses tank controls to drive.

### target_temperature

**Type:** `float` _(read-only)_

The target temperature of this boiler or fusion reactor prototype. If `nil` on a fusion reactor, the target temperature is the default temperature of the output fluid.

### terrain_friction_modifier

**Type:** `float` _(read-only)_

The terrain friction modifier for this vehicle.

### ticks_to_keep_aiming_direction

**Type:** `uint` _(read-only)_



### ticks_to_keep_gun

**Type:** `uint` _(read-only)_



### ticks_to_stay_in_combat

**Type:** `uint` _(read-only)_



### tile_height

**Type:** `uint` _(read-only)_

Specifies the tiling size of the entity, is used to decide, if the center should be in the center of the tile (odd tile size dimension) or on the tile border (even tile size dimension)

### tile_width

**Type:** `uint` _(read-only)_

Specifies the tiling size of the entity, is used to decide, if the center should be in the center of the tile (odd tile size dimension) or on the tile border (even tile size dimension)

### time_to_live

**Type:** `uint` _(read-only)_

The time to live for this prototype or `0` if prototype doesn't have time_to_live or time_before_removed.

### timeout

**Type:** `uint` _(read-only)_

The time it takes this land mine to arm.

### torso_bob_speed

**Type:** `double` _(read-only)_

The torso bob speed of this spider vehicle prototype.

### torso_rotation_speed

**Type:** `double` _(read-only)_

The torso rotation speed of this spider vehicle prototype.

### tree_color_count

**Type:** `uint8` _(read-only)_

If it is a tree, return the number of colors it supports.

### trigger_collision_mask

**Type:** `CollisionMask` _(read-only)_

The collision mask entities must collide with to make this landmine blow up.

### trigger_target_mask

**Type:** `dictionary<`string`, `boolean`>` _(read-only)_

The trigger target mask for this entity prototype type.

The values in the dictionary are meaningless and exists just to allow the dictionary type for easy lookup.

### turret_range

**Type:** `uint` _(read-only)_

The range of this turret.

### turret_rotation_speed

**Type:** `float` _(read-only)_

The turret rotation speed of this car prototype.

### use_exact_mode

**Type:** `boolean` _(read-only)_

Whether this logistic container prototype uses exact mode

### uses_force_mining_productivity_bonus

**Type:** `boolean` _(read-only)_

If this drill uses force productivity bonus

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

### valve_mode

**Type:** `ValveMode` _(read-only)_

The mode of operation of this valve.

### valve_threshold

**Type:** `float` _(read-only)_

The default threshold of this valve.

### vector_to_place_result

**Type:** `Vector` _(read-only)_



### vertical_selection_shift

**Type:** `double` _(read-only)_

Vertical selection shift used by rolling stocks. It affects selection box vertical position but is also used to shift rolling stock graphics along the rails to fine tune train's look.

### vision_distance

**Type:** `double` _(read-only)_

The vision distance of this unit prototype.

### void_energy_source_prototype

**Type:** `LuaVoidEnergySourcePrototype` _(read-only)_

The void energy source prototype this entity uses, if any.

### weight

**Type:** `double` _(read-only)_

The weight of this vehicle prototype.

---

## LuaEquipment

# LuaEquipment

An item in a [LuaEquipmentGrid](runtime:LuaEquipmentGrid), for example a fusion reactor placed in one's power armor.

An equipment reference becomes invalid once the equipment is removed or the equipment grid it resides in is destroyed.

## Attributes

### burner

**Type:** `LuaBurner` _(read-only)_

The burner energy source for this equipment, if any.

### energy

**Type:** `double`

Current available energy.

### generator_power

**Type:** `double` _(read-only)_

Energy generated per tick.

### ghost_name

**Type:** `string` _(read-only)_

Name of the equipment contained in this ghost

### ghost_prototype

**Type:** `LuaEquipmentPrototype` _(read-only)_

The prototype of the equipment contained in this ghost.

### ghost_type

**Type:** `string` _(read-only)_

Type of the equipment contained in this ghost.

### inventory_bonus

**Type:** `uint` _(read-only)_

Inventory size bonus.

### max_energy

**Type:** `double` _(read-only)_

Maximum amount of energy that can be stored in this equipment.

### max_shield

**Type:** `double` _(read-only)_

Maximum shield value. `0` if this equipment doesn't have a shield.

### max_solar_power

**Type:** `double` _(read-only)_

Maximum energy per tick crated by this equipment on the current surface. Actual generated energy varies depending on the daylight levels.

### movement_bonus

**Type:** `double` _(read-only)_

Movement speed bonus.

### name

**Type:** `string` _(read-only)_

Name of this equipment.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### position

**Type:** `EquipmentPosition` _(read-only)_

Position of this equipment in the equipment grid.

### prototype

**Type:** `LuaEquipmentPrototype` _(read-only)_



### quality

**Type:** `LuaQualityPrototype` _(read-only)_

Quality of this equipment.

### shape

**Type:** `unknown` _(read-only)_

Shape of this equipment.

### shield

**Type:** `double`

Current shield value of the equipment. Can't be set higher than [LuaEquipment::max_shield](runtime:LuaEquipment::max_shield).

Trying to write this value on non-shield equipment will throw an error.

### to_be_removed

**Type:** `boolean` _(read-only)_

If this equipment is marked to be removed.

### type

**Type:** `string` _(read-only)_

Type of this equipment.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaEquipmentCategoryPrototype

# LuaEquipmentCategoryPrototype

Prototype of an equipment category.

**Parent:** `LuaPrototypeBase`

## Attributes

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaEquipmentGrid

# LuaEquipmentGrid

An equipment grid is for example the inside of a power armor.

## Methods

### can_move

Check whether moving an equipment would succeed.

**Parameters:**

- `equipment` `LuaEquipment`: The equipment to move
- `position` `EquipmentPosition`: Where to put it

**Returns:**

- `boolean`: 

### cancel_removal

Cancels removal for the given equipment.

**Parameters:**

- `equipment` `LuaEquipment`: 

**Returns:**

- `boolean`: If the equipment removal was successfully cancelled.

### clear

Clear all equipment from the grid, removing it without actually returning it.

**Parameters:**

- `by_player` `PlayerIdentification` _(optional)_: If provided, the action is done 'as' this player and [on_player_removed_equipment](runtime:on_player_removed_equipment) is triggered.

### count

Get the number of all or some equipment in this grid.

**Parameters:**

- `equipment` `EquipmentWithQualityID` _(optional)_: The equipment to count. If not specified, count all equipment.

**Returns:**

- `uint`: 

### find

Find equipment by name.

**Parameters:**

- `equipment` `EquipmentWithQualityID`: Prototype of the equipment to find.
- `search_ghosts` `boolean` _(optional)_: If ghosts inner equipment should be searched. Defaults to `false`

**Returns:**

- `LuaEquipment`: The first found equipment, or `nil` if equipment could not be found.

### get

Find equipment in the Equipment Grid colliding with this position.

**Parameters:**

- `position` `EquipmentPosition`: The position

**Returns:**

- `LuaEquipment`: The found equipment, or `nil` if equipment occupying the given position could not be found.

### get_contents

Get counts of all equipment in this grid.

**Returns:**

- ``EquipmentWithQualityCounts`[]`: List of all equipment in the grid.

### get_generator_energy

Total energy per tick generated by the equipment inside this grid.

**Parameters:**

- `quality` `QualityID` _(optional)_: 

**Returns:**

- `double`: 

### move

Move an equipment within this grid.

**Parameters:**

- `equipment` `LuaEquipment`: The equipment to move
- `position` `EquipmentPosition`: Where to put it

**Returns:**

- `boolean`: `true` if the equipment was successfully moved.

### order_removal

Marks the given equipment for removal. If the given equipment is a ghost it is removed.

**Parameters:**

- `equipment` `LuaEquipment`: 

**Returns:**

- `boolean`: If the equipment was successfully marked for removal (or in the case of a ghost; removed.)

### put

Insert an equipment into the grid.

**Parameters:**

- `by_player` `PlayerIdentification` _(optional)_: If provided the action is done 'as' this player and [on_player_placed_equipment](runtime:on_player_placed_equipment) is triggered.
- `ghost` `boolean` _(optional)_: If true, place the equipment as a ghost.
- `name` `EquipmentID`: Equipment prototype name
- `position` `EquipmentPosition` _(optional)_: Grid position to put the equipment in.
- `quality` `QualityID` _(optional)_: The quality, `nil` for any or if not provided `normal` is used.

**Returns:**

- `LuaEquipment`: The newly-added equipment, or `nil` if the equipment could not be added.

### revive

Revives the given equipment ghost if possible.

**Parameters:**

- `equipment` `LuaEquipment`: The equipment ghost to revive.

**Returns:**

- `LuaEquipment`: 

### take

Remove an equipment from the grid.

**Parameters:**

- `by_player` `PlayerIdentification` _(optional)_: If provided the action is done 'as' this player and [on_player_removed_equipment](runtime:on_player_removed_equipment) is triggered.
- `equipment` `LuaEquipment` _(optional)_: Take this exact equipment.
- `position` `EquipmentPosition` _(optional)_: Take the equipment that contains this position in the grid.

**Returns:**

- `SimpleItemStack`: The removed equipment, or `nil` if no equipment was removed.

### take_all

Remove all equipment from the grid.

**Parameters:**

- `by_player` `PlayerIdentification` _(optional)_: If provided, the action is done 'as' this player and [on_player_removed_equipment](runtime:on_player_removed_equipment) is triggered.

**Returns:**

- ``ItemWithQualityCounts`[]`: List of the equipment that has been removed.

## Attributes

### available_in_batteries

**Type:** `double` _(read-only)_

The total energy stored in all batteries in the equipment grid.

### battery_capacity

**Type:** `double` _(read-only)_

Total energy storage capacity of all batteries in the equipment grid.

### entity_owner

**Type:** `LuaEntity` _(read-only)_

The entity that this equipment grid is owned by (in some inventory or item stack.)

If the owning entity is a character owned by some player and the player is disconnected this will return `nil`.

### equipment

**Type:** ``LuaEquipment`[]` _(read-only)_

All the equipment in this grid.

### height

**Type:** `uint` _(read-only)_

Height of the equipment grid.

### inhibit_movement_bonus

**Type:** `boolean`

Whether this grid's equipment movement bonus is active.

### inventory_bonus

**Type:** `uint` _(read-only)_

The total amount of inventory bonus this equipment grid gives.

### max_shield

**Type:** `float` _(read-only)_

The maximum amount of shields this equipment grid has.

### max_solar_energy

**Type:** `double` _(read-only)_

Maximum energy per tick that can be created by all solar panels in the equipment grid on the current surface. Actual generated energy varies depending on the daylight levels.

### movement_bonus

**Type:** `double` _(read-only)_

The total amount of movement bonus this equipment grid gives.

Returns `0` if [LuaEquipmentGrid::inhibit_movement_bonus](runtime:LuaEquipmentGrid::inhibit_movement_bonus) is `false`.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### player_owner

**Type:** `LuaPlayer` _(read-only)_

The player that this equipment grid is owned by (in some inventory or item stack.)

### prototype

**Type:** `LuaEquipmentGridPrototype` _(read-only)_



### shield

**Type:** `float` _(read-only)_

The amount of shields this equipment grid has.

### unique_id

**Type:** `uint` _(read-only)_

Unique identifier of this equipment grid.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

### width

**Type:** `uint` _(read-only)_

Width of the equipment grid.

---

## LuaEquipmentGridPrototype

# LuaEquipmentGridPrototype

Prototype of an equipment grid.

**Parent:** `LuaPrototypeBase`

## Attributes

### equipment_categories

**Type:** ``string`[]` _(read-only)_

Equipment category names for the [categories](runtime:LuaEquipmentPrototype::equipment_categories) that may be inserted into this equipment grid. The grid will accept any equipment that has at least one category in this list.

### height

**Type:** `uint` _(read-only)_



### locked

**Type:** `boolean` _(read-only)_

If the player can move equipment into or out of this grid.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

### width

**Type:** `uint` _(read-only)_

---

## LuaEquipmentPrototype

# LuaEquipmentPrototype

Prototype of a modular equipment.

**Parent:** `LuaPrototypeBase`

## Methods

### get_energy_consumption



**Parameters:**

- `quality` `QualityID` _(optional)_: 

**Returns:**

- `double`: 

### get_inventory_bonus



**Parameters:**

- `quality` `QualityID` _(optional)_: 

**Returns:**

- `uint`: 

### get_movement_bonus



**Parameters:**

- `quality` `QualityID` _(optional)_: 

**Returns:**

- `float`: 

### get_shield

The shield value of this equipment. 0 for non-shield equipment.

**Parameters:**

- `quality` `QualityID` _(optional)_: 

**Returns:**

- `float`: 

## Attributes

### attack_parameters

**Type:** `AttackParameters` _(read-only)_

The equipment attack parameters.

### automatic

**Type:** `boolean` _(read-only)_

Whether this active defense equipment is automatic. Returns false if not active defense equipment.

### background_color

**Type:** `Color` _(read-only)_

The background color of this equipment prototype.

### burner_prototype

**Type:** `LuaBurnerPrototype` _(read-only)_

The burner energy source prototype this equipment uses, if any.

### electric_energy_source_prototype

**Type:** `LuaElectricEnergySourcePrototype` _(read-only)_

The electric energy source prototype this equipment uses, if any.

### energy_per_shield

**Type:** `double` _(read-only)_

The energy per shield point restored. 0 for non-shield equipment.

### energy_production

**Type:** `double` _(read-only)_

The max power generated by this equipment.

### energy_source

**Type:** `LuaElectricEnergySourcePrototype` _(read-only)_

The energy source prototype for the equipment.

### equipment_categories

**Type:** ``string`[]` _(read-only)_

Category names for this equipment. These [categories](runtime:LuaEquipmentGridPrototype::equipment_categories) will be used to determine whether this equipment is allowed in a particular equipment grid.

### logistic_parameters

**Type:** `unknown` _(read-only)_

The logistic parameters for this roboport equipment.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### shape

**Type:** `unknown` _(read-only)_

Shape of this equipment prototype.

### solar_panel_performance_at_day

**Type:** `double` _(read-only)_



### solar_panel_performance_at_night

**Type:** `double` _(read-only)_



### solar_panel_solar_coefficient_property

**Type:** `LuaSurfacePropertyPrototype` _(read-only)_



### take_result

**Type:** `LuaItemPrototype` _(read-only)_

The result item when taking this equipment out of an equipment grid, if any.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaFlowStatistics

# LuaFlowStatistics

Encapsulates statistic data for different parts of the game.

In the context of flow statistics, `input`, `output` and `storage` describe in which position of the associated GUI the values are shown. Input values are shown on the far left side, output values to the immediate right, and storage values (if present) to the far right.

- The item production GUI shows "consumption" on the right, thus `output` describes the item consumption numbers. The same goes for fluid consumption.

- The kills GUI shows "losses" on the right, so `output` describes how many of the force's entities were killed by enemies.

- The electric network GUI shows "power consumption" on the left side, so in this case `input` describes the power consumption numbers. In addition, electric networks are currently the only ones that utilize the `storage` part of their statistics, showing accumulator charges to the far right of the GUI.

## Methods

### clear

Reset all the statistics data to 0.

### get_flow_count

Gets the flow count value for the given time frame. If `sample_index` is not provided, then the value returned is the average across the provided precision time period. These are the values shown in the bottom section of the statistics GUIs.

Use `sample_index` to access the data used to generate the statistics graphs. Each precision level contains 300 samples of data so at a precision of 1 minute, each sample contains data averaged across 60s / 300 = 0.2s = 12 ticks.

All return values are normalized to be per-tick for electric networks and per-minute for all other types.

**Parameters:**

- `category` `string`: The statistics category to read from. Valid choices are `"input"`, `"output"` and `"storage"`.
- `count` `boolean` _(optional)_: If true, the count of items/fluids/entities is returned instead of the per-time-frame value.
- `name` `FlowStatisticsID`: The prototype ID.
- `precision_index` `defines.flow_precision_index`: The precision to read.
- `sample_index` `uint16` _(optional)_: The sample index to read from within the precision range. If not provided, the entire precision range is read. Must be between 1 and 300 where 1 is the most recent sample and 300 is the oldest.

**Returns:**

- `double`: 

### get_input_count

Gets the total input count for a given prototype.

**Parameters:**

- `id` `FlowStatisticsID`: The prototype ID.

**Returns:**

- : 

### get_output_count

Gets the total output count for a given prototype.

**Parameters:**

- `id` `FlowStatisticsID`: The prototype ID.

**Returns:**

- : 

### get_storage_count

Gets the total storage count for a given prototype.

**Parameters:**

- `id` `FlowStatisticsID`: The prototype ID.

**Returns:**

- : 

### on_flow

Adds a value to this flow statistics.

**Parameters:**

- `count` `float`: The count: positive or negative determines if the value goes in the input or output statistics.
- `id` `FlowStatisticsID`: The prototype ID.

### set_input_count

Sets the total input count for a given prototype.

**Parameters:**

- `count` : The new count. The type depends on the instance of the statistics.
- `id` `FlowStatisticsID`: The prototype ID.

### set_output_count

Sets the total output count for a given prototype.

**Parameters:**

- `count` : The new count. The type depends on the instance of the statistics.
- `id` `FlowStatisticsID`: The prototype ID.

### set_storage_count

Sets the total storage count for a given prototype.

**Parameters:**

- `count` : The new count. The type depends on the instance of the statistics.
- `id` `FlowStatisticsID`: The prototype ID.

## Attributes

### force

**Type:** `LuaForce` _(read-only)_

The force these statistics belong to. `nil` for pollution statistics.

### input_counts

**Type:** `dictionary<`string`, >` _(read-only)_

List of input counts indexed by prototype name. Represents the data that is shown on the left side of the GUI for the given statistics.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### output_counts

**Type:** `dictionary<`string`, >` _(read-only)_

List of output counts indexed by prototype name. Represents the data that is shown in the middle of the GUI for electric networks and on the right side for all other statistics types.

### storage_counts

**Type:** `dictionary<`string`, >` _(read-only)_

List of storage counts indexed by prototype name. Represents the data that is shown on the right side of the GUI for electric networks. For other statistics types these values are currently unused and hidden.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaFluidBox

# LuaFluidBox

An array of fluid boxes of an entity. Entities may contain more than one fluid box, and some can change the number of fluid boxes -- for instance, an assembling machine will change its number of fluid boxes depending on its active recipe. See [Fluid](runtime:Fluid).

Do note that reading from a [LuaFluidBox](runtime:LuaFluidBox) creates a new table and writing will copy the given fields from the table into the engine's own fluid box structure. Therefore, the correct way to update a fluidbox of an entity is to read it first, modify the table, then write the modified table back. Directly accessing the returned table's attributes won't have the desired effect.

## Methods

### add_linked_connection

Registers a linked connection between this entity and other entity. Because entity may have multiple fluidboxes, each with multiple connections that could be linked, a unique value for this and other linked_connection_id may need to be given.

It may happen a linked connection is not established immediately due to crafting machines being possible to not have certain fluidboxes exposed at a given point in time, but once they appear (due to recipe changes that would use them) they will be linked. Linked connections are persisted as (this_entity, this_linked_connection_id, other_entity, other_linked_connection_id) so if a pipe connection definition's value of linked_connection_id changes existing connections may not restore correct connections.

Every fluidbox connection that was defined in prototypes as connection_type=="linked" may be linked to at most 1 other fluidbox. When trying to connect already used connection, previous connection will be removed.

Linked connections cannot go to the same entity even if they would be part of other fluidbox.

**Parameters:**

- `other_entity` `LuaEntity`: 
- `other_linked_connection_id` `uint`: 
- `this_linked_connection_id` `uint`: 

### flush

Flushes all fluid from this fluidbox and its fluid system.

**Parameters:**

- `fluid` `FluidID` _(optional)_: If provided, only this fluid is flushed.
- `index` `uint`: 

**Returns:**

- `dictionary<`string`, `float`>`: The removed fluid.

### get_capacity

The capacity of the given fluidbox segment.

**Parameters:**

- `index` `uint`: 

**Returns:**

- `double`: 

### get_connections

The fluidboxes to which the fluidbox at the given index is connected.

**Parameters:**

- `index` `uint`: 

**Returns:**

- ``LuaFluidBox`[]`: 

### get_filter

Get a fluid box filter

**Parameters:**

- `index` `uint`: The index of the filter to get.

**Returns:**

- `FluidBoxFilter`: The filter at the requested index, or `nil` if there isn't one.

### get_fluid_segment_contents

Gets counts of all fluids in the fluid segment. May return `nil` for fluid wagon, fluid turret's internal buffer, or a fluidbox which does not belong to a fluid segment.

Note that this method only ever returns one fluid, since fluids can't be mixed anymore.

**Parameters:**

- `index` `uint`: 

**Returns:**

- `dictionary<`string`, `uint`>`: The counts, indexed by fluid name.

### get_fluid_segment_id

Gets the unique ID of the fluid segment this fluid box belongs to. May return `nil` for fluid wagon, fluid turret's internal buffer or a fluidbox which does not belong to a fluid segment.

**Parameters:**

- `index` `uint`: 

**Returns:**

- `uint`: 

### get_linked_connection

Returns other end of a linked connection.

**Parameters:**

- `this_linked_connection_id` `uint`: 

**Returns:**

- `LuaEntity`: Other entity to which a linked connection was made
- `uint`: linked_connection_id on other entity

### get_linked_connections

Returns list of all linked connections registered for this entity.

**Returns:**

- ``FluidBoxConnectionRecord`[]`: 

### get_locked_fluid

Returns the fluid the fluidbox is locked onto

**Parameters:**

- `index` `uint`: 

**Returns:**

- `string`: `nil` if the fluidbox is not locked to any fluid.

### get_pipe_connections

Get the fluid box's connections and associated data.

**Parameters:**

- `index` `uint`: 

**Returns:**

- ``PipeConnection`[]`: 

### get_prototype

The prototype of this fluidbox index. If this is used on a fluidbox of a crafting machine which due to recipe was created by merging multiple prototypes, a table of prototypes that were merged will be returned instead

**Parameters:**

- `index` `uint`: 

**Returns:**

- : 

### remove_linked_connection

Removes linked connection record. If connected, other end will be also removed.

**Parameters:**

- `this_linked_connection_id` `uint`: 

### set_filter

Set a fluid box filter.

Some entities cannot have their fluidbox filter set, notably fluid wagons and crafting machines.

**Parameters:**

- `filter` : The filter to set. Setting `nil` clears the filter.
- `index` `uint`: The index of the filter to set.

**Returns:**

- `boolean`: Whether the filter was set successfully.

## Attributes

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### owner

**Type:** `LuaEntity` _(read-only)_

The entity that owns this fluidbox.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaFluidBoxPrototype

# LuaFluidBoxPrototype

A prototype of a fluidbox owned by some [LuaEntityPrototype](runtime:LuaEntityPrototype).

## Attributes

### entity

**Type:** `LuaEntityPrototype` _(read-only)_

The entity that this belongs to.

### filter

**Type:** `LuaFluidPrototype` _(read-only)_

The filter, if any is set.

### index

**Type:** `uint` _(read-only)_

The index of this fluidbox prototype in the owning entity.

### maximum_temperature

**Type:** `double` _(read-only)_

The maximum temperature, if any is set.

### minimum_temperature

**Type:** `double` _(read-only)_

The minimum temperature, if any is set.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### pipe_connections

**Type:** ``PipeConnectionDefinition`[]` _(read-only)_

The pipe connection points.

### production_type

**Type:**  _(read-only)_

The production type.

### render_layer

**Type:** `string` _(read-only)_

The render layer.

### secondary_draw_orders

**Type:** ``int`[]` _(read-only)_

The secondary draw orders for the 4 possible connection directions.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

### volume

**Type:** `double` _(read-only)_

---

## LuaFluidEnergySourcePrototype

# LuaFluidEnergySourcePrototype

Prototype of a fluid energy source.

## Attributes

### burns_fluid

**Type:** `boolean` _(read-only)_



### destroy_non_fuel_fluid

**Type:** `boolean` _(read-only)_



### effectivity

**Type:** `double` _(read-only)_



### emissions_per_joule

**Type:** `dictionary<`string`, `double`>` _(read-only)_

The table of emissions of this energy source in `pollution/Joule`, indexed by pollutant type. Multiplying it by energy consumption in `Watt` gives `pollution/second`.

### fluid_box

**Type:** `LuaFluidBoxPrototype` _(read-only)_

The fluid box for this energy source.

### fluid_usage_per_tick

**Type:** `double` _(read-only)_



### maximum_temperature

**Type:** `double` _(read-only)_



### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### render_no_network_icon

**Type:** `boolean` _(read-only)_



### render_no_power_icon

**Type:** `boolean` _(read-only)_



### scale_fluid_usage

**Type:** `boolean` _(read-only)_



### smoke

**Type:** ``SmokeSource`[]` _(read-only)_

The smoke sources for this prototype, if any.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaFluidPrototype

# LuaFluidPrototype

Prototype of a fluid.

**Parent:** `LuaPrototypeBase`

## Attributes

### base_color

**Type:** `Color` _(read-only)_



### default_temperature

**Type:** `double` _(read-only)_

Default temperature of this fluid.

### emissions_multiplier

**Type:** `double` _(read-only)_

A multiplier on the amount of emissions produced when this fluid is burnt in a generator. A value above `1.0` increases emissions and vice versa. The multiplier can't be negative.

### factoriopedia_alternative

**Type:** `LuaFluidPrototype` _(read-only)_

An alternative prototype that will be used to display info about this prototype in Factoriopedia.

### flow_color

**Type:** `Color` _(read-only)_



### fuel_value

**Type:** `double` _(read-only)_

The amount of energy in Joules one unit of this fluid will produce when burnt in a generator. A value of `0` means this fluid can't be used for energy generation. The value can't be negative.

### gas_temperature

**Type:** `double` _(read-only)_

The temperature above which this fluid will be shown as gaseous inside tanks and pipes.

### heat_capacity

**Type:** `double` _(read-only)_

The amount of energy in Joules required to heat one unit of this fluid by 1°C.

### max_temperature

**Type:** `double` _(read-only)_

Maximum temperature this fluid can reach.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaFontPrototype

# LuaFontPrototype

Prototype of a font.

## Attributes

### border

**Type:** `boolean` _(read-only)_



### border_color

**Type:** `Color` _(read-only)_

The border color, if any.

### filtered

**Type:** `boolean` _(read-only)_



### from

**Type:** `string` _(read-only)_



### name

**Type:** `string` _(read-only)_

Name of this prototype.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### size

**Type:** `int` _(read-only)_



### spacing

**Type:** `float` _(read-only)_



### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaForce

# LuaForce

`LuaForce` encapsulates data local to each "force" or "faction" of the game. Default forces are player, enemy and neutral. Players and mods can create additional forces (up to 64 total).

## Methods

### add_chart_tag

Adds a custom chart tag to the given surface and returns the new tag or `nil` if the given position isn't valid for a chart tag.

The chunk must be charted for a tag to be valid at that location.

**Parameters:**

- `surface` `SurfaceIdentification`: Which surface to add the tag to.
- `tag` `ChartTagSpec`: The tag to add.

**Returns:**

- `LuaCustomChartTag`: 

### add_research

Add this technology to the back of the research queue if the queue is enabled. Otherwise, set this technology to be researched now.

**Parameters:**

- `technology` `TechnologyID`: 

**Returns:**

- `boolean`: Whether the technology was successfully added.

### cancel_charting

Cancels pending chart requests for the given surface or all surfaces.

**Parameters:**

- `surface` `SurfaceIdentification` _(optional)_: 

### cancel_current_research

Stop the research currently in progress. This will remove any dependent technologies from the research queue.

### chart

Chart a portion of the map. The chart for the given area is refreshed; it creates chart for any parts of the given area that haven't been charted yet.

**Parameters:**

- `area` `BoundingBox`: The area on the given surface to chart.
- `surface` `SurfaceIdentification`: 

### chart_all

Chart all generated chunks.

**Parameters:**

- `surface` `SurfaceIdentification` _(optional)_: Which surface to chart or all if not given.

### clear_chart

Erases chart data for this force.

**Parameters:**

- `surface` `SurfaceIdentification` _(optional)_: Which surface to erase chart data for or if not provided all surfaces charts are erased.

### copy_chart

Copies the given surface's chart from the given force to this force.

**Parameters:**

- `destination_surface` `SurfaceIdentification`: The surface to copy to.
- `source_force` `ForceID`: The force to copy from
- `source_surface` `SurfaceIdentification`: The surface to copy from.

### copy_from

Copies all of the given changeable values (except charts) from the given force to this force.

**Parameters:**

- `force` `ForceID`: The force to copy from.

### create_space_platform

Creates a new space platform on this force.

**Parameters:**

- `name` `string` _(optional)_: The platform name. If not provided, a random name will be used.
- `planet` `SpaceLocationID`: The planet that the platform will orbit.
- `starter_pack` `ItemWithQualityID`: The starter pack required to build the platform.

**Returns:**

- `LuaSpacePlatform`: 

### disable_all_prototypes

Disable all recipes and technologies. Only recipes and technologies enabled explicitly will be useable from this point.

### disable_research

Disable research for this force.

### enable_all_prototypes

Enables all recipes and technologies. The opposite of [LuaForce::disable_all_prototypes](runtime:LuaForce::disable_all_prototypes).

### enable_all_recipes

Unlock all recipes.

### enable_all_technologies

Unlock all technologies.

### enable_research

Enable research for this force.

### find_chart_tags

Finds all custom chart tags within the given bounding box on the given surface.

**Parameters:**

- `area` `BoundingBox` _(optional)_: 
- `surface` `SurfaceIdentification`: 

**Returns:**

- ``LuaCustomChartTag`[]`: 

### find_logistic_network_by_position



**Parameters:**

- `position` `MapPosition`: Position to find a network for
- `surface` `SurfaceIdentification`: Surface to search on

**Returns:**

- `LuaLogisticNetwork`: The found network or `nil`.

### get_ammo_damage_modifier



**Parameters:**

- `ammo` `string`: Ammo category

**Returns:**

- `double`: 

### get_cease_fire

Is `other` force in this force's cease fire list?

**Parameters:**

- `other` `ForceID`: 

**Returns:**

- `boolean`: 

### get_entity_build_count_statistics

The entity build statistics for this force (built and mined) for the given surface.

**Parameters:**

- `surface` `SurfaceIdentification`: 

**Returns:**

- `LuaFlowStatistics`: 

### get_entity_count

Count entities of given type.

This function has O(1) time complexity as entity counts are kept and maintained in the game engine.

**Parameters:**

- `name` `EntityID`: Prototype name of the entity.

**Returns:**

- `uint`: Number of entities of given prototype belonging to this force.

### get_evolution_factor

Fetches the evolution factor of this force on the given surface.

**Parameters:**

- `surface` `SurfaceIdentification` _(optional)_: Defaults to "nauvis".

**Returns:**

- `double`: 

### get_evolution_factor_by_killing_spawners

Fetches the spawner kill part of the evolution factor of this force on the given surface.

**Parameters:**

- `surface` `SurfaceIdentification` _(optional)_: Defaults to "nauvis".

**Returns:**

- `double`: 

### get_evolution_factor_by_pollution

Fetches the pollution part of the evolution factor of this force on the given surface.

**Parameters:**

- `surface` `SurfaceIdentification` _(optional)_: Defaults to "nauvis".

**Returns:**

- `double`: 

### get_evolution_factor_by_time

Fetches the time part of the evolution factor of this force on the given surface.

**Parameters:**

- `surface` `SurfaceIdentification` _(optional)_: Defaults to "nauvis".

**Returns:**

- `double`: 

### get_fluid_production_statistics

The fluid production statistics for this force for the given surface.

**Parameters:**

- `surface` `SurfaceIdentification`: 

**Returns:**

- `LuaFlowStatistics`: 

### get_friend

Is `other` force in this force's friends list.

**Parameters:**

- `other` `ForceID`: 

**Returns:**

- `boolean`: 

### get_gun_speed_modifier



**Parameters:**

- `ammo` `string`: Ammo category

**Returns:**

- `double`: 

### get_hand_crafting_disabled_for_recipe

Gets if the given recipe is explicitly disabled from being hand crafted.

**Parameters:**

- `recipe` `RecipeID`: 

**Returns:**

- `boolean`: 

### get_item_launched

Gets the count of a given item launched in rockets.

**Parameters:**

- `item` `ItemID`: The item to get

**Returns:**

- `uint`: The count of the item that has been launched.

### get_item_production_statistics

The item production statistics for this force for the given surface.

**Parameters:**

- `surface` `SurfaceIdentification`: 

**Returns:**

- `LuaFlowStatistics`: 

### get_kill_count_statistics

The kill counter statistics for this force for the given surface.

**Parameters:**

- `surface` `SurfaceIdentification`: 

**Returns:**

- `LuaFlowStatistics`: 

### get_linked_inventory

Gets the linked inventory for the given prototype and link ID if it exists or `nil`.

**Parameters:**

- `link_id` `uint`: 
- `prototype` `EntityID`: 

**Returns:**

- `LuaInventory`: 

### get_spawn_position



**Parameters:**

- `surface` `SurfaceIdentification`: 

**Returns:**

- `MapPosition`: 

### get_surface_hidden



**Parameters:**

- `surface` `SurfaceIdentification`: 

**Returns:**

- `boolean`: 

### get_turret_attack_modifier



**Parameters:**

- `turret` `EntityID`: Turret prototype name

**Returns:**

- `double`: 

### is_chunk_charted

Has a chunk been charted?

**Parameters:**

- `position` `ChunkPosition`: Position of the chunk.
- `surface` `SurfaceIdentification`: 

**Returns:**

- `boolean`: 

### is_chunk_requested_for_charting

Has a chunk been requested for charting?

**Parameters:**

- `position` `ChunkPosition`: Position of the chunk.
- `surface` `SurfaceIdentification`: 

**Returns:**

- `boolean`: 

### is_chunk_visible

Is the given chunk currently charted and visible (not covered by fog of war) on the map.

**Parameters:**

- `position` `ChunkPosition`: 
- `surface` `SurfaceIdentification`: 

**Returns:**

- `boolean`: 

### is_enemy

Is this force an enemy? This differs from `get_cease_fire` in that it is always false for neutral force. This is equivalent to checking the `enemy` ForceCondition.

**Parameters:**

- `other` `ForceID`: 

**Returns:**

- `boolean`: 

### is_friend

Is this force a friend? This differs from `get_friend` in that it is always true for neutral force. This is equivalent to checking the `friend` ForceCondition.

**Parameters:**

- `other` `ForceID`: 

**Returns:**

- `boolean`: 

### is_pathfinder_busy

Is pathfinder busy? When the pathfinder is busy, it won't accept any more pathfinding requests.

**Returns:**

- `boolean`: 

### is_quality_unlocked

Is the specified quality unlocked for this force?

**Parameters:**

- `quality` `QualityID`: Name of the quality.

### is_space_location_unlocked

Is the specified planet unlocked for this force?

**Parameters:**

- `name` `SpaceLocationID`: Name of the planet.

### is_space_platforms_unlocked

Are the space platforms unlocked? This basically just controls the availability of the space platforms button.

**Returns:**

- `boolean`: 

### kill_all_units

Kill all units and flush the pathfinder.

### lock_quality

Locks the quality to not be accessible to this force.

**Parameters:**

- `quality` `QualityID`: Name of the quality.

### lock_space_location

Locks the planet to not be accessible to this force.

**Parameters:**

- `name` `SpaceLocationID`: Name of the planet.

### lock_space_platforms

Locks the space platforms, which disables the space platforms button

### play_sound

Play a sound for every player in this force.

The sound is not played if its location is not [charted](runtime:LuaForce::chart) for this force.

**Parameters:**

- `sound_specification` `PlaySoundSpecification`: The sound to play.

### print

Print text to the chat console of all players on this force.

By default, messages that are identical to a message sent in the last 60 ticks are not printed again.

**Parameters:**

- `message` `LocalisedString`: 
- `print_settings` `PrintSettings` _(optional)_: 

### rechart

Force a rechart of the whole chart.

**Parameters:**

- `surface` `SurfaceIdentification` _(optional)_: Which surface to rechart or all if not given.

### research_all_technologies

Research all technologies.

**Parameters:**

- `include_disabled_prototypes` `boolean` _(optional)_: Whether technologies that are explicitly disabled in the prototype should also be researched. Defaults to `false`.

### reset

Reset everything. All technologies are set to not researched, all modifiers are set to default values.

### reset_evolution

Resets evolution for this force to zero.

### reset_recipes

Load the original version of all recipes from the prototypes.

### reset_technologies

Load the original versions of technologies from prototypes. Preserves research state of technologies.

### reset_technology_effects

Reapplies all possible research effects, including unlocked recipes. Any custom changes are lost. Preserves research state of technologies.

### set_ammo_damage_modifier



**Parameters:**

- `ammo` `string`: Ammo category
- `modifier` `double`: 

### set_cease_fire

Add `other` force to this force's cease fire list. Forces on the cease fire list won't be targeted for attack.

**Parameters:**

- `cease_fire` `boolean`: 
- `other` `ForceID`: 

### set_evolution_factor

Sets the evolution factor of this force on the given surface.

**Parameters:**

- `factor` `double`: 
- `surface` `SurfaceIdentification` _(optional)_: Defaults to "nauvis".

### set_evolution_factor_by_killing_spawners

Sets the spawner kill part of the evolution factor of this force on the given surface.

**Parameters:**

- `factor` `double`: 
- `surface` `SurfaceIdentification` _(optional)_: Defaults to "nauvis".

### set_evolution_factor_by_pollution

Sets the pollution part of the evolution factor of this force on the given surface.

**Parameters:**

- `factor` `double`: 
- `surface` `SurfaceIdentification` _(optional)_: Defaults to "nauvis".

### set_evolution_factor_by_time

Sets the time part of the evolution factor of this force on the given surface.

**Parameters:**

- `factor` `double`: 
- `surface` `SurfaceIdentification` _(optional)_: Defaults to "nauvis".

### set_friend

Add `other` force to this force's friends list. Friends have unrestricted access to buildings and turrets won't fire at them.

**Parameters:**

- `friend` `boolean`: 
- `other` `ForceID`: 

### set_gun_speed_modifier



**Parameters:**

- `ammo` `string`: Ammo category
- `modifier` `double`: 

### set_hand_crafting_disabled_for_recipe

Sets if the given recipe can be hand-crafted. This is used to explicitly disable hand crafting a recipe - it won't allow hand-crafting otherwise not hand-craftable recipes.

**Parameters:**

- `hand_crafting_disabled` `boolean`: 
- `recipe` `RecipeID`: 

### set_item_launched

Sets the count of a given item launched in rockets.

**Parameters:**

- `count` `uint`: The count to set
- `item` `ItemID`: The item to set

### set_spawn_position



**Parameters:**

- `position` `MapPosition`: The new position on the given surface.
- `surface` `SurfaceIdentification`: Surface to set the spawn position for.

### set_surface_hidden



**Parameters:**

- `hidden` `boolean`: Whether to hide the surface or not.
- `surface` `SurfaceIdentification`: Surface to set hidden for.

### set_turret_attack_modifier



**Parameters:**

- `modifier` `double`: 
- `turret` `EntityID`: Turret prototype name

### unchart_chunk



**Parameters:**

- `position` `ChunkPosition`: The chunk position to unchart.
- `surface` `SurfaceIdentification`: Surface to unchart on.

### unlock_quality

Unlocks the quality to be accessible to this force.

**Parameters:**

- `quality` `QualityID`: Name of the quality.

### unlock_space_location

Unlocks the planet to be accessible to this force.

**Parameters:**

- `name` `SpaceLocationID`: Name of the planet.

### unlock_space_platforms

Unlocks the space platforms, which enables the space platforms button

## Attributes

### ai_controllable

**Type:** `boolean`

Enables some higher-level AI behaviour for this force. When set to `true`, biters belonging to this force will automatically expand into new territories, build new spawners, and form unit groups. By default, this value is `true` for the enemy force and `false` for all others.

Setting this to `false` does not turn off biters' AI. They will still move around and attack players who come close.

It is necessary for a force to be AI controllable in order to be able to create unit groups or build bases from scripts.

### artillery_range_modifier

**Type:** `double`



### beacon_distribution_modifier

**Type:** `double`



### belt_stack_size_bonus

**Type:** `uint`

Belt stack size bonus.

### bulk_inserter_capacity_bonus

**Type:** `uint`

Number of items that can be transferred by bulk inserters. When writing to this value, it must be >= 0 and <= 254.

### character_build_distance_bonus

**Type:** `uint`



### character_health_bonus

**Type:** `double`



### character_inventory_slots_bonus

**Type:** `uint`

The number of additional inventory slots the character main inventory has.

### character_item_drop_distance_bonus

**Type:** `uint`



### character_item_pickup_distance_bonus

**Type:** `double`



### character_logistic_requests

**Type:** `boolean`

`true` if character requester logistics is enabled.

### character_loot_pickup_distance_bonus

**Type:** `double`



### character_reach_distance_bonus

**Type:** `uint`



### character_resource_reach_distance_bonus

**Type:** `double`



### character_running_speed_modifier

**Type:** `double`

Modifies the running speed of all characters in this force by the given value as a percentage. Setting the running modifier to `0.5` makes the character run 50% faster. The minimum value of `-1` reduces the movement speed by 100%, resulting in a speed of `0`.

### character_trash_slot_count

**Type:** `double`

Number of character trash slots.

### circuit_network_enabled

**Type:** `boolean`



### cliff_deconstruction_enabled

**Type:** `boolean`

When true, cliffs will be marked for deconstruction when trying to force-build things that collide.

### color

**Type:** `Color` _(read-only)_

Effective color of this force.

### connected_players

**Type:** ``LuaPlayer`[]` _(read-only)_

The connected players belonging to this force.

This is primarily useful when you want to do some action against all online players of this force.

This does *not* index using player index. See [LuaPlayer::index](runtime:LuaPlayer::index) on each player instance for the player index.

### create_ghost_on_entity_death

**Type:** `boolean`

When an entity dies, a ghost will be placed for automatic reconstruction.

### current_research

**Type:** `LuaTechnology` _(read-only)_

The currently ongoing technology research, if any.

### custom_color

**Type:** `Color`

Custom color for this force. If specified, will take priority over other sources of the force color. Writing `nil` clears custom color. Will return `nil` if it was not specified or if was set to `{0,0,0,0}`.

### deconstruction_time_to_live

**Type:** `uint`

The time, in ticks, before a deconstruction order is removed.

### following_robots_lifetime_modifier

**Type:** `double`

Additional lifetime for following robots.

### friendly_fire

**Type:** `boolean`

If friendly fire is enabled for this force.

### index

**Type:** `uint` _(read-only)_

This force's index in [LuaGameScript::forces](runtime:LuaGameScript::forces) (unique ID). It is assigned when a force is created, and remains so until it is [merged](runtime:on_forces_merged) (ie. deleted). Indexes of merged forces can be reused.

### inserter_stack_size_bonus

**Type:** `double`

The inserter stack size bonus for non stack inserters

### items_launched

**Type:** ``ItemWithQualityCounts`[]` _(read-only)_

All of the items that have been launched in rockets.

### laboratory_productivity_bonus

**Type:** `double`



### laboratory_speed_modifier

**Type:** `double`



### logistic_networks

**Type:** `dictionary<`string`, ``LuaLogisticNetwork`[]`>` _(read-only)_

List of logistic networks, grouped by surface.

### manual_crafting_speed_modifier

**Type:** `double`

Multiplier of the manual crafting speed. Default value is `0`. The actual crafting speed will be multiplied by `1 + manual_crafting_speed_modifier`.

### manual_mining_speed_modifier

**Type:** `double`

Multiplier of the manual mining speed. Default value is `0`. The actual mining speed will be multiplied by `1 + manual_mining_speed_modifier`.

### max_failed_attempts_per_tick_per_construction_queue

**Type:** `uint`



### max_successful_attempts_per_tick_per_construction_queue

**Type:** `uint`



### maximum_following_robot_count

**Type:** `uint`

Maximum number of follower robots.

### mining_drill_productivity_bonus

**Type:** `double`



### mining_with_fluid

**Type:** `boolean`



### name

**Type:** `string` _(read-only)_

Name of the force.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### platforms

**Type:** `dictionary<`uint`, `LuaSpacePlatform`>` _(read-only)_

The space platforms that belong to this force mapped by their index value.

This will include platforms that are pending deletion.

### players

**Type:** ``LuaPlayer`[]` _(read-only)_

Players belonging to this force.

### previous_research

**Type:** `LuaTechnology`

The previous research, if any.

### rail_planner_allow_elevated_rails

**Type:** `boolean`



### rail_support_on_deep_oil_ocean

**Type:** `boolean`



### recipes

**Type:** `LuaCustomTable<`string`, `LuaRecipe`>` _(read-only)_

Recipes available to this force, indexed by `name`.

### research_enabled

**Type:** `boolean` _(read-only)_

Whether research is enabled for this force, see [LuaForce::enable_research](runtime:LuaForce::enable_research) and [LuaForce::disable_research](runtime:LuaForce::disable_research).

### research_progress

**Type:** `double`

Progress of current research, as a number in range `[0, 1]`.

### research_queue

**Type:** ``TechnologyID`[]`

The research queue of this force. The first technology in the array is the currently active one. Reading this attribute gives an array of [LuaTechnology](runtime:LuaTechnology).

To write to this, the entire table must be written. Providing an empty table or `nil` will empty the research queue and cancel the current research.  Writing to this when the research queue is disabled will simply set the last research in the table as the current research.

This only allows mods to queue research that this force is able to research in the first place. As an example, an already researched technology or one whose prerequisites are not fulfilled will not be queued, but dropped silently instead.

### rockets_launched

**Type:** `uint`

The number of rockets launched.

### share_chart

**Type:** `boolean`

If sharing chart data is enabled for this force.

### technologies

**Type:** `LuaCustomTable<`string`, `LuaTechnology`>` _(read-only)_

Technologies owned by this force, indexed by `name`.

### train_braking_force_bonus

**Type:** `double`



### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

### vehicle_logistics

**Type:** `boolean`

When true, cars/tanks that support logistics will be able to use them.

### worker_robots_battery_modifier

**Type:** `double`



### worker_robots_speed_modifier

**Type:** `double`



### worker_robots_storage_bonus

**Type:** `double`

---

## LuaFuelCategoryPrototype

# LuaFuelCategoryPrototype

Prototype of a fuel category.

**Parent:** `LuaPrototypeBase`

## Attributes

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaFurnaceControlBehavior

# LuaFurnaceControlBehavior

Control behavior for furnaces.

**Parent:** `LuaGenericOnOffControlBehavior`

## Attributes

### circuit_read_contents

**Type:** `boolean`

`true` if the furnace reads its ingredients contents, product contents and materials in crafting.

### circuit_read_ingredients

**Type:** `boolean`

`true` if the furnace outputs ingredients of current recipe as a signals to circuit network.

### circuit_read_recipe_finished

**Type:** `boolean`

`true` if the the furnace sends a signal when the recipe finishes.

### circuit_read_working

**Type:** `boolean`

`true` if the the furnace sends a signal when it is working.

### circuit_recipe_finished_signal

**Type:** `SignalID`

The signal sent when the furnace finishes a recipe.

### circuit_working_signal

**Type:** `SignalID`

The signal sent when the furnace is working.

### include_fuel

**Type:** `boolean`

`true` if the read contents should include fuel (content of energy source)

### include_in_crafting

**Type:** `boolean`

`true` if the read contents should include items in crafting.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaGameScript

# LuaGameScript

Main toplevel type, provides access to most of the API though its members. An instance of LuaGameScript is available as the global object named `game`.

## Methods

### auto_save

Instruct the game to perform an auto-save.

Only the server will save in multiplayer. In single player a standard auto-save is triggered.

**Parameters:**

- `name` `string` _(optional)_: The autosave name if any. Saves will be named _autosave-*name* when provided.

### ban_player

Bans the given player from this multiplayer game. Does nothing if this is a single player game of if the player running this isn't an admin.

**Parameters:**

- `player` : The player to ban.
- `reason` `string` _(optional)_: The reason given if any.

### check_consistency

Run internal consistency checks. Allegedly prints any errors it finds.

Exists mainly for debugging reasons.

### create_force

Create a new force.

The game currently supports a maximum of 64 forces, including the three built-in forces. This means that a maximum of 61 new forces may be created. Force names must be unique.

**Parameters:**

- `force` `string`: Name of the new force

**Returns:**

- `LuaForce`: The force that was just created

### create_inventory

Creates an inventory that is not owned by any game object.

It can be resized later with [LuaInventory::resize](runtime:LuaInventory::resize).

Make sure to destroy it when you are done with it using [LuaInventory::destroy](runtime:LuaInventory::destroy).

**Parameters:**

- `gui_title` `LocalisedString` _(optional)_: The title of the GUI that is shown when this inventory is opened.
- `size` `uint16`: The number of slots the inventory initially has.

**Returns:**

- `LuaInventory`: 

### create_profiler

Creates a [LuaProfiler](runtime:LuaProfiler), which is used for measuring script performance.

LuaProfiler cannot be serialized.

**Parameters:**

- `stopped` `boolean` _(optional)_: Create the timer stopped

**Returns:**

- `LuaProfiler`: 

### create_random_generator

Creates a deterministic standalone random generator with the given seed or if a seed is not provided the initial map seed is used.

*Make sure* you actually want to use this over math.random(...) as this provides entirely different functionality over math.random(...).

**Parameters:**

- `seed` `uint` _(optional)_: 

**Returns:**

- `LuaRandomGenerator`: 

### create_surface

Create a new surface.

The game currently supports a maximum of 4 294 967 295 surfaces, including the default surface. Surface names must be unique.

**Parameters:**

- `name` `string`: Name of the new surface.
- `settings` `MapGenSettings` _(optional)_: Map generation settings.

**Returns:**

- `LuaSurface`: The surface that was just created.

### delete_surface

Deletes the given surface and all entities on it if possible.

**Parameters:**

- `surface` `SurfaceIdentification`: The surface to be deleted. Currently the primary surface (1, 'nauvis') cannot be deleted.

**Returns:**

- `boolean`: If the surface was queued to be deleted.

### disable_replay

Disables replay saving for the current save file. Once done there's no way to re-enable replay saving for the save file without loading an old save.

### force_crc

Force a CRC check. Tells all peers to calculate their current CRC, which are then compared to each other. If a mismatch is detected, the game desyncs and some peers are forced to reconnect.

### get_entity_by_tag

Gets an entity by its [name tag](runtime:LuaEntity::name_tag). Entity name tags can also be set in the entity "extra settings" GUI in the map editor.

**Parameters:**

- `tag` `string`: 

**Returns:**

- `LuaEntity`: 

### get_entity_by_unit_number

Returns entity with a specified unit number or nil if entity with such number was not found or prototype does not have [EntityPrototypeFlags::get-by-unit-number](prototype:EntityPrototypeFlags::get_by_unit_number) flag set.

**Parameters:**

- `unit_number` `uint`: 

**Returns:**

- `LuaEntity`: 

### get_map_exchange_string

Gets the map exchange string for the map generation settings that were used to create this map.

**Returns:**

- `string`: 

### get_player

Gets the given player or returns `nil` if no player is found.

**Parameters:**

- `player` : The player index or name.

**Returns:**

- `LuaPlayer`: 

### get_pollution_statistics

The pollution statistics for this the given surface.

**Parameters:**

- `surface` `SurfaceIdentification`: 

**Returns:**

- `LuaFlowStatistics`: 

### get_script_inventories

Gets the inventories created through [LuaGameScript::create_inventory](runtime:LuaGameScript::create_inventory).

Inventories created through console commands will be owned by `"core"`.

**Parameters:**

- `mod` `string` _(optional)_: The mod whose inventories to get. If not provided all inventories are returned.

**Returns:**

- `dictionary<`string`, ``LuaInventory`[]`>`: A mapping of mod name to array of inventories owned by that mod.

### get_surface

Gets the given surface or returns `nil` if no surface is found.

This is a shortcut for [LuaGameScript::surfaces](runtime:LuaGameScript::surfaces).

**Parameters:**

- `surface` : The surface index or name.

**Returns:**

- `LuaSurface`: 

### get_vehicles

Returns vehicles in game

**Parameters:**

- `force` `ForceID` _(optional)_: 
- `has_passenger` `boolean` _(optional)_: 
- `is_moving` `boolean` _(optional)_: 
- `surface` `SurfaceIdentification` _(optional)_: )
- `type`  _(optional)_: 
- `unit_number` `uint` _(optional)_: 

**Returns:**

- ``LuaEntity`[]`: 

### is_demo

Is this the demo version of Factorio?

**Returns:**

- `boolean`: 

### is_multiplayer

Whether the save is loaded as a multiplayer map.

**Returns:**

- `boolean`: 

### kick_player

Kicks the given player from this multiplayer game. Does nothing if this is a single player game or if the player running this isn't an admin.

**Parameters:**

- `player` `PlayerIdentification`: The player to kick.
- `reason` `string` _(optional)_: The reason given if any.

### merge_forces

Marks two forces to be merged together. All players and entities in the source force will be reassigned to the target force. The source force will then be destroyed. Importantly, this does not merge technologies or bonuses, which are instead retained from the target force.

The three built-in forces (player, enemy and neutral) can't be destroyed, meaning they can't be used as the source argument to this function.

The source force is not removed until the end of the current tick, or if called during the [on_forces_merging](runtime:on_forces_merging) or [on_forces_merged](runtime:on_forces_merged) event, the end of the next tick.

**Parameters:**

- `destination` `ForceID`: The force to reassign all entities to.
- `source` `ForceID`: The force to remove.

### mute_player

Mutes the given player. Does nothing if the player running this isn't an admin.

**Parameters:**

- `player` `PlayerIdentification`: The player to mute.

### play_sound

Play a sound for every player in the game.

The sound is not played if its location is not [charted](runtime:LuaForce::chart) for that player.

**Parameters:**

- `sound_specification` `PlaySoundSpecification`: The sound to play.

### print

Print text to the chat console all players.

By default, messages that are identical to a message sent in the last 60 ticks are not printed again.

**Parameters:**

- `message` `LocalisedString`: 
- `print_settings` `PrintSettings` _(optional)_: 

### purge_player

Purges the given players messages from the game. Does nothing if the player running this isn't an admin.

**Parameters:**

- `player` `PlayerIdentification`: The player to purge.

### regenerate_entity

Regenerate autoplacement of some entities on all surfaces. This can be used to autoplace newly-added entities.

All specified entity prototypes must be autoplacable.

**Parameters:**

- `entities` : Prototype names of entity or entities to autoplace.

### reload_mods

Forces a reload of all mods.

This will act like saving and loading from the mod(s) perspective.

This will do nothing if run in multiplayer.

This disables the replay if replay is enabled.

### reload_script

Forces a reload of the scenario script from the original scenario location.

This disables the replay if replay is enabled.

### remove_offline_players

Remove players who are currently not connected from the map.

**Parameters:**

- `players` ``PlayerIdentification`[]` _(optional)_: List of players to remove. If not specified, remove all offline players.

### reset_game_state

Reset scenario state (game_finished, player_won, etc.).

### reset_time_played

Resets the amount of time played for this map.

### save_atlas

Saves the current configuration of Atlas to a file. This will result in huge file containing all of the game graphics moved to as small space as possible.

Exists mainly for debugging reasons.

### server_save

Instruct the server to save the map. Only actually saves when in multiplayer.

**Parameters:**

- `name` `string` _(optional)_: Save file name. If not specified, the currently running save is overwritten. If there is no current save, no save is made.

### set_game_state

Set scenario state. Any parameters not provided do not change the current state.

**Parameters:**

- `can_continue` `boolean` _(optional)_: 
- `game_finished` `boolean` _(optional)_: 
- `next_level` `string` _(optional)_: 
- `player_won` `boolean` _(optional)_: 

### set_lose_ending_info

Set losing ending information for the current scenario.

**Parameters:**

- `bullet_points` ``LocalisedString`[]` _(optional)_: 
- `final_message` `LocalisedString` _(optional)_: 
- `image_path` `string` _(optional)_: 
- `message` `LocalisedString` _(optional)_: 
- `title` `LocalisedString`: 

### set_wait_for_screenshots_to_finish

Forces the screenshot saving system to wait until all queued screenshots have been written to disk.

### set_win_ending_info

Set winning ending information for the current scenario.

**Parameters:**

- `bullet_points` ``LocalisedString`[]` _(optional)_: 
- `final_message` `LocalisedString` _(optional)_: 
- `image_path` `string` _(optional)_: 
- `message` `LocalisedString` _(optional)_: 
- `title` `LocalisedString`: 

### show_message_dialog

Show an in-game message dialog.

Can only be used when the map contains exactly one player.

**Parameters:**

- `image` `string` _(optional)_: Path to an image to show on the dialog
- `point_to` `GuiArrowSpecification` _(optional)_: If specified, dialog will show an arrow pointing to this place. When not specified, the arrow will point to the player's position. (Use `point_to={type="nowhere"}` to remove the arrow entirely.) The dialog itself will be placed near the arrow's target.
- `style` `string` _(optional)_: The gui style to use for this speech bubble. Must be of type speech_bubble.
- `text` `LocalisedString`: What the dialog should say
- `wrapper_frame_style` `string` _(optional)_: Must be of type flow_style.

### take_screenshot

Take a screenshot of the game and save it to the `script-output` folder, located in the game's [user data directory](https://wiki.factorio.com/User_data_directory). The name of the image file can be specified via the `path` parameter.

If Factorio is running headless, this function will do nothing.

**Parameters:**

- `allow_in_replay` `boolean` _(optional)_: Whether to save the screenshot even during replay playback. Defaults to `false`.
- `anti_alias` `boolean` _(optional)_: Whether to render in double resolution and downscale the result (including GUI). Defaults to `false`.
- `by_player` `PlayerIdentification` _(optional)_: If defined, the screenshot will only be taken for this player.
- `daytime` `double` _(optional)_: Overrides the current surface daytime for the duration of screenshot rendering.
- `force_render` `boolean` _(optional)_: Screenshot requests are processed in between game update and render. The game may skip rendering (ie. drop frames) if the previous frame has not finished rendering or the game simulation starts to fall below 60 updates per second. If `force_render` is set to `true`, the game won't drop frames and process the screenshot request at the end of the update in which the request was created. This is not honored on multiplayer clients that are catching up to server. Defaults to `false`.
- `hide_clouds` `boolean` _(optional)_: If `true` cloud shadows on ground won't be rendered. Defaults to `false`.
- `hide_fog` `boolean` _(optional)_: If `true` fog effect and foreground space dust effect won't be rendered. Defaults to `false`.
- `path` `string` _(optional)_: The name of the image file. It should include a file extension indicating the desired format. Supports `.png`, `.jpg` /`.jpeg`, `.tga` and `.bmp`. Providing a directory path (ex. `"save/here/screenshot.png"`) will create the necessary folder structure in `script-output`. Defaults to `"screenshot.png"`.
- `player` `PlayerIdentification` _(optional)_: The player to focus on. Defaults to the local player.
- `position` `MapPosition` _(optional)_: If defined, the screenshot will be centered on this position. Otherwise, the screenshot will center on `player`.
- `quality` `int` _(optional)_: The `.jpg` render quality as a percentage (from 0% to 100% inclusive), if used. A lower value means a more compressed image. Defaults to `80`.
- `resolution` `TilePosition` _(optional)_: The maximum allowed resolution is 16384x16384 (8192x8192 when `anti_alias` is `true`), but the maximum recommended resolution is 4096x4096 (resp. 2048x2048). The `x` value of the position is used as the width, the `y` value as the height.
- `show_cursor_building_preview` `boolean` _(optional)_: When `true` and when `player` is specified, the building preview for the item in the player's cursor will also be rendered. Defaults to `false`.
- `show_entity_info` `boolean` _(optional)_: Whether to include entity info ("Alt mode") or not. Defaults to `false`.
- `show_gui` `boolean` _(optional)_: Whether to include GUIs in the screenshot or not. Defaults to `false`.
- `surface` `SurfaceIdentification` _(optional)_: If defined, the screenshot will be taken on this surface.
- `water_tick` `uint` _(optional)_: Overrides the tick of water animation, if animated water is enabled.
- `zoom` `double` _(optional)_: The map zoom to take the screenshot at. Defaults to `1`.

### take_technology_screenshot

Take a screenshot of the technology screen and save it to the `script-output` folder, located in the game's [user data directory](https://wiki.factorio.com/User_data_directory). The name of the image file can be specified via the `path` parameter.

**Parameters:**

- `path` `string` _(optional)_: The name of the image file. It should include a file extension indicating the desired format. Supports `.png`, `.jpg` /`.jpeg`, `.tga` and `.bmp`. Providing a directory path (ex. `"save/here/screenshot.png"`) will create the necessary folder structure in `script-output`. Defaults to `"technology-screenshot.png"`.
- `player` `PlayerIdentification`: The screenshot will be taken for this player.
- `quality` `int` _(optional)_: The `.jpg` render quality as a percentage (from 0% to 100% inclusive), if used. A lower value means a more compressed image. Defaults to `80`.
- `selected_technology` `TechnologyID` _(optional)_: The technology to highlight.
- `skip_disabled` `boolean` _(optional)_: If `true`, disabled technologies will be skipped. Their successors will be attached to the disabled technology's parents. Defaults to `false`.

### unban_player

Unbans the given player from this multiplayer game. Does nothing if this is a single player game of if the player running this isn't an admin.

**Parameters:**

- `player` : The player to unban.

### unmute_player

Unmutes the given player. Does nothing if the player running this isn't an admin.

**Parameters:**

- `player` `PlayerIdentification`: The player to unmute.

## Attributes

### allow_tip_activation

**Type:** `boolean`

If the tips are allowed to be activated in this scenario, it is false by default.

Can't be modified in a simulation (menu screen, tips and tricks simulation, factoriopedia simulation etc.)

### autosave_enabled

**Type:** `boolean`

True by default. Can be used to disable autosaving. Make sure to turn it back on soon after.

### backer_names

**Type:** `LuaCustomTable<`uint`, `string`>` _(read-only)_

Array of the names of all the backers that supported the game development early on. These are used as names for labs, locomotives, radars, roboports, and train stops.

### blueprints

**Type:** ``LuaRecord`[]` _(read-only)_

Records contained in the "game blueprints" tab of the blueprint library.

### connected_players

**Type:** ``LuaPlayer`[]` _(read-only)_

The players that are currently online.

This does *not* index using player index. See [LuaPlayer::index](runtime:LuaPlayer::index) on each player instance for the player index. This is primarily useful when you want to do some action against all online players.

### console_command_used

**Type:** `boolean` _(read-only)_

Whether a console command has been used.

### default_map_gen_settings

**Type:** `MapGenSettings` _(read-only)_

The default map gen settings for this save.

### difficulty

**Type:** `defines.difficulty` _(read-only)_

Current scenario difficulty.

### difficulty_settings

**Type:** `DifficultySettings` _(read-only)_

The currently active set of difficulty settings. Even though this property is marked as read-only, the members of the dictionary that is returned can be modified mid-game.

### draw_resource_selection

**Type:** `boolean`

True by default. Can be used to disable the highlighting of resource patches when they are hovered on the map.

### enemy_has_vision_on_land_mines

**Type:** `boolean`

Determines if enemy land mines are completely invisible or not.

### finished

**Type:** `boolean` _(read-only)_

True while the victory screen is shown.

### finished_but_continuing

**Type:** `boolean` _(read-only)_

True after players finished the game and clicked "continue".

### forces

**Type:** `LuaCustomTable<, `LuaForce`>` _(read-only)_

Get a table of all the forces that currently exist. This sparse table allows you to find forces by indexing it with either their `name` or `index`. Iterating this table with `pairs()` will provide the `name`s as the keys. Iterating with `ipairs()` will not work at all.

### map_settings

**Type:** `MapSettings` _(read-only)_

The currently active set of map settings. Even though this property is marked as read-only, the members of the dictionary that is returned can be modified mid-game.

This does not contain difficulty settings, use [LuaGameScript::difficulty_settings](runtime:LuaGameScript::difficulty_settings) instead.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### permissions

**Type:** `LuaPermissionGroups` _(read-only)_



### planets

**Type:** `LuaCustomTable<`string`, `LuaPlanet`>` _(read-only)_



### player

**Type:** `LuaPlayer` _(read-only)_

This property is only populated inside [custom command](runtime:LuaCommandProcessor) handlers and when writing [Lua console commands](https://wiki.factorio.com/Console#Scripting_and_cheat_commands). Returns the player that is typing the command, `nil` in all other instances.

See [LuaGameScript::players](runtime:LuaGameScript::players) for accessing all players.

### players

**Type:** `LuaCustomTable<, `LuaPlayer`>` _(read-only)_

Get a table of all the players that currently exist. This sparse table allows you to find players by indexing it with either their `name` or `index`. Iterating this table with `pairs()` will provide the `index`es as the keys. Iterating with `ipairs()` will not work at all.

If only a single player is required, [LuaGameScript::get_player](runtime:LuaGameScript::get_player) should be used instead, as it avoids the unnecessary overhead of passing the whole table to Lua.

### simulation

**Type:** `LuaSimulation` _(read-only)_

Simulation-related functions, or `nil` if the current game is not a simulation.

### speed

**Type:** `float`

Speed to update the map at. 1.0 is normal speed -- 60 UPS. Minimum value is 0.01.

### surfaces

**Type:** `LuaCustomTable<, `LuaSurface`>` _(read-only)_

Get a table of all the surfaces that currently exist. This sparse table allows you to find surfaces by indexing it with either their `name` or `index`. Iterating this table with `pairs()` will provide the `name`s as the keys. Iterating with `ipairs()` will not work at all.

### technology_notifications_enabled

**Type:** `boolean`

True by default. Can be used to prevent the game engine from printing certain messages.

### tick

**Type:** `MapTick` _(read-only)_

Current map tick.

### tick_paused

**Type:** `boolean`

If the tick has been paused. This means that entity update has been paused.

### ticks_played

**Type:** `MapTick` _(read-only)_

The number of ticks since this game was created using either "new game" or "new game from scenario". Notably, this number progresses even when the game is [tick_paused](runtime:LuaGameScript::tick_paused).

This differs from [LuaGameScript::tick](runtime:LuaGameScript::tick) in that creating a game from a scenario always starts with this value at `0`, even if the scenario has its own level data where the `tick` has progressed past `0`.

### ticks_to_run

**Type:** `uint`

The number of ticks to be run while the tick is paused.

When [LuaGameScript::tick_paused](runtime:LuaGameScript::tick_paused) is true, ticks_to_run behaves the following way: While this is > 0, the entity update is running normally and this value is decremented every tick. When this reaches 0, the game will pause again.

### train_manager

**Type:** `LuaTrainManager` _(read-only)_

---

## LuaGenericOnOffControlBehavior

# LuaGenericOnOffControlBehavior

An abstract base class for behaviors that support switching the entity on or off based on some condition.

**Parent:** `LuaControlBehavior`

## Attributes

### circuit_condition

**Type:** `CircuitConditionDefinition`

The circuit condition. Writing `nil` clears the circuit condition.

### circuit_enable_disable

**Type:** `boolean`

`true` if this entity enable/disable state is controlled by circuit condition

### connect_to_logistic_network

**Type:** `boolean`

`true` if this should connect to the logistic network.

### disabled

**Type:** `boolean` _(read-only)_

If the entity is currently disabled because of the control behavior.

### logistic_condition

**Type:** `CircuitConditionDefinition`

The logistic condition. Writing `nil` clears the logistic condition.

---

## LuaGroup

# LuaGroup

Item group or subgroup.

## Attributes

### group

**Type:** `LuaGroup` _(read-only)_

The parent group.

### localised_name

**Type:** `LocalisedString` _(read-only)_

Localised name of the group.

### name

**Type:** `string` _(read-only)_



### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### order

**Type:** `string` _(read-only)_

The string used to alphabetically sort these prototypes. It is a simple string that has no additional semantic meaning.

### order_in_recipe

**Type:** `string` _(read-only)_

The additional order value used in recipe ordering.

### subgroups

**Type:** ``LuaGroup`[]` _(read-only)_

Subgroups of this group.

### type

**Type:** `string` _(read-only)_



### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaGui

# LuaGui

The root of the GUI. This type houses the root elements, `top`, `left`, `center`,  `goal`, and `screen`, to which other elements can be added to be displayed on screen.

Every player can have a different GUI state.

## Attributes

### center

**Type:** `LuaGuiElement` _(read-only)_

The center part of the GUI. It is a flow element.

### children

**Type:** `dictionary<`string`, `LuaGuiElement`>` _(read-only)_

The children GUI elements mapped by name <> element.

### goal

**Type:** `LuaGuiElement` _(read-only)_

The flow used in the objectives window. It is a flow element. The objectives window is only visible when the flow is not empty or the objective text is set.

### left

**Type:** `LuaGuiElement` _(read-only)_

The left part of the GUI. It is a flow element inside a scroll pane element.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### player

**Type:** `LuaPlayer` _(read-only)_

The player who owns this gui.

### relative

**Type:** `LuaGuiElement` _(read-only)_

For showing a GUI somewhere relative to one of the game GUIs. It is an empty-widget element.

### screen

**Type:** `LuaGuiElement` _(read-only)_

For showing a GUI somewhere on the entire screen. It is an empty-widget element.

### top

**Type:** `LuaGuiElement` _(read-only)_

The top part of the GUI. It is a flow element inside a scroll pane element.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaGuiElement

# LuaGuiElement

An element of a custom GUI. This type is used to represent [any kind](runtime:GuiElementType) of a GUI element - labels, buttons and frames are all instances of this type. Just like [LuaEntity](runtime:LuaEntity), different kinds of elements support different attributes; attempting to access an attribute on an element that doesn't support it (for instance, trying to access the `column_count` of a `textfield`) will result in a runtime error.

For information on all supported GUI elements, see [GuiElementType](runtime:GuiElementType).

Each GUI element allows access to its children by having them as attributes. Thus, one can use the `parent.child` syntax to refer to children. Lua also supports the `parent["child"]` syntax to refer to the same element. This can be used in cases where the child has a name that isn't a valid Lua identifier.

## Methods

### add

Add a new child element to this GuiElement.

**Parameters:**

- `anchor` `GuiAnchor` _(optional)_: Where to position the child element when in the `relative` element.
- `caption` `LocalisedString` _(optional)_: Text displayed on the child element. For frames, this is their title. For other elements, like buttons or labels, this is the content. Whilst this attribute may be used on all elements, it doesn't make sense for tables and flows as they won't display it.
- `elem_tooltip` `ElemID` _(optional)_: Elem tooltip of the child element. Will be displayed above `tooltip`.
- `enabled` `boolean` _(optional)_: Whether the child element is enabled. Defaults to `true`.
- `game_controller_interaction` `defines.game_controller_interaction` _(optional)_: How the element should interact with game controllers. Defaults to [defines.game_controller_interaction.normal](runtime:defines.game_controller_interaction.normal).
- `ignored_by_interaction` `boolean` _(optional)_: Whether the child element is ignored by interaction. Defaults to `false`.
- `index` `uint` _(optional)_: Location in its parent that the child element should slot into. By default, the child will be appended onto the end.
- `name` `string` _(optional)_: Name of the child element. It must be unique within the parent element.
- `raise_hover_events` `boolean` _(optional)_: Whether this element will raise [on_gui_hover](runtime:on_gui_hover) and [on_gui_leave](runtime:on_gui_leave). Defaults to `false`.
- `style` `string` _(optional)_: The name of the style prototype to apply to the new element.
- `tags` `Tags` _(optional)_: [Tags](runtime:Tags) associated with the child element.
- `tooltip` `LocalisedString` _(optional)_: Tooltip of the child element.
- `type` `GuiElementType`: The kind of element to add, which potentially has its own attributes as listed below.
- `visible` `boolean` _(optional)_: Whether the child element is visible. Defaults to `true`.

**Returns:**

- `LuaGuiElement`: The GUI element that was added.

### add_item

Inserts a string at the end or at the given index of this dropdown or listbox.

**Parameters:**

- `index` `uint` _(optional)_: The index at which to insert the item.
- `string` `LocalisedString`: The text to insert.

### add_tab

Adds the given tab and content widgets to this tabbed pane as a new tab.

**Parameters:**

- `content` `LuaGuiElement`: The content to show when this tab is selected. Can be any type of GUI element.
- `tab` `LuaGuiElement`: The tab to add, must be a GUI element of type "tab".

### bring_to_front

Moves this GUI element to the "front" so it will draw over other elements.

Only works for elements in [LuaGui::screen](runtime:LuaGui::screen).

### clear

Remove children of this element. Any [LuaGuiElement](runtime:LuaGuiElement) objects referring to the destroyed elements become invalid after this operation.

### clear_items

Removes the items in this dropdown or listbox.

### close_dropdown

Closes the dropdown list if this is a dropdown and it is open.

### destroy

Remove this element, along with its children. Any [LuaGuiElement](runtime:LuaGuiElement) objects referring to the destroyed elements become invalid after this operation.

The top-level GUI elements - [LuaGui::top](runtime:LuaGui::top), [LuaGui::left](runtime:LuaGui::left), [LuaGui::center](runtime:LuaGui::center) and [LuaGui::screen](runtime:LuaGui::screen) - can't be destroyed.

### focus

Focuses this GUI element if possible.

### force_auto_center

Forces this frame to re-auto-center. Only works on frames stored directly in [LuaGui::screen](runtime:LuaGui::screen).

### get_index_in_parent

Gets the index that this element has in its parent element.

This iterates through the children of the parent of this element, meaning this has a non-free cost to get, but is faster than doing the equivalent in Lua.

**Returns:**

- `uint`: 

### get_item

Gets the item at the given index from this dropdown or listbox.

**Parameters:**

- `index` `uint`: The index to get

**Returns:**

- `LocalisedString`: 

### get_mod

The mod that owns this Gui element or `nil` if it's owned by the scenario script.

This has a not-super-expensive, but non-free cost to get.

**Returns:**

- `string`: 

### get_slider_discrete_values

Returns whether this slider only allows discrete values.

**Returns:**

- `boolean`: 

### get_slider_maximum

Gets this sliders maximum value.

**Returns:**

- `double`: 

### get_slider_minimum

Gets this sliders minimum value.

**Returns:**

- `double`: 

### get_slider_value_step

Gets the minimum distance this slider can move.

**Returns:**

- `double`: 

### remove_item

Removes the item at the given index from this dropdown or listbox.

**Parameters:**

- `index` `uint`: The index

### remove_tab

Removes the given tab and its associated content from this tabbed pane.

Removing a tab does not destroy the tab or the tab contents. It just removes them from the view.

**Parameters:**

- `tab` `LuaGuiElement` _(optional)_: The tab to remove or `nil` to remove all tabs.

### scroll_to_bottom

Scrolls this scroll bar to the bottom.

### scroll_to_element

Scrolls this scroll bar such that the specified GUI element is visible to the player.

**Parameters:**

- `element` `LuaGuiElement`: The element to scroll to.
- `scroll_mode`  _(optional)_: Where the element should be positioned in the scroll-pane. Defaults to `"in-view"`.

### scroll_to_item

Scrolls the scroll bar such that the specified listbox item is visible to the player.

**Parameters:**

- `index` `int`: The item index to scroll to.
- `scroll_mode`  _(optional)_: Where the item should be positioned in the list-box. Defaults to `"in-view"`.

### scroll_to_left

Scrolls this scroll bar to the left.

### scroll_to_right

Scrolls this scroll bar to the right.

### scroll_to_top

Scrolls this scroll bar to the top.

### select

Selects a range of text in this textbox.

**Parameters:**

- `end_index` `int`: The index of the last character to select
- `start_index` `int`: The index of the first character to select

### select_all

Selects all the text in this textbox.

### set_item

Sets the given string at the given index in this dropdown or listbox.

**Parameters:**

- `index` `uint`: The index whose text to replace.
- `string` `LocalisedString`: The text to set at the given index.

### set_slider_discrete_values

Sets whether this slider only allows discrete values.

**Parameters:**

- `value` `boolean`: 

### set_slider_minimum_maximum

Sets this sliders minimum and maximum values. The minimum can't be >= the maximum.

**Parameters:**

- `maximum` `double`: 
- `minimum` `double`: 

### set_slider_value_step

Sets the minimum distance this slider can move. The minimum distance can't be > (max - min).

**Parameters:**

- `value` `double`: 

### swap_children

Swaps the children at the given indices in this element.

**Parameters:**

- `index_1` `uint`: The index of the first child.
- `index_2` `uint`: The index of the second child.

## Attributes

### allow_decimal

**Type:** `boolean`

Whether this textfield (when in numeric mode) allows decimal numbers.

### allow_negative

**Type:** `boolean`

Whether this textfield (when in numeric mode) allows negative numbers.

### allow_none_state

**Type:** `boolean`

Whether the `"none"` state is allowed for this switch.

This can't be set to false if the current switch_state is 'none'.

### anchor

**Type:** `GuiAnchor`

The anchor for this relative widget, if any. Setting `nil` clears the anchor.

### auto_center

**Type:** `boolean`

Whether this frame auto-centers on window resize when stored in [LuaGui::screen](runtime:LuaGui::screen).

### auto_toggle

**Type:** `boolean`

Whether this button will automatically toggle when clicked.

### badge_text

**Type:** `LocalisedString`

The text to display after the normal tab text (designed to work with numbers)

### caption

**Type:** `LocalisedString`

The text displayed on this element. For frames, this is the "heading". For other elements, like buttons or labels, this is the content.

Whilst this attribute may be used on all elements without producing an error, it doesn't make sense for tables and flows as they won't display it.

### children

**Type:** ``LuaGuiElement`[]` _(read-only)_

The child-elements of this GUI element.

### children_names

**Type:** ``string`[]` _(read-only)_

Names of all the children of this element. These are the identifiers that can be used to access the child as an attribute of this element.

### clicked_sprite

**Type:** `SpritePath`

The sprite to display on this sprite-button when it is clicked.

### column_count

**Type:** `uint` _(read-only)_

The number of columns in this table.

### direction

**Type:** `GuiDirection` _(read-only)_

Direction of this element's layout.

### drag_target

**Type:** `LuaGuiElement`

The `frame` that is being moved when dragging this GUI element, if any. This element needs to be a child of the `drag_target` at some level.

Only top-level elements in [LuaGui::screen](runtime:LuaGui::screen) can be `drag_target`s.

### draw_horizontal_line_after_headers

**Type:** `boolean`

Whether this table should draw a horizontal grid line below the first table row.

### draw_horizontal_lines

**Type:** `boolean`

Whether this table should draw horizontal grid lines.

### draw_vertical_lines

**Type:** `boolean`

Whether this table should draw vertical grid lines.

### elem_filters

**Type:** `PrototypeFilter`

The elem filters of this choose-elem-button, if any. The compatible type of filter is determined by `elem_type`.

Writing to this field does not change or clear the currently selected element.

### elem_tooltip

**Type:** `ElemID`

The element tooltip to display when hovering over this element, or `nil`.

### elem_type

**Type:** `ElemType` _(read-only)_

The elem type of this choose-elem-button.

### elem_value

**Type:** 

The elem value of this choose-elem-button, if any.

The `"signal"` type operates with [SignalID](runtime:SignalID).

The `"with-quality"` types operate with [PrototypeWithQuality](runtime:PrototypeWithQuality).

The remaining types use strings.

### enabled

**Type:** `boolean`

Whether this GUI element is enabled. Disabled GUI elements don't trigger events when clicked.

### entity

**Type:** `LuaEntity`

The entity associated with this entity-preview, camera, minimap, if any.

### force

**Type:** `string`

The force this minimap is using, if any.

### game_controller_interaction

**Type:** `defines.game_controller_interaction`

How this element should interact with game controllers.

### gui

**Type:** `LuaGui` _(read-only)_

The GUI this element is a child of.

### horizontal_scroll_policy

**Type:** `ScrollPolicy`

Policy of the horizontal scroll bar.

### hovered_sprite

**Type:** `SpritePath`

The sprite to display on this sprite-button when it is hovered.

### ignored_by_interaction

**Type:** `boolean`

Whether this GUI element is ignored by interaction. This makes clicks on this element 'go through' to the GUI element or even the game surface below it.

### index

**Type:** `uint` _(read-only)_

The index of this GUI element (unique amongst the GUI elements of a LuaPlayer).

### is_password

**Type:** `boolean`

Whether this textfield displays as a password field, which renders all characters as `*`.

### items

**Type:** ``LocalisedString`[]`

The items in this dropdown or listbox.

### left_label_caption

**Type:** `LocalisedString`

The text shown for the left switch label.

### left_label_tooltip

**Type:** `LocalisedString`

The tooltip shown on the left switch label.

### location

**Type:** `GuiLocation`

The location of this widget when stored in [LuaGui::screen](runtime:LuaGui::screen). `nil` if not set or not in [LuaGui::screen](runtime:LuaGui::screen).

### locked

**Type:** `boolean`

Whether this choose-elem-button can be changed by the player.

### lose_focus_on_confirm

**Type:** `boolean`

Whether this textfield loses focus after [defines.events.on_gui_confirmed](runtime:defines.events.on_gui_confirmed) is fired.

### minimap_player_index

**Type:** `uint`

The player index this minimap is using.

### mouse_button_filter

**Type:** `MouseButtonFlags`

The mouse button filters for this button or sprite-button.

### name

**Type:** `string`

The name of this element. `""` if no name was set.

### number

**Type:** `double`

The number to be shown in the bottom right corner of this sprite-button, or `nil` to show nothing.

### numeric

**Type:** `boolean`

Whether this textfield is limited to only numeric characters.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### parent

**Type:** `LuaGuiElement` _(read-only)_

The direct parent of this element. `nil` if this is a top-level element.

### player_index

**Type:** `uint` _(read-only)_

Index into [LuaGameScript::players](runtime:LuaGameScript::players) specifying the player who owns this element.

### position

**Type:** `MapPosition`

The position this camera or minimap is focused on, if any.

### quality

**Type:** `LuaQualityPrototype`

The quality to be shown in the bottom left corner of this sprite-button, or `nil` to show nothing.

### raise_hover_events

**Type:** `boolean`

Whether this element will raise [on_gui_hover](runtime:on_gui_hover) and [on_gui_leave](runtime:on_gui_leave).

### read_only

**Type:** `boolean`

Whether this text-box is read-only. Defaults to `false`.

### resize_to_sprite

**Type:** `boolean`

Whether the sprite widget should resize according to the sprite in it. Defaults to `true`.

### right_label_caption

**Type:** `LocalisedString`

The text shown for the right switch label.

### right_label_tooltip

**Type:** `LocalisedString`

The tooltip shown on the right switch label.

### selectable

**Type:** `boolean`

Whether the contents of this text-box are selectable. Defaults to `true`.

### selected_index

**Type:** `uint`

The selected index for this dropdown or listbox. Returns `0` if none is selected.

### selected_tab_index

**Type:** `uint`

The selected tab index for this tabbed pane, if any.

### show_percent_for_small_numbers

**Type:** `boolean`

Related to the number to be shown in the bottom right corner of this sprite-button. When set to `true`, numbers that are non-zero and smaller than one are shown as a percentage rather than the value. For example, `0.5` will be shown as `50%` instead.

### slider_value

**Type:** `double`

The value of this slider element.

### sprite

**Type:** `SpritePath`

The sprite to display on this sprite-button or sprite in the default state.

### state

**Type:** `boolean`

Is this checkbox or radiobutton checked?

### style

**Type:** 

The style of this element. When read, this evaluates to a [LuaStyle](runtime:LuaStyle). For writing, it only accepts a string that specifies the textual identifier (prototype name) of the desired style.

### surface_index

**Type:** `uint`

The surface index this camera or minimap is using.

### switch_state

**Type:** `SwitchState`

The switch state for this switch.

If [LuaGuiElement::allow_none_state](runtime:LuaGuiElement::allow_none_state) is false this can't be set to `"none"`.

### tabs

**Type:** ``TabAndContent`[]` _(read-only)_

The tabs and contents being shown in this tabbed-pane.

### tags

**Type:** `Tags`

The tags associated with this LuaGuiElement.

### text

**Type:** `string`

The text contained in this textfield or text-box.

### toggled

**Type:** `boolean`

Whether this button is currently toggled. When a button is toggled, it will use the `selected_graphical_set` and `selected_font_color` defined in its style.

### tooltip

**Type:** `LocalisedString`

The text to display when hovering over this element. Writing `""` or `nil` will disable the tooltip.

### type

**Type:** `GuiElementType` _(read-only)_

The type of this GUI element.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

### value

**Type:** `double`

How much this progress bar is filled. It is a value in the range `[0, 1]`.

### vertical_centering

**Type:** `boolean`

Whether the content of this table should be vertically centered. Overrides [LuaStyle::column_alignments](runtime:LuaStyle::column_alignments). Defaults to `true`.

### vertical_scroll_policy

**Type:** `ScrollPolicy`

Policy of the vertical scroll bar.

### visible

**Type:** `boolean`

Sets whether this GUI element is visible or completely hidden, taking no space in the layout.

### word_wrap

**Type:** `boolean`

Whether this text-box will word-wrap automatically. Defaults to `false`.

### zoom

**Type:** `double`

The zoom this camera or minimap is using. This value must be positive.

---

## LuaHeatBufferPrototype

# LuaHeatBufferPrototype

Prototype of a heat buffer.

## Attributes

### connections

**Type:** ``HeatConnection`[]` _(read-only)_



### default_temperature

**Type:** `double` _(read-only)_



### max_temperature

**Type:** `double` _(read-only)_



### max_transfer

**Type:** `double` _(read-only)_



### min_temperature_gradient

**Type:** `double` _(read-only)_



### min_working_temperature

**Type:** `double` _(read-only)_



### minimum_glow_temperature

**Type:** `double` _(read-only)_



### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### specific_heat

**Type:** `double` _(read-only)_



### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaHeatEnergySourcePrototype

# LuaHeatEnergySourcePrototype

Prototype of a heat energy source.

## Attributes

### connections

**Type:** ``HeatConnection`[]` _(read-only)_



### default_temperature

**Type:** `double` _(read-only)_



### emissions_per_joule

**Type:** `dictionary<`string`, `double`>` _(read-only)_

The table of emissions of this energy source in `pollution/Joule`, indexed by pollutant type. Multiplying it by energy consumption in `Watt` gives `pollution/second`.

### heat_buffer_prototype

**Type:** `LuaHeatBufferPrototype` _(read-only)_



### max_temperature

**Type:** `double` _(read-only)_



### max_transfer

**Type:** `double` _(read-only)_



### min_temperature_gradient

**Type:** `double` _(read-only)_



### min_working_temperature

**Type:** `double` _(read-only)_



### minimum_glow_temperature

**Type:** `double` _(read-only)_



### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### render_no_network_icon

**Type:** `boolean` _(read-only)_



### render_no_power_icon

**Type:** `boolean` _(read-only)_



### specific_heat

**Type:** `double` _(read-only)_



### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaHelpers

# LuaHelpers

Provides various helper and utility functions. It is accessible through the global object named `helpers` in all stages (settings, prototype and runtime).

## Methods

### check_prototype_translations

Goes over all items, entities, tiles, recipes, technologies among other things and logs if the locale is incorrect.

Also prints true/false if called from the console.

Not available in settings and prototype stages.

### compare_versions

Compares 2 version strings.

**Parameters:**

- `first` `string`: First version string to compare.
- `second` `string`: Second version string to compare.

**Returns:**

- `int`: -1 if first is smaller than second, 0 if first equal second, 1 if first is greater than second.

### create_profiler

Creates a [LuaProfiler](runtime:LuaProfiler), which is used for measuring script performance.

LuaProfiler cannot be serialized.

Not available in settings and prototype stages.

**Parameters:**

- `stopped` `boolean` _(optional)_: Create the timer stopped

**Returns:**

- `LuaProfiler`: 

### decode_string

Base64 decodes and inflates the given string.

**Parameters:**

- `string` `string`: The string to decode.

**Returns:**

- `string`: The decoded string or `nil` if the decode failed.

### direction_to_string

Converts the given direction into the string version of the direction.

**Parameters:**

- `direction` `defines.direction`: 

**Returns:**

- `string`: 

### encode_string

Deflates and base64 encodes the given string.

**Parameters:**

- `string` `string`: The string to encode.

**Returns:**

- `string`: The encoded string or `nil` if the encode failed.

### evaluate_expression

Evaluate an expression, substituting variables as provided.

**Parameters:**

- `expression` `MathExpression`: The expression to evaluate.
- `variables` `dictionary<`string`, `double`>` _(optional)_: Variables to be substituted.

**Returns:**

- `double`: 

### is_valid_sound_path

Checks if the given SoundPath is valid.

Not available in settings and prototype stages.

**Parameters:**

- `sound_path` `SoundPath`: Path to the sound.

**Returns:**

- `boolean`: 

### is_valid_sprite_path

Checks if the given SpritePath is valid and contains a loaded sprite. The existence of the image is not checked for paths of type `file`.

Not available in settings and prototype stages.

**Parameters:**

- `sprite_path` `SpritePath`: Path to the image.

**Returns:**

- `boolean`: 

### json_to_table

Convert a JSON string to a table.

**Parameters:**

- `json` `string`: The string to convert.

**Returns:**

- `AnyBasic`: The returned object, or `nil` if the JSON string was invalid.

### parse_map_exchange_string

Convert a map exchange string to map gen settings and map settings.

Not available in settings and prototype stages.

**Parameters:**

- `map_exchange_string` `string`: 

**Returns:**

- `MapExchangeStringData`: 

### remove_path

Remove a file or directory in the `script-output` folder, located in the game's [user data directory](https://wiki.factorio.com/User_data_directory). Can be used to remove files created by [LuaHelpers::write_file](runtime:LuaHelpers::write_file).

**Parameters:**

- `path` `string`: The path to the file or directory to remove, relative to `script-output`.

### table_to_json

Convert a table to a JSON string

**Parameters:**

- `data` `table`: 

**Returns:**

- `string`: 

### write_file

Write a file to the `script-output` folder, located in the game's [user data directory](https://wiki.factorio.com/User_data_directory). The name and file extension of the file can be specified via the `filename` parameter.

**Parameters:**

- `append` `boolean` _(optional)_: If `true`, `data` will be appended to the end of the file. Defaults to `false`, which will overwrite any pre-existing file with the new `data`.
- `data` `LocalisedString`: The content to write to the file.
- `filename` `string`: The name of the file. Providing a directory path (ex. `"save/here/example.txt"`) will create the necessary folder structure in `script-output`.
- `for_player` `uint` _(optional)_: If given, the file will only be written for this `player_index`. Providing `0` will only write to the server's output if present. `for_player` cannot be used in settings and prototype stages.

## Attributes

### game_version

**Type:** `string` _(read-only)_

Current version of game

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

---

## LuaInserterControlBehavior

# LuaInserterControlBehavior

Control behavior for inserters.

**Parent:** `LuaGenericOnOffControlBehavior`

## Attributes

### circuit_hand_read_mode

**Type:** `defines.control_behavior.inserter.hand_read_mode`

The hand read mode for the inserter.

### circuit_read_hand_contents

**Type:** `boolean`

`true` if the contents of the inserter hand should be sent to the circuit network

### circuit_set_filters

**Type:** `boolean`

`true` if filters are set from circuit network

### circuit_set_stack_size

**Type:** `boolean`

If the stack size of the inserter is set through the circuit network or not.

### circuit_stack_control_signal

**Type:** `SignalID`

The signal used to set the stack size of the inserter.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaInventory

# LuaInventory

A storage of item stacks.

## Methods

### can_insert

Can at least some items be inserted?

**Parameters:**

- `items` `ItemStackIdentification`: Items that would be inserted.

**Returns:**

- `boolean`: `true` if at least a part of the given items could be inserted into this inventory.

### can_set_filter

If the given inventory slot filter can be set to the given filter.

**Parameters:**

- `filter` `ItemFilter`: The item filter
- `index` `uint`: The item stack index

**Returns:**

- `boolean`: 

### clear

Make this inventory empty.

### count_empty_stacks

Counts the number of empty stacks.

**Parameters:**

- `include_bar` `boolean` _(optional)_: If true, slots blocked by the current bar will be included. Defaults to true.
- `include_filtered` `boolean` _(optional)_: If true, filtered slots will be included. Defaults to false.

**Returns:**

- `uint`: 

### destroy

Destroys this inventory.

Only inventories created by [LuaGameScript::create_inventory](runtime:LuaGameScript::create_inventory) can be destroyed this way.

### find_empty_stack

Finds the first empty stack. Filtered slots are excluded unless a filter item is given.

**Parameters:**

- `item` `ItemWithQualityID` _(optional)_: If given, empty stacks that are filtered for this item will be included.

**Returns:**

- `LuaItemStack`: The first empty stack, or `nil` if there aren't any empty stacks.
- `uint`: The stack index of the matching stack, if any is found.

### find_item_stack

Finds the first LuaItemStack in the inventory that matches the given item name.

**Parameters:**

- `item` `ItemWithQualityID`: The item to find

**Returns:**

- `LuaItemStack`: The first matching stack, or `nil` if none match.
- `uint`: The stack index of the matching stack, if any is found.

### get_bar

Get the current bar. This is the index at which the red area starts.

Only useable if this inventory supports having a bar.

**Returns:**

- `uint`: 

### get_contents

Get counts of all items in this inventory.

**Returns:**

- ``ItemWithQualityCounts`[]`: List of all items in the inventory.

### get_filter

Gets the filter for the given item stack index.

**Parameters:**

- `index` `uint`: The item stack index

**Returns:**

- `ItemFilter`: The current filter or `nil` if none.

### get_insertable_count

Gets the number of the given item that can be inserted into this inventory.

This is a "best guess" number; things like assembling machine filtered slots, module slots, items with durability, and items with mixed health will cause the result to be inaccurate. The main use for this is in checking how many of a basic item can fit into a basic inventory.

This accounts for the 'bar' on the inventory.

**Parameters:**

- `item` `ItemWithQualityID`: The item to check.

**Returns:**

- `uint`: 

### get_item_count

Get the number of all or some items in this inventory.

**Parameters:**

- `item` `ItemWithQualityID` _(optional)_: The item to count. If not specified, count all items.

**Returns:**

- `uint`: 

### insert

Insert items into this inventory.

**Parameters:**

- `items` `ItemStackIdentification`: Items to insert.

**Returns:**

- `uint`: Number of items actually inserted.

### is_empty

Does this inventory contain nothing?

**Returns:**

- `boolean`: 

### is_filtered

If this inventory supports filters and has at least 1 filter set.

**Returns:**

- `boolean`: 

### is_full

Is every stack in this inventory full? Ignores stacks blocked by the current bar.

**Returns:**

- `boolean`: 

### remove

Remove items from this inventory.

**Parameters:**

- `items` `ItemStackIdentification`: Items to remove.

**Returns:**

- `uint`: Number of items actually removed.

### resize

Resizes the inventory.

Items in slots beyond the new capacity are deleted.

Only inventories created by [LuaGameScript::create_inventory](runtime:LuaGameScript::create_inventory) can be resized.

**Parameters:**

- `size` `uint16`: New size of a inventory

### set_bar

Set the current bar.

Only useable if this inventory supports having a bar.

**Parameters:**

- `bar` `uint` _(optional)_: The new limit. Omitting this parameter will clear the limit.

### set_filter

Sets the filter for the given item stack index.

Some inventory slots don't allow some filters (gun ammo can't be filtered for non-ammo).

**Parameters:**

- `filter` : The new filter. `nil` erases any existing filter.
- `index` `uint`: The item stack index.

**Returns:**

- `boolean`: If the filter was allowed to be set.

### sort_and_merge

Sorts and merges the items in this inventory.

### supports_bar

Does this inventory support a bar? Bar is the draggable red thing, found for example on chests, that limits the portion of the inventory that may be manipulated by machines.

"Supporting a bar" doesn't mean that the bar is set to some nontrivial value. Supporting a bar means the inventory supports having this limit at all. The character's inventory is an example of an inventory without a bar; the wooden chest's inventory is an example of one with a bar.

**Returns:**

- `boolean`: 

### supports_filters

If this inventory supports filters.

**Returns:**

- `boolean`: 

## Attributes

### entity_owner

**Type:** `LuaEntity` _(read-only)_

The entity that owns this inventory, if any.

### equipment_owner

**Type:** `LuaEquipment` _(read-only)_

The equipment that owns this inventory, if any.

### index

**Type:** `defines.inventory` _(read-only)_

The inventory index this inventory uses, if any.

### mod_owner

**Type:** `string` _(read-only)_

The mod that owns this inventory, if any.

### name

**Type:** `string` _(read-only)_

Name of this inventory, if any. Names match keys of [defines.inventory](runtime:defines.inventory).

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### player_owner

**Type:** `LuaPlayer` _(read-only)_

The player that owns this inventory, if any.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaItem

# LuaItem

A reference to an item with data. In contrast to LuaItemStack, this is binding to a specific item data even if it would move between entities or inventories.

**Parent:** `LuaItemCommon`

## Attributes

### item_stack

**Type:** `LuaItemStack` _(read-only)_

Object representing the item stack this item is located in right now. If its not possible to locate the item stack holding this item, a nil will be returned

### name

**Type:** `string` _(read-only)_

Name of the item prototype

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### prototype

**Type:** `LuaItemPrototype` _(read-only)_

Item prototype of this item

### quality

**Type:** `LuaQualityPrototype` _(read-only)_

The quality of this item.

### type

**Type:** `string` _(read-only)_

Type of the item prototype

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaItemCommon

# LuaItemCommon

Common methods related to usage of item with data. It is useful when LuaItemStack contains item with data or in general with LuaItem as it can only point at an item with data.

## Methods

### build_blueprint

Build this blueprint at the given location.

Built entities can be come invalid between the building of the blueprint and the function returning if by_player or raise_built is used and one of those events invalidates the entity.

**Parameters:**

- `build_mode` `defines.build_mode` _(optional)_: If `normal`, blueprint will not be built if any one thing can't be built. If `forced`, anything that can be built is built and obstructing nature entities will be deconstructed. If `superforced`, all obstructions will be deconstructed and the blueprint will be built.
- `by_player` `PlayerIdentification` _(optional)_: The player to use if any. If provided [defines.events.on_built_entity](runtime:defines.events.on_built_entity) will also be fired on successful entity creation.
- `direction` `defines.direction` _(optional)_: The direction to use when building
- `force` `ForceID`: Force to use for the building
- `position` `MapPosition`: The position to build at
- `raise_built` `boolean` _(optional)_: If true; [defines.events.script_raised_built](runtime:defines.events.script_raised_built) will be fired on successful entity creation. Note: this is ignored if by_player is provided.
- `skip_fog_of_war` `boolean` _(optional)_: If chunks covered by fog-of-war are skipped.
- `surface` `SurfaceIdentification`: Surface to build on

**Returns:**

- ``LuaEntity`[]`: Array of created ghosts

### cancel_deconstruct_area

Cancel deconstruct the given area with this deconstruction item.

**Parameters:**

- `area` `BoundingBox`: The area to deconstruct
- `by_player` `PlayerIdentification` _(optional)_: The player to use if any.
- `force` `ForceID`: Force to use for canceling deconstruction
- `skip_fog_of_war` `boolean` _(optional)_: If chunks covered by fog-of-war are skipped. Defaults to `false`.
- `super_forced` `boolean` _(optional)_: If the cancel deconstruction is super-forced. Defaults to `false`.
- `surface` `SurfaceIdentification`: Surface to cancel deconstruct on

### clear_blueprint

Clears this blueprint item.

### clear_deconstruction_item

Clears all settings/filters on this deconstruction item resetting it to default values.

### clear_upgrade_item

Clears all settings/filters on this upgrade item resetting it to default values.

### create_blueprint

Sets up this blueprint using the found blueprintable entities/tiles on the surface.

**Parameters:**

- `always_include_tiles` `boolean` _(optional)_: When true, blueprintable tiles are always included in the blueprint. When false they're only included if no entities exist in the setup area. Defaults to false.
- `area` `BoundingBox`: The bounding box
- `force` `ForceID`: Force to use for the creation
- `include_entities` `boolean` _(optional)_: When true, entities are included in the blueprint. Defaults to true.
- `include_fuel` `boolean` _(optional)_: When true, train fuel is included in the blueprint, Defaults to true.
- `include_modules` `boolean` _(optional)_: When true, modules are included in the blueprint. Defaults to true.
- `include_station_names` `boolean` _(optional)_: When true, station names are included in the blueprint. Defaults to false.
- `include_trains` `boolean` _(optional)_: When true, trains are included in the blueprint. Defaults to false.
- `surface` `SurfaceIdentification`: Surface to create from

**Returns:**

- `dictionary<`uint`, `LuaEntity`>`: The blueprint entity index to source entity mapping.

### deconstruct_area

Deconstruct the given area with this deconstruction item.

**Parameters:**

- `area` `BoundingBox`: The area to deconstruct
- `by_player` `PlayerIdentification` _(optional)_: The player to use if any.
- `force` `ForceID`: Force to use for the deconstruction
- `skip_fog_of_war` `boolean` _(optional)_: If chunks covered by fog-of-war are skipped. Defaults to `false`.
- `super_forced` `boolean` _(optional)_: If the deconstruction is super-forced. Defaults to `false`.
- `surface` `SurfaceIdentification`: Surface to deconstruct on

### get_blueprint_entities

The entities in this blueprint.

**Returns:**

- ``BlueprintEntity`[]`: 

### get_blueprint_entity_count

Gets the number of entities in this blueprint item.

**Returns:**

- `uint`: 

### get_blueprint_entity_tag

Gets the given tag on the given blueprint entity index in this blueprint item.

**Parameters:**

- `index` `uint`: The entity index.
- `tag` `string`: The tag to get.

**Returns:**

- `AnyBasic`: 

### get_blueprint_entity_tags

Gets the tags for the given blueprint entity index in this blueprint item.

**Parameters:**

- `index` `uint`: 

**Returns:**

- `Tags`: 

### get_blueprint_tiles

A list of the tiles in this blueprint.

**Returns:**

- ``Tile`[]`: 

### get_entity_filter

Gets the entity filter at the given index for this deconstruction item.

**Parameters:**

- `index` `uint`: 

**Returns:**

- `ItemFilter`: 

### get_inventory

Access the inner inventory of an item.

**Parameters:**

- `inventory` `defines.inventory`: Index of the inventory to access, which can only be [defines.inventory.item_main](runtime:defines.inventory.item_main).

**Returns:**

- `LuaInventory`: `nil` if there is no inventory with the given index.

### get_mapper

Gets the filter at the given index for this upgrade item. Note that sources (`"from"` type) that are undefined will read as `{type = "item"}`, while destinations (`"to"` type) that are undefined will read as `nil`.

In contrast to [LuaItemCommon::set_mapper](runtime:LuaItemCommon::set_mapper), indices past the upgrade item's current size are considered to be out of bounds.

**Parameters:**

- `index` `uint`: The index of the mapper to read.
- `type` : 

**Returns:**

- : 

### get_tag

Gets the tag with the given name or returns `nil` if it doesn't exist.

**Parameters:**

- `tag_name` `string`: 

**Returns:**

- `AnyBasic`: 

### get_tile_filter

Gets the tile filter at the given index for this deconstruction item.

**Parameters:**

- `index` `uint`: 

**Returns:**

- `string`: 

### is_blueprint_setup

Is this blueprint item setup? I.e. is it a non-empty blueprint?

**Returns:**

- `boolean`: 

### remove_tag

Removes a tag with the given name.

**Parameters:**

- `tag` `string`: 

**Returns:**

- `boolean`: If the tag existed and was removed.

### set_blueprint_entities

Set new entities to be a part of this blueprint.

**Parameters:**

- `entities` ``BlueprintEntity`[]`: The new blueprint entities.

### set_blueprint_entity_tag

Sets the given tag on the given blueprint entity index in this blueprint item.

**Parameters:**

- `index` `uint`: The entity index.
- `tag` `string`: The tag to set.
- `value` `AnyBasic`: The tag value to set or `nil` to clear the tag.

### set_blueprint_entity_tags

Sets the tags on the given blueprint entity index in this blueprint item.

**Parameters:**

- `index` `uint`: The entity index
- `tags` `Tags`: 

### set_blueprint_tiles

Set specific tiles in this blueprint.

**Parameters:**

- `tiles` ``Tile`[]`: Tiles to be a part of the blueprint.

### set_entity_filter

Sets the entity filter at the given index for this deconstruction item.

**Parameters:**

- `filter` : Writing `nil` removes the filter.
- `index` `uint`: 

**Returns:**

- `boolean`: Whether the new filter was successfully set (meaning it was valid).

### set_mapper

Sets the module filter at the given index for this upgrade item.

In contrast to [LuaItemCommon::get_mapper](runtime:LuaItemCommon::get_mapper), indices past the upgrade item's current size are valid and expand the list of mappings accordingly, if within reasonable bounds.

**Parameters:**

- `index` `uint`: The index of the mapper to set.
- `mapper` : The mapper to set. Set `nil` to clear the mapper.
- `type` : 

### set_tag

Sets the tag with the given name and value.

**Parameters:**

- `tag` `AnyBasic`: 
- `tag_name` `string`: 

### set_tile_filter

Sets the tile filter at the given index for this deconstruction item.

**Parameters:**

- `filter` : Writing `nil` removes the filter.
- `index` `uint`: 

**Returns:**

- `boolean`: Whether the new filter was successfully set (meaning it was valid).

## Attributes

### active_index

**Type:** `uint`

The active blueprint index for this blueprint book. `nil` if this blueprint book is empty.

### allow_manual_label_change

**Type:** `boolean`

Whether the label for this item can be manually changed. When false the label can only be changed through the API.

### ammo

**Type:** `uint`

Number of bullets left in the magazine.

### blueprint_absolute_snapping

**Type:** `boolean`

If absolute snapping is enabled on this blueprint item.

### blueprint_position_relative_to_grid

**Type:** `TilePosition`

The offset from the absolute grid. `nil` if absolute snapping is not enabled.

### blueprint_snap_to_grid

**Type:** `TilePosition`

The snapping grid size in this blueprint item. `nil` if snapping is not enabled.

### cost_to_build

**Type:** ``ItemWithQualityCounts`[]` _(read-only)_

List of raw materials required to build this blueprint.

### custom_description

**Type:** `LocalisedString`

The custom description this item-with-tags. This is shown over the normal item description if this is set to a non-empty value.

### default_icons

**Type:** ``BlueprintSignalIcon`[]` _(read-only)_

The default icons for a blueprint item.

### durability

**Type:** `double`

Durability of the contained item. Automatically capped at the item's maximum durability.

### entity_color

**Type:** `Color`

If this is an item with entity data, get the stored entity color.

### entity_filter_count

**Type:** `uint` _(read-only)_

The number of entity filters this deconstruction item supports.

### entity_filter_mode

**Type:** `defines.deconstruction_item.entity_filter_mode`

The blacklist/whitelist entity filter mode for this deconstruction item.

### entity_filters

**Type:** ``ItemFilter`[]`

The entity filters for this deconstruction item. The attribute is a sparse array with the keys representing the index of the filter. All prototypes in this array must not have the `"not-deconstructable"` flag set and are either a `cliff` or marked as `minable`.

### entity_label

**Type:** `string`

If this is an item with entity data, get the stored entity label.

### grid

**Type:** `LuaEquipmentGrid` _(read-only)_

The equipment grid of this item, if any.

### is_ammo

**Type:** `boolean` _(read-only)_

If this is an ammo item.

### is_armor

**Type:** `boolean` _(read-only)_

If this is an armor item.

### is_blueprint

**Type:** `boolean` _(read-only)_

If this is a blueprint item.

### is_blueprint_book

**Type:** `boolean` _(read-only)_

If this is a blueprint book item.

### is_deconstruction_item

**Type:** `boolean` _(read-only)_

If this is a deconstruction tool item.

### is_item_with_entity_data

**Type:** `boolean` _(read-only)_

If this is an item with entity data item.

### is_item_with_inventory

**Type:** `boolean` _(read-only)_

If this is an item with inventory item.

### is_item_with_label

**Type:** `boolean` _(read-only)_

If this is an item with label item.

### is_item_with_tags

**Type:** `boolean` _(read-only)_

If this is an item with tags item.

### is_repair_tool

**Type:** `boolean` _(read-only)_

If this is a repair tool item.

### is_selection_tool

**Type:** `boolean` _(read-only)_

If this is a selection tool item.

### is_tool

**Type:** `boolean` _(read-only)_

If this is a tool item.

### is_upgrade_item

**Type:** `boolean` _(read-only)_

If this is a upgrade item.

### item_number

**Type:** `uint64` _(read-only)_

The unique identifier for this item, if any. Note that this ID stays the same no matter where the item is moved to.

### label

**Type:** `string`

The current label for this item, if any.

### label_color

**Type:** `Color`

The current label color for this item, if any.

### mapper_count

**Type:** `uint` _(read-only)_

The current count of mappers in the upgrade item.

### owner_location

**Type:** `ItemLocationData` _(read-only)_

The location of this item if it can be found.

### preview_icons

**Type:** ``BlueprintSignalIcon`[]`

Icons of this blueprint item, blueprint book, deconstruction item or upgrade planner. An item that doesn't have icons returns `nil` on read and throws error on write.

### tags

**Type:** `Tags`



### tile_filter_count

**Type:** `uint` _(read-only)_

The number of tile filters this deconstruction item supports.

### tile_filter_mode

**Type:** `defines.deconstruction_item.tile_filter_mode`

The blacklist/whitelist tile filter mode for this deconstruction item.

### tile_filters

**Type:** ``TileID`[]`

The tile filters for this deconstruction item. The attribute is a sparse array with the keys representing the index of the filter. Reading filters always returns an array of strings which are the tile prototype names.

### tile_selection_mode

**Type:** `defines.deconstruction_item.tile_selection_mode`

The tile selection mode for this deconstruction item.

### trees_and_rocks_only

**Type:** `boolean`

If this deconstruction item is set to allow trees and rocks only.

---

## LuaItemPrototype

# LuaItemPrototype

Prototype of an item. For example, an item prototype can be obtained from [LuaPrototypes::item](runtime:LuaPrototypes::item) by its name: `prototypes.item["iron-plate"]`.

**Parent:** `LuaPrototypeBase`

## Methods

### get_ammo_type

The type of this ammo prototype.

**Parameters:**

- `ammo_source_type`  _(optional)_: Defaults to `"default"`.

**Returns:**

- `AmmoType`: 

### get_cursor_box_type



**Parameters:**

- `selection_mode` `defines.selection_mode`: 

**Returns:**

- `CursorBoxRenderType`: 

### get_durability

The durability of this tool item prototype.

**Parameters:**

- `quality` `QualityID` _(optional)_: 

**Returns:**

- `double`: 

### get_entity_filter_mode

The entity filter mode used by this selection tool.

**Parameters:**

- `selection_mode` `defines.selection_mode`: 

**Returns:**

- `PrototypeFilterMode`: 

### get_entity_filters

The entity filters used by this selection tool.

**Parameters:**

- `selection_mode` `defines.selection_mode`: 

**Returns:**

- ``LuaEntityPrototype`[]`: 

### get_entity_type_filters

The entity type filters used by this selection tool indexed by entity type.

The boolean value is meaningless and is used to allow easy lookup if a type exists in the dictionary.

**Parameters:**

- `selection_mode` `defines.selection_mode`: 

**Returns:**

- `dictionary<`string`, `True`>`: 

### get_inventory_size_bonus

The inventory size bonus for this armor prototype.

**Parameters:**

- `quality` `QualityID` _(optional)_: 

**Returns:**

- `uint`: 

### get_selection_border_color

The color used when doing normal selection with this selection tool prototype.

**Parameters:**

- `selection_mode` `defines.selection_mode`: 

**Returns:**

- `Color`: 

### get_selection_mode_flags

Flags that affect which entities will be selected.

**Parameters:**

- `selection_mode` `defines.selection_mode`: 

**Returns:**

- `SelectionModeFlags`: 

### get_spoil_ticks

The number of ticks before this item spoils, or `0` if it does not spoil.

**Parameters:**

- `quality` `QualityID` _(optional)_: 

**Returns:**

- `uint`: 

### get_tile_filter_mode

The tile filter mode used by this selection tool.

**Parameters:**

- `selection_mode` `defines.selection_mode`: 

**Returns:**

- `PrototypeFilterMode`: 

### get_tile_filters

The tile filters used by this selection tool.

**Parameters:**

- `selection_mode` `defines.selection_mode`: 

**Returns:**

- ``LuaTilePrototype`[]`: 

### has_flag

Test whether this item prototype has a certain flag set.

**Parameters:**

- `flag` `ItemPrototypeFlag`: The flag to test.

**Returns:**

- `boolean`: 

## Attributes

### always_include_tiles

**Type:** `boolean` _(read-only)_

If tiles area always included when doing selection with this selection tool prototype.

### ammo_category

**Type:** `LuaAmmoCategoryPrototype` _(read-only)_



### attack_parameters

**Type:** `AttackParameters` _(read-only)_

The gun attack parameters.

### beacon_tint

**Type:** ``Color`[]` _(read-only)_



### burnt_result

**Type:** `LuaItemPrototype` _(read-only)_

The result of burning this item as fuel, if any.

### can_be_mod_opened

**Type:** `boolean` _(read-only)_

If this item can be mod-opened.

### capsule_action

**Type:** `CapsuleAction` _(read-only)_

The capsule action for this capsule item prototype.

### category

**Type:** `string` _(read-only)_

The name of a [LuaModuleCategoryPrototype](runtime:LuaModuleCategoryPrototype). Used when upgrading modules: Ctrl + click modules into an entity and it will replace lower tier modules of the same category with higher tier modules.

### collision_box

**Type:** `BoundingBox` _(read-only)_

The collision box used by character entities when wearing this armor.

### default_import_location

**Type:** `LuaSpaceLocationPrototype` _(read-only)_



### default_label_color

**Type:** `Color` _(read-only)_

The default label color used for this item with label, if any.

### destroyed_by_dropping_trigger

**Type:** ``TriggerItem`[]` _(read-only)_



### draw_label_for_cursor_render

**Type:** `boolean` _(read-only)_

If true, and this item with label has a label it is drawn in place of the normal number when held in the cursor.

### drawing_box

**Type:** `BoundingBox` _(read-only)_

The drawing box used by character entities when wearing this armor.

### durability_description_key

**Type:** `string` _(read-only)_

The durability message key used when displaying the durability of this tool.

### durability_description_value

**Type:** `string` _(read-only)_

The durability message value used when displaying the durability of this tool.

### entity_filter_slots

**Type:** `uint` _(read-only)_

The number of entity filters this deconstruction item has.

### equipment_grid

**Type:** `LuaEquipmentGridPrototype` _(read-only)_

The prototype of this armor's equipment grid, if any.

### factoriopedia_alternative

**Type:** `LuaItemPrototype` _(read-only)_

An alternative prototype that will be used to display info about this prototype in Factoriopedia.

### factoriopedia_durability_description_key

**Type:** `string` _(read-only)_

The durability message key used when displaying the durability of this tool in Factoriopedia.

### filter_mode

**Type:**  _(read-only)_

The filter mode used by this item with inventory.

### flags

**Type:** `ItemPrototypeFlags` _(read-only)_

The flags for this item prototype.

### fuel_acceleration_multiplier

**Type:** `double` _(read-only)_

The acceleration multiplier when this item is used as fuel in a vehicle.

### fuel_acceleration_multiplier_quality_bonus

**Type:** `double` _(read-only)_

Additional fuel acceleration multiplier per quality level.

### fuel_category

**Type:** `string` _(read-only)_

The fuel category, if any.

### fuel_emissions_multiplier

**Type:** `double` _(read-only)_

The emissions multiplier if this is used as fuel.

### fuel_glow_color

**Type:** `Color` _(read-only)_



### fuel_top_speed_multiplier

**Type:** `double` _(read-only)_

The fuel top speed multiplier when this item is used as fuel in a vehicle.

### fuel_top_speed_multiplier_quality_bonus

**Type:** `double` _(read-only)_

Additional fuel top speed multiplier per quality level.

### fuel_value

**Type:** `float` _(read-only)_

Fuel value when burned.

### infinite

**Type:** `boolean` _(read-only)_

If this tool item has infinite durability.

### ingredient_to_weight_coefficient

**Type:** `double` _(read-only)_



### inventory_size

**Type:** `uint` _(read-only)_

The main inventory size for item-with-inventory-prototype.

### item_filters

**Type:** ``LuaItemPrototype`[]` _(read-only)_



### item_group_filters

**Type:** ``LuaGroup`[]` _(read-only)_



### item_subgroup_filters

**Type:** ``LuaGroup`[]` _(read-only)_



### localised_filter_message

**Type:** `LocalisedString` _(read-only)_

The localised string used when the player attempts to put items into this item with inventory that aren't allowed.

### magazine_size

**Type:** `float` _(read-only)_

Size of full magazine.

### manual_length_limit

**Type:** `double` _(read-only)_



### module_effects

**Type:** `ModuleEffects` _(read-only)_

Effects of this module.

### moved_to_hub_when_building

**Type:** `boolean` _(read-only)_



### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### place_as_equipment_result

**Type:** `LuaEquipmentPrototype` _(read-only)_

Prototype of the equipment that will be created by placing this item in an equipment grid, if any.

### place_as_tile_result

**Type:** `PlaceAsTileResult` _(read-only)_

The place-as-tile result if one is defined, if any.

### place_result

**Type:** `LuaEntityPrototype` _(read-only)_

Prototype of the entity that will be created by placing this item, if any.

### plant_result

**Type:** `LuaEntityPrototype` _(read-only)_

The result entity when planting this item as a seed.

### provides_flight

**Type:** `boolean` _(read-only)_

If this armor provides flight to character entities when worm.

### radius_color

**Type:** `Color` _(read-only)_



### rails

**Type:** ``LuaEntityPrototype`[]` _(read-only)_

Prototypes of all rails possible to be used by this rail planner prototype.

### reload_time

**Type:** `float` _(read-only)_

Amount of extra time (in ticks) it takes to reload the weapon after depleting the magazine.

### requires_beacon_alt_mode

**Type:** `boolean` _(read-only)_



### resistances

**Type:** `dictionary<`string`, `Resistance`>` _(read-only)_

Resistances of this armor item, if any, indexed by damage type name.

### rocket_launch_products

**Type:** ``Product`[]` _(read-only)_

The results of launching this item in a rocket.

### skip_fog_of_war

**Type:** `boolean` _(read-only)_

If this selection tool skips things covered by fog of war.

### speed

**Type:** `float` _(read-only)_

The repairing speed if this is a repairing tool.

### spoil_result

**Type:** `LuaItemPrototype` _(read-only)_

The spoil result of this item, if any

### spoil_to_trigger_result

**Type:** `SpoilToTriggerResult` _(read-only)_



### stack_size

**Type:** `uint` _(read-only)_

Maximum stack size of the item specified by this prototype.

### stackable

**Type:** `boolean` _(read-only)_

Is this item allowed to stack at all?

### support

**Type:** `LuaEntityPrototype` _(read-only)_

The rail support used by this rail planner.

### tier

**Type:** `uint` _(read-only)_

Tier of the module inside its category. Used when upgrading modules: Ctrl + click modules into an entity and it will replace lower tier modules with higher tier modules if they have the same category.

### tile_filter_slots

**Type:** `uint` _(read-only)_

The number of tile filters this deconstruction item has.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

### weight

**Type:** `double` _(read-only)_

Weight of this item. More information on how item weight is determined can be found on its [auxiliary page](runtime:item-weight).

---

## LuaItemStack

# LuaItemStack

A reference to an item and count owned by some external entity.

In most instances this is a simple reference as in: it points at a specific slot in an inventory and not the item in the slot.

In the instance this references an item on a [LuaTransportLine](runtime:LuaTransportLine) the reference is only guaranteed to stay valid (and refer to the same item) as long as nothing changes the transport line.

**Parent:** `LuaItemCommon`

## Methods

### add_ammo

Add ammo to this ammo item.

**Parameters:**

- `amount` `float`: Amount of ammo to add.

### add_durability

Add durability to this tool item.

**Parameters:**

- `amount` `double`: Amount of durability to add.

### can_set_stack

Would a call to [LuaItemStack::set_stack](runtime:LuaItemStack::set_stack) succeed?

**Parameters:**

- `stack` `ItemStackIdentification` _(optional)_: Stack that would be set, possibly `nil`.

**Returns:**

- `boolean`: 

### clear

Clear this item stack.

### create_grid

Creates the equipment grid for this item if it doesn't exist and this is an item-with-entity-data that supports equipment grids.

**Returns:**

- `LuaEquipmentGrid`: 

### drain_ammo

Remove ammo from this ammo item.

**Parameters:**

- `amount` `float`: Amount of ammo to remove.

### drain_durability

Remove durability from this tool item.

**Parameters:**

- `amount` `double`: Amount of durability to remove.

### export_stack

Export a supported item (blueprint, blueprint-book, deconstruction-planner, upgrade-planner, item-with-tags) to a string.

**Returns:**

- `string`: The exported string

### import_stack

Import a supported item (blueprint, blueprint-book, deconstruction-planner, upgrade-planner, item-with-tags) from a string.

**Parameters:**

- `data` `string`: The string to import

**Returns:**

- `int`: 0 if the import succeeded with no errors. -1 if the import succeeded with errors. 1 if the import failed.

### set_stack

Set this item stack to another item stack.

**Parameters:**

- `stack` `ItemStackIdentification` _(optional)_: Item stack to set it to. Omitting this parameter or passing `nil` will clear this item stack, as if [LuaItemStack::clear](runtime:LuaItemStack::clear) was called.

**Returns:**

- `boolean`: Whether the stack was set successfully. Returns `false` if this stack was not [valid for write](runtime:LuaItemStack::can_set_stack).

### spoil

Spoils this item if the item can spoil.

### swap_stack

Swaps this item stack with the given item stack if allowed.

**Parameters:**

- `stack` `LuaItemStack`: 

**Returns:**

- `boolean`: Whether the 2 stacks were swapped successfully.

### transfer_stack

Transfers the given item stack into this item stack.

**Parameters:**

- `amount` `uint` _(optional)_: 
- `stack` `ItemStackIdentification`: 

**Returns:**

- `boolean`: `true` if the full stack (or requested amount) was transferred.

### use_capsule

Use the capsule item with the entity as the source, targeting the given position.

**Parameters:**

- `entity` `LuaEntity`: The entity to use the capsule item with.
- `target_position` `MapPosition`: The position to use the capsule item with.

**Returns:**

- ``LuaEntity`[]`: Array of the entities that were created by the capsule action.

## Attributes

### count

**Type:** `uint`

Number of items in this stack.

### health

**Type:** `float`

How much health the item has, as a number in range `[0, 1]`.

### is_module

**Type:** `boolean` _(read-only)_

If this is a module

### item

**Type:** `LuaItem` _(read-only)_

If the item has additional data, returns LuaItem pointing at the extra data, otherwise returns nil.

### name

**Type:** `string` _(read-only)_

Prototype name of the item held in this stack.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### prototype

**Type:** `LuaItemPrototype` _(read-only)_

Prototype of the item held in this stack.

### quality

**Type:** `LuaQualityPrototype` _(read-only)_

The quality of this item.

### spoil_percent

**Type:** `double`

The percent spoiled this item is if it spoils. `0` in the case of the item not spoiling.

### spoil_tick

**Type:** `MapTick`

The tick this item spoils, or `0` if it does not spoil. When writing, setting to anything < the current game tick will spoil the item instantly.

### type

**Type:** `string` _(read-only)_

Type of the item prototype.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

### valid_for_read

**Type:** `boolean` _(read-only)_

Is this valid for reading? Differs from the usual `valid` in that `valid` will be `true` even if the item stack is blank but the entity that holds it is still valid.

---

## LuaLampControlBehavior

# LuaLampControlBehavior

Control behavior for lamps.

**Parent:** `LuaGenericOnOffControlBehavior`

## Attributes

### blue_signal

**Type:** `SignalID`



### color

**Type:** `Color` _(read-only)_

The color the lamp is showing, if any.

### color_mode

**Type:** `defines.control_behavior.lamp.color_mode`



### green_signal

**Type:** `SignalID`



### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### red_signal

**Type:** `SignalID`



### rgb_signal

**Type:** `SignalID`



### use_colors

**Type:** `boolean`

`true` if the lamp should set the color from the circuit network signals.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaLazyLoadedValue

# LuaLazyLoadedValue

A lazily loaded value. For performance reasons, we sometimes return a custom lazily-loaded value type instead of the native Lua value. This custom type lazily constructs the necessary value when [LuaLazyLoadedValue::get](runtime:LuaLazyLoadedValue::get) is called, therefore preventing its unnecessary construction in some cases.

An instance of LuaLazyLoadedValue is only valid during the event it was created from and cannot be saved.

## Methods

### get

Gets the value of this lazy loaded value.

**Returns:**

- `Any`: 

## Attributes

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaLoaderControlBehavior

# LuaLoaderControlBehavior

Control behavior for loaders.

**Parent:** `LuaGenericOnOffControlBehavior`

## Attributes

### circuit_read_transfers

**Type:** `boolean`

`true` if the transfers between loader's belt and container should be pulsed to the circuit network

### circuit_set_filters

**Type:** `boolean`

`true` if filters are set from circuit network

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaLogisticCell

# LuaLogisticCell

Logistic cell of a particular [LuaEntity](runtime:LuaEntity). A "Logistic Cell" is the given name for settings and properties used by what would normally be seen as a "Roboport". A logistic cell however doesn't have to be attached to the roboport entity (the character has one for the personal roboport).

## Methods

### is_in_construction_range

Is a given position within the construction range of this cell?

**Parameters:**

- `position` `MapPosition`: 

**Returns:**

- `boolean`: 

### is_in_logistic_range

Is a given position within the logistic range of this cell?

**Parameters:**

- `position` `MapPosition`: 

**Returns:**

- `boolean`: 

### is_neighbour_with

Are two cells neighbours?

**Parameters:**

- `other` `LuaLogisticCell`: 

**Returns:**

- `boolean`: 

## Attributes

### charge_approach_distance

**Type:** `float` _(read-only)_

Radius at which the robots hover when waiting to be charged.

### charging_robot_count

**Type:** `uint` _(read-only)_

Number of robots currently charging.

### charging_robots

**Type:** ``LuaEntity`[]` _(read-only)_

Robots currently being charged.

### construction_radius

**Type:** `float` _(read-only)_

Construction radius of this cell.

### logistic_network

**Type:** `LuaLogisticNetwork` _(read-only)_

The network that owns this cell, if any.

### logistic_radius

**Type:** `float` _(read-only)_

Logistic radius of this cell.

### logistics_connection_distance

**Type:** `float` _(read-only)_

Logistic connection distance of this cell.

### mobile

**Type:** `boolean` _(read-only)_

`true` if this is a mobile cell. In vanilla, only the logistic cell created by a character's personal roboport is mobile.

### neighbours

**Type:** ``LuaLogisticCell`[]` _(read-only)_

Neighbouring cells.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### owner

**Type:** `LuaEntity` _(read-only)_

This cell's owner.

### stationed_construction_robot_count

**Type:** `uint` _(read-only)_

Number of stationed construction robots in this cell.

### stationed_logistic_robot_count

**Type:** `uint` _(read-only)_

Number of stationed logistic robots in this cell.

### to_charge_robot_count

**Type:** `uint` _(read-only)_

Number of robots waiting to charge.

### to_charge_robots

**Type:** ``LuaEntity`[]` _(read-only)_

Robots waiting to charge.

### transmitting

**Type:** `boolean` _(read-only)_

`true` if this cell is active.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaLogisticContainerControlBehavior

# LuaLogisticContainerControlBehavior

Control behavior for logistic chests.

**Parent:** `LuaControlBehavior`

## Attributes

### circuit_condition

**Type:** `CircuitConditionDefinition`

The circuit condition for the logistic container.

### circuit_condition_enabled

**Type:** `boolean`

Whether the circuit condition is in effect

### circuit_exclusive_mode_of_operation

**Type:** `defines.control_behavior.logistic_container.exclusive_mode`

The circuit mode of operations for the logistic container. Can only be set on containers whose [logistic_mode](runtime:LuaEntityPrototype::logistic_mode) is set to `"requester"` or `"buffer"`.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaLogisticNetwork

# LuaLogisticNetwork

A single logistic network of a given force on a given surface.

## Methods

### can_satisfy_request

Can the network satisfy a request for a given item and count.

**Parameters:**

- `count` `uint` _(optional)_: Count to check. Defaults to 1.
- `include_buffers` `boolean` _(optional)_: Should buffers be considered? Defaults to false.
- `item` `ItemWithQualityID`: Item name to check.

**Returns:**

- `boolean`: Whether the network can satisfy the request.

### find_cell_closest_to

Find logistic cell closest to a given position.

**Parameters:**

- `position` `MapPosition`: 

**Returns:**

- `LuaLogisticCell`: `nil` if no cell was found.

### get_contents

Get item counts for the entire network, similar to how [LuaInventory::get_contents](runtime:LuaInventory::get_contents) does.

**Returns:**

- ``ItemWithQualityCounts`[]`: List of all items in the network.

### get_item_count

Count given or all items in the network or given members.

**Parameters:**

- `item` `ItemWithQualityID` _(optional)_: Item name to count. If not given, gives counts of all items in the network.
- `member`  _(optional)_: Logistic members to check. If not given, gives count in the entire network.

**Returns:**

- `int`: 

### get_supply_counts

Get the amount of items of the given type indexed by the storage member.

**Parameters:**

- `item` `ItemWithQualityID`: Item name to check.

**Returns:**

- `LogisticsNetworkSupplyCounts`: 

### get_supply_points

Gets the logistic points with of the given type indexed by the storage member.

**Parameters:**

- `item` `ItemWithQualityID`: Item name to check.

**Returns:**

- `LogisticsNetworkSupplyPoints`: 

### insert

Insert items into the logistic network. This will actually insert the items into some logistic chests.

**Parameters:**

- `item` `ItemStackIdentification`: What to insert.
- `members`  _(optional)_: Which logistic members to insert the items to. `"storage-empty"` inserts into storage chests that are completely empty, `"storage-empty-slot"` inserts into storage chests that have an empty slot. If not specified, inserts items into the logistic network in the usual order.

**Returns:**

- `uint`: Number of items actually inserted.

### remove_item

Remove items from the logistic network. This will actually remove the items from some logistic chests.

**Parameters:**

- `item` `ItemStackIdentification`: What to remove.
- `members`  _(optional)_: Which logistic members to remove from. If not specified, removes from the network in the usual order.

**Returns:**

- `uint`: Number of items removed.

### select_drop_point

Find a logistic point to drop the specific item stack.

**Parameters:**

- `members`  _(optional)_: When given, it will find from only the specific type of member. If not specified, selects with normal priorities.
- `stack` `ItemStackIdentification`: Name of the item to drop off.

**Returns:**

- `LuaLogisticPoint`: `nil` if no point was found.

### select_pickup_point

Find the 'best' logistic point with this item ID and from the given position or from given chest type.

**Parameters:**

- `include_buffers` `boolean` _(optional)_: Whether to consider buffer chests or not. Defaults to false. Only considered if selecting with position.
- `members`  _(optional)_: When given, it will find from only the specific type of member. If not specified, selects with normal priorities. Not considered if position is specified.
- `name` `ItemWithQualityID`: Name of the item to pick up.
- `position` `MapPosition` _(optional)_: When given, it will find the storage 'best' storage point from this position.

**Returns:**

- `LuaLogisticPoint`: `nil` if no point was found.

## Attributes

### active_provider_points

**Type:** ``LuaLogisticPoint`[]` _(read-only)_

All active provider points in this network.

### all_construction_robots

**Type:** `uint` _(read-only)_

The total number of construction robots in the network (idle and active + in roboports).

### all_logistic_robots

**Type:** `uint` _(read-only)_

The total number of logistic robots in the network (idle and active + in roboports).

### available_construction_robots

**Type:** `uint` _(read-only)_

Number of construction robots available for a job.

### available_logistic_robots

**Type:** `uint` _(read-only)_

Number of logistic robots available for a job.

### cells

**Type:** ``LuaLogisticCell`[]` _(read-only)_

All cells in this network.

### construction_robots

**Type:** ``LuaEntity`[]` _(read-only)_

All construction robots in this logistic network.

### empty_provider_points

**Type:** ``LuaLogisticPoint`[]` _(read-only)_

All things that have empty provider points in this network.

### empty_providers

**Type:** ``LuaEntity`[]` _(read-only)_

All entities that have empty logistic provider points in this network.

### force

**Type:** `LuaForce` _(read-only)_

The force this logistic network belongs to.

### logistic_members

**Type:** ``LuaEntity`[]` _(read-only)_

All other entities that have logistic points in this network (inserters mostly).

### logistic_robots

**Type:** ``LuaEntity`[]` _(read-only)_

All logistic robots in this logistic network.

### network_id

**Type:** `uint` _(read-only)_

The unique logistic network ID.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### passive_provider_points

**Type:** ``LuaLogisticPoint`[]` _(read-only)_

All passive provider points in this network.

### provider_points

**Type:** ``LuaLogisticPoint`[]` _(read-only)_

All things that have provider points in this network.

### providers

**Type:** ``LuaEntity`[]` _(read-only)_

All entities that have logistic provider points in this network.

### requester_points

**Type:** ``LuaLogisticPoint`[]` _(read-only)_

All things that have requester points in this network.

### requesters

**Type:** ``LuaEntity`[]` _(read-only)_

All entities that have logistic requester points in this network.

### robot_limit

**Type:** `uint` _(read-only)_

Maximum number of robots the network can work with. Currently only used for the personal roboport.

### robots

**Type:** ``LuaEntity`[]` _(read-only)_

All robots in this logistic network.

### storage_points

**Type:** ``LuaLogisticPoint`[]` _(read-only)_

All things that have storage points in this network.

### storages

**Type:** ``LuaEntity`[]` _(read-only)_

All entities that have logistic storage points in this network.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaLogisticPoint

# LuaLogisticPoint

Logistic point of a particular [LuaEntity](runtime:LuaEntity). A "Logistic point" is the name given for settings and properties used by requester, provider, and storage points in a given logistic network. These "points" don't have to be a logistic container but often are. One other entity that can own several points is the "character" character type entity.

## Methods

### add_section

Adds a new logistic section to this logistic point if possible.

**Parameters:**

- `group` `string` _(optional)_: The group to assign this section to.

**Returns:**

- `LuaLogisticSection`: The added logistic section.

### get_section

Gets section on the selected index, if it exists

**Parameters:**

- `section_index` `uint`: Index of the section

**Returns:**

- `LuaLogisticSection`: 

### remove_section

Removes the given logistic section if possible. Removal may fail if the section index is out of range or the section is not [manual](runtime:LuaLogisticSection::is_manual).

**Parameters:**

- `section_index` `uint`: Index of the section

**Returns:**

- `boolean`: Whether section was removed.

## Attributes

### enabled

**Type:** `boolean`

Whether this logistic point is active, related to disabling logistics on player/spidertron.

When the logistic point is disabled it won't request and auto trash will do nothing.

### exact

**Type:** `boolean` _(read-only)_

If this logistic point is using the exact mode. In exact mode robots never over-deliver requests.

### filters

**Type:** ``CompiledLogisticFilter`[]` _(read-only)_

The logistic filters for this logistic point, if this uses any.

The returned array will always have an entry for each filter and will be indexed in sequence when not `nil`.

### force

**Type:** `LuaForce` _(read-only)_

The force of this logistic point.

This will always be the same as the [LuaLogisticPoint::owner](runtime:LuaLogisticPoint::owner) force.

### logistic_member_index

**Type:** `uint` _(read-only)_

The Logistic member index of this logistic point.

### logistic_network

**Type:** `LuaLogisticNetwork` _(read-only)_



### mode

**Type:** `defines.logistic_mode` _(read-only)_

The logistic mode.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### owner

**Type:** `LuaEntity` _(read-only)_

The [LuaEntity](runtime:LuaEntity) owner of this LuaLogisticPoint.

### sections

**Type:** ``LuaLogisticSection`[]` _(read-only)_

All logistic sections of this logistic point.

### sections_count

**Type:** `uint` _(read-only)_

Amount of logistic sections this logistic point has.

### targeted_items_deliver

**Type:** ``ItemWithQualityCounts`[]` _(read-only)_

Items targeted to be dropped off into this logistic point by robots.

### targeted_items_pickup

**Type:** ``ItemWithQualityCounts`[]` _(read-only)_

Items targeted to be picked up from this logistic point by robots.

### trash_not_requested

**Type:** `boolean`

Whether this logistic point is set to trash unrequested items.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaLogisticSection

# LuaLogisticSection

Logistic section of a particular [LuaLogisticPoint](runtime:LuaLogisticPoint) or [LuaConstantCombinatorControlBehavior](runtime:LuaConstantCombinatorControlBehavior).

## Methods

### clear_slot

Clears the logistic request and auto-trash from the given slot.

This can only be called when the section [is manual](runtime:LuaLogisticSection::is_manual).

**Parameters:**

- `slot_index` `LogisticFilterIndex`: Index of a slot to clear.

### get_slot

Gets current settings of logistic request and auto-trash from the given slot.

**Parameters:**

- `slot_index` `LogisticFilterIndex`: Index of a slot to read.

**Returns:**

- `LogisticFilter`: 

### set_slot

Sets logistic request and auto-trash slot to the given value.

This will silently fail if personal logistics are not researched yet.

This can only be called when the section [is manual](runtime:LuaLogisticSection::is_manual).

**Parameters:**

- `filter` `LogisticFilter`: The details of the filter to set.
- `slot_index` `LogisticFilterIndex`: Index of a slot to set.

**Returns:**

- `LogisticFilterIndex`: The existing index for the given filter or nil if the filter was successfully set.

## Attributes

### active

**Type:** `boolean`

Whether this section is active. This can only be written to when the section [is manual](runtime:LuaLogisticSection::is_manual).

### filters

**Type:** ``LogisticFilter`[]`

The logistic filters for this section.

This can only be written to when the section [is manual](runtime:LuaLogisticSection::is_manual).

### filters_count

**Type:** `uint` _(read-only)_

Amount of filters this section has

### group

**Type:** `string`

The group this section belongs to.

An empty string when in no group.

This can only be written to when the section [is manual](runtime:LuaLogisticSection::is_manual).

### index

**Type:** `uint` _(read-only)_

The section index of this section.

### is_manual

**Type:** `boolean` _(read-only)_

Shortcut to check whether [LuaLogisticSection::type](runtime:LuaLogisticSection::type) is equal to [manual](runtime:defines.logistic_section_type.manual).

### multiplier

**Type:** `float`

Multiplier applied to all filters before they are used by game. This can only be written to when the section [is manual](runtime:LuaLogisticSection::is_manual).

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### owner

**Type:** `LuaEntity` _(read-only)_

The [LuaEntity](runtime:LuaEntity) owner of this LuaLogisticSection.

### type

**Type:** `defines.logistic_section_type` _(read-only)_

The type of this logistic section. Sections that are not manual are controlled by game itself and may not be allowed to be changed by script.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaLogisticSections

# LuaLogisticSections

Logistic sections of an entity.

## Methods

### add_section

Adds a new logistic section if possible.

**Parameters:**

- `group` `string` _(optional)_: The group to assign this section to.

**Returns:**

- `LuaLogisticSection`: Logistic section if added.

### get_section

Gets section on the selected index, if it exists.

**Parameters:**

- `section_index` `uint`: Index of the section.

**Returns:**

- `LuaLogisticSection`: 

### remove_section

Removes the given logistic section if possible. Removal may fail if the section index is out of range or the section is not [manual](runtime:LuaLogisticSection::is_manual).

**Parameters:**

- `section_index` `uint`: Index of the section.

**Returns:**

- `boolean`: Whether section was removed.

## Attributes

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### sections

**Type:** ``LuaLogisticSection`[]` _(read-only)_

All logistic sections of this entity.

### sections_count

**Type:** `uint` _(read-only)_

Amount of logistic sections this entity has.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaMiningDrillControlBehavior

# LuaMiningDrillControlBehavior

Control behavior for mining drills.

**Parent:** `LuaGenericOnOffControlBehavior`

## Attributes

### circuit_read_resources

**Type:** `boolean`

`true` if this drill should send the resources in the field to the circuit network.

Which resources depends on [LuaMiningDrillControlBehavior::resource_read_mode](runtime:LuaMiningDrillControlBehavior::resource_read_mode)

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### resource_read_mode

**Type:** `defines.control_behavior.mining_drill.resource_read_mode`

If the mining drill should send just the resources in its area or the entire field it's on to the circuit network.

### resource_read_targets

**Type:** ``LuaEntity`[]` _(read-only)_

The resource entities that the mining drill will send information about to the circuit network or an empty array.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaModSettingPrototype

# LuaModSettingPrototype

Prototype of a mod setting.

**Parent:** `LuaPrototypeBase`

## Attributes

### allow_blank

**Type:** `boolean` _(read-only)_

Whether this string setting allows blank values. `nil` if not a string setting.

### allowed_values

**Type:**  _(read-only)_

The allowed values for this setting. `nil` if this setting doesn't use the a fixed set of values.

### auto_trim

**Type:** `boolean` _(read-only)_

Whether this string setting auto-trims values. `nil` if not a string setting

### default_value

**Type:**  _(read-only)_

The default value of this setting.

### maximum_value

**Type:**  _(read-only)_

The maximum value for this setting. `nil` if this setting type doesn't support a maximum.

### minimum_value

**Type:**  _(read-only)_

The minimum value for this setting. `nil` if this setting type doesn't support a minimum.

### mod

**Type:** `string` _(read-only)_

The mod that owns this setting.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### setting_type

**Type:**  _(read-only)_



### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaModuleCategoryPrototype

# LuaModuleCategoryPrototype

Prototype of a module category.

**Parent:** `LuaPrototypeBase`

## Attributes

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaNamedNoiseExpression

# LuaNamedNoiseExpression

Prototype of a named noise expression.

**Parent:** `LuaPrototypeBase`

## Attributes

### expression

**Type:** `string` _(read-only)_

The expression itself.

### intended_property

**Type:** `string` _(read-only)_

Name of the property that this expression is intended to provide a value for, if any.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaNamedNoiseFunction

# LuaNamedNoiseFunction

Prototype of a named noise function.

**Parent:** `LuaPrototypeBase`

## Attributes

### expression

**Type:** `string` _(read-only)_



### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaParticlePrototype

# LuaParticlePrototype

Prototype of an optimized particle.

**Parent:** `LuaPrototypeBase`

## Attributes

### ended_in_water_trigger_effect

**Type:** `TriggerEffectItem` _(read-only)_



### ended_on_ground_trigger_effect

**Type:** `TriggerEffectItem` _(read-only)_



### fade_out_time

**Type:** `uint` _(read-only)_



### life_time

**Type:** `uint` _(read-only)_



### mining_particle_frame_speed

**Type:** `float` _(read-only)_



### movement_modifier

**Type:** `float` _(read-only)_



### movement_modifier_when_on_ground

**Type:** `float` _(read-only)_



### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### regular_trigger_effect

**Type:** `TriggerEffectItem` _(read-only)_



### regular_trigger_effect_frequency

**Type:** `uint` _(read-only)_



### render_layer

**Type:** `RenderLayer` _(read-only)_



### render_layer_when_on_ground

**Type:** `RenderLayer` _(read-only)_



### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

### vertical_acceleration

**Type:** `float` _(read-only)_

---

## LuaPermissionGroup

# LuaPermissionGroup

A permission group that defines what players in this group are allowed to do.

## Methods

### add_player

Adds the given player to this group.

**Parameters:**

- `player` `PlayerIdentification`: 

**Returns:**

- `boolean`: Whether the player was added.

### allows_action

Whether this group allows the given action.

**Parameters:**

- `action` `defines.input_action`: The action in question.

**Returns:**

- `boolean`: 

### destroy

Destroys this group.

**Returns:**

- `boolean`: Whether the group was successfully destroyed.

### remove_player

Removes the given player from this group.

**Parameters:**

- `player` `PlayerIdentification`: 

**Returns:**

- `boolean`: Whether the player was removed.

### set_allows_action

Sets whether this group allows the performance the given action.

**Parameters:**

- `action` `defines.input_action`: The action in question.
- `allow_action` `boolean`: Whether to allow the specified action.

**Returns:**

- `boolean`: Whether the value was successfully applied.

## Attributes

### group_id

**Type:** `uint` _(read-only)_

The group ID

### name

**Type:** `string`

The name of this group. Setting the name to `nil` or an empty string sets the name to the default value.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### players

**Type:** ``LuaPlayer`[]` _(read-only)_

The players in this group.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaPermissionGroups

# LuaPermissionGroups

All permission groups.

## Methods

### create_group

Creates a new permission group.

**Parameters:**

- `name` `string` _(optional)_: 

**Returns:**

- `LuaPermissionGroup`: `nil` if the calling player doesn't have permission to make groups.

### get_group

Gets the permission group with the given name or group ID.

**Parameters:**

- `group` : 

**Returns:**

- `LuaPermissionGroup`: `nil` if there is no matching group.

## Attributes

### groups

**Type:** ``LuaPermissionGroup`[]` _(read-only)_

All of the permission groups.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaPlanet

# LuaPlanet

The runtime values of a planet

## Methods

### associate_surface

Associates the given surface with this planet. Surface must not already be associated with a planet and the planet must not already have an associated surface.

Planet must not be using [entities_require_heating](runtime:LuaSpaceLocationPrototype::entities_require_heating).

**Parameters:**

- `surface` `SurfaceIdentification`: The surface to be associated.

### create_surface

Creates the associated surface if one doesn't already exist.

**Returns:**

- `LuaSurface`: 

### reset_map_gen_settings

Resets the map gen settings on this planet to the default from-prototype state.

## Attributes

### name

**Type:** `string` _(read-only)_

The planets name.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### prototype

**Type:** `LuaSpaceLocationPrototype` _(read-only)_



### surface

**Type:** `LuaSurface` _(read-only)_

The surface for this planet if one currently exists.

Planets do not default generate their surface. [LuaPlanet::create_surface](runtime:LuaPlanet::create_surface) can be used to force the surface to exist.

[LuaPlanet::associate_surface](runtime:LuaPlanet::associate_surface) can be used to create an association with an existing surface.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaPlayer

# LuaPlayer

A player in the game. Pay attention that a player may or may not have a character, which is the [LuaEntity](runtime:LuaEntity) of the little guy running around the world doing things.

**Parent:** `LuaControl`

## Methods

### activate_paste

Gets a copy of the currently selected blueprint in the clipboard queue into the player's cursor, as if the player activated Paste.

### add_alert

Adds an alert to this player for the given entity of the given alert type.

**Parameters:**

- `entity` `LuaEntity`: 
- `type` `defines.alert_type`: 

### add_custom_alert

Adds a custom alert to this player.

**Parameters:**

- `entity` `LuaEntity`: If the alert is clicked, the map will open at the position of this entity.
- `icon` `SignalID`: 
- `message` `LocalisedString`: 
- `show_on_map` `boolean`: 

### add_pin

Adds a pin to this player for the given pin specification. Either entity, player, or surface and position must be defined.

**Parameters:**

- `always_visible` `boolean` _(optional)_: 
- `entity` `LuaEntity` _(optional)_: The entity to pin.
- `label` `string` _(optional)_: 
- `player` `PlayerIdentification` _(optional)_: The player to pin.
- `position` `MapPosition` _(optional)_: Where to create the pin. Required when surface is defined.
- `preview_distance` `uint16` _(optional)_: 
- `surface` `SurfaceIdentification` _(optional)_: The surface to create the pin on.

### add_recipe_notification

Adds the given recipe to the list of recipe notifications for this player.

**Parameters:**

- `recipe` `RecipeID`: Recipe to add.

### add_to_clipboard

Adds the given blueprint to this player's clipboard queue.

**Parameters:**

- `blueprint` `LuaItemStack`: The blueprint to add.

### associate_character

Associates a character with this player.

The character must not be connected to any controller.

If this player is currently disconnected (see [LuaPlayer::connected](runtime:LuaPlayer::connected)) the character will be immediately "logged off".

See [LuaPlayer::get_associated_characters](runtime:LuaPlayer::get_associated_characters) for more information.

**Parameters:**

- `character` `LuaEntity`: The character entity.

### build_from_cursor

Builds whatever is in the cursor on the surface the player is on. The cursor stack will automatically be reduced as if the player built normally.

**Parameters:**

- `build_mode` `defines.build_mode` _(optional)_: Which build mode should be used instead of normal build. Defaults to normal.
- `direction` `defines.direction` _(optional)_: Direction the entity would be placed
- `mirror` `boolean` _(optional)_: Whether to mirror the entity
- `position` `MapPosition`: Where the entity would be placed
- `skip_fog_of_war` `boolean` _(optional)_: If chunks covered by fog-of-war are skipped.
- `terrain_building_size` `uint` _(optional)_: The size for building terrain if building terrain. Defaults to 2.

### can_build_from_cursor

Checks if this player can build what ever is in the cursor on the surface the player is on.

**Parameters:**

- `build_mode` `defines.build_mode` _(optional)_: Which build mode should be used instead of normal build. Defaults to normal.
- `direction` `defines.direction` _(optional)_: Direction the entity would be placed
- `position` `MapPosition`: Where the entity would be placed
- `skip_fog_of_war` `boolean` _(optional)_: If chunks covered by fog-of-war are skipped.
- `terrain_building_size` `uint` _(optional)_: The size for building terrain if building terrain. Defaults to 2.

**Returns:**

- `boolean`: 

### can_place_entity

Checks if this player can build the given entity at the given location on the surface the player is on.

**Parameters:**

- `direction` `defines.direction` _(optional)_: Direction the entity would be placed. Defaults to `north`.
- `name` `EntityID`: Name of the entity to check.
- `position` `MapPosition`: Where the entity would be placed.

**Returns:**

- `boolean`: 

### clear_console

Clear the chat console.

### clear_cursor

Invokes the "clear cursor" action on the player as if the user pressed it.

**Returns:**

- `boolean`: Whether the cursor is now empty.

### clear_inventory_highlights

Clears the blinking of the inventory based on insertion of items

### clear_local_flying_texts

Clear any active flying texts for this player.

### clear_recipe_notification

Clears the given recipe from the list of recipe notifications for this player.

**Parameters:**

- `recipe` `RecipeID`: Recipe to clear.

### clear_recipe_notifications

Clears all recipe notifications for this player.

### clear_selection

Clears the player's selection tool selection position.

### connect_to_server

Asks the player if they would like to connect to the given server.

This only does anything when used on a multiplayer peer. Single player and server hosts will ignore the prompt.

**Parameters:**

- `address` `string`: The server (address:port) if port is not given the default Factorio port is used.
- `description` `LocalisedString` _(optional)_: 
- `name` `LocalisedString` _(optional)_: The name of the server.
- `password` `string` _(optional)_: The password if different from the one used to join this game. Note, if the current password is not empty but the one required to join the new server is an empty string should be given for this field.

### create_character

Creates and attaches a character entity to this player.

The player must not have a character already connected and must be online (see [LuaPlayer::connected](runtime:LuaPlayer::connected)).

**Parameters:**

- `character` `EntityWithQualityID` _(optional)_: The character to create else the default is used.

**Returns:**

- `boolean`: Whether the character was created.

### create_local_flying_text

Spawn flying text that is only visible to this player. Either `position` or `create_at_cursor` are required. When `create_at_cursor` is `true`, all parameters other than `text` are ignored.

If no custom `speed` is set and the text is longer than 25 characters, its `time_to_live` and `speed` are dynamically adjusted to give the player more time to read it.

Local flying text is not saved, which means it will disappear after a save/load-cycle.

**Parameters:**

- `color` `Color` _(optional)_: The color of the flying text. Defaults to white text.
- `create_at_cursor` `boolean` _(optional)_: If `true`, the flying text is created at the player's cursor. Defaults to `false`.
- `position` `MapPosition` _(optional)_: The location on the map at which to show the flying text.
- `speed` `double` _(optional)_: The speed at which the text rises upwards in tiles/second. Can't be a negative value.
- `surface` `SurfaceIdentification` _(optional)_: The surface which this text will be shown on. Defaults to player surface.
- `text` `LocalisedString`: The flying text to show.
- `time_to_live` `uint` _(optional)_: The amount of ticks that the flying text will be shown for. Defaults to `80`.

### disable_alert

Disables alerts for the given alert category.

**Parameters:**

- `alert_type` `defines.alert_type`: 

**Returns:**

- `boolean`: Whether the alert type was disabled (false if it was already disabled).

### disable_recipe_groups

Disable recipe groups.

### disable_recipe_subgroups

Disable recipe subgroups.

### disassociate_character

Disassociates a character from this player. This is functionally the same as setting [LuaEntity::associated_player](runtime:LuaEntity::associated_player) to `nil`.

See [LuaPlayer::get_associated_characters](runtime:LuaPlayer::get_associated_characters) for more information.

**Parameters:**

- `character` `LuaEntity`: The character entity

### drag_wire

Start/end wire dragging at the specified location, wire type is based on the cursor contents

**Parameters:**

- `position` `MapPosition`: Position at which cursor was clicked. Used only to decide which side of arithmetic combinator, decider combinator or power switch is to be connected. Entity itself to be connected is based on the player's selected entity.

**Returns:**

- `boolean`: `true` if the action did something

### enable_alert

Enables alerts for the given alert category.

**Parameters:**

- `alert_type` `defines.alert_type`: 

**Returns:**

- `boolean`: Whether the alert type was enabled (false if it was already enabled).

### enable_recipe_groups

Enable recipe groups.

### enable_recipe_subgroups

Enable recipe subgroups.

### enter_space_platform

Enters the given space platform if possible.

**Parameters:**

- `space_platform` `SpacePlatformIdentification`: 

**Returns:**

- `boolean`: If the player entered the platform.

### exit_cutscene

Exit the current cutscene. Errors if not in a cutscene.

### get_active_quick_bar_page

Gets which quick bar page is being used for the given screen page or `nil` if not known.

**Parameters:**

- `index` `uint`: The screen page. Index 1 is the top row in the gui. Index can go beyond the visible number of bars on the screen to account for the interface config setting change.

**Returns:**

- `uint8`: 

### get_alerts

Get all alerts matching the given filters, or all alerts if no filters are given.

**Parameters:**

- `entity` `LuaEntity` _(optional)_: 
- `position` `MapPosition` _(optional)_: 
- `prototype` `LuaEntityPrototype` _(optional)_: 
- `surface` `SurfaceIdentification` _(optional)_: 
- `type` `defines.alert_type` _(optional)_: 

**Returns:**

- `dictionary<`uint`, `dictionary<`defines.alert_type`, ``Alert`[]`>`>`: A mapping of surface index to an array of arrays of [alerts](runtime:Alert) indexed by the [alert type](runtime:defines.alert_type).

### get_associated_characters

The characters associated with this player.

The array will always be empty when the player is disconnected (see [LuaPlayer::connected](runtime:LuaPlayer::connected)) regardless of there being associated characters.

Characters associated with this player will be logged off when this player disconnects but are not controlled by any player.

**Returns:**

- ``LuaEntity`[]`: 

### get_goal_description

Get the current goal description, as a localised string.

**Returns:**

- `LocalisedString`: 

### get_infinity_inventory_filter

Gets the filter for this map editor infinity filters at the given index or `nil` if the filter index doesn't exist or is empty.

**Parameters:**

- `index` `uint`: The index to get.

**Returns:**

- `InfinityInventoryFilter`: 

### get_quick_bar_slot

Gets the quick bar filter for the given slot or `nil`.

**Parameters:**

- `index` `uint`: The slot index. 1 for the first slot of page one, 2 for slot two of page one, 11 for the first slot of page 2, etc.

**Returns:**

- `ItemFilter`: 

### is_alert_enabled

If the given alert type is currently enabled.

**Parameters:**

- `alert_type` `defines.alert_type`: 

**Returns:**

- `boolean`: 

### is_alert_muted

If the given alert type is currently muted.

**Parameters:**

- `alert_type` `defines.alert_type`: 

**Returns:**

- `boolean`: 

### is_shortcut_available

Is a custom Lua shortcut currently available?

**Parameters:**

- `prototype_name` `string`: Prototype name of the custom shortcut.

**Returns:**

- `boolean`: 

### is_shortcut_toggled

Is a custom Lua shortcut currently toggled?

**Parameters:**

- `prototype_name` `string`: Prototype name of the custom shortcut.

**Returns:**

- `boolean`: 

### jump_to_cutscene_waypoint

Jump to the specified cutscene waypoint. Only works when the player is viewing a cutscene.

**Parameters:**

- `waypoint_index` `uint`: 

### land_on_planet

Ejects this player from the current space platform and lands on the current planet.

**Returns:**

- `boolean`: If the player successfully landed on the planet.

### leave_space_platform

Ejects this player from the current space platform if in a platform. The player is left on the platform at the position of the hub.

### mute_alert

Mutes alerts for the given alert category.

**Parameters:**

- `alert_type` `defines.alert_type`: 

**Returns:**

- `boolean`: Whether the alert type was muted (false if it was already muted).

### pipette_entity

Invokes the "smart pipette" action on the player as if the user pressed it.

**Parameters:**

- `allow_ghost` `boolean` _(optional)_: Defaults to false.
- `entity` `EntityWithQualityID`: 

**Returns:**

- `boolean`: Whether the smart pipette found something to place.

### play_sound

Play a sound for this player.

The sound is not played if its location is not [charted](runtime:LuaForce::chart) for this player.

**Parameters:**

- `sound_specification` `PlaySoundSpecification`: The sound to play.

### print

Print text to the chat console.

By default, messages that are identical to a message sent in the last 60 ticks are not printed again.

**Parameters:**

- `message` `LocalisedString`: 
- `print_settings` `PrintSettings` _(optional)_: 

### print_entity_statistics

Print entity statistics to the player's console.

**Parameters:**

- `entities` ``EntityWithQualityID`[]` _(optional)_: Entity prototypes to get statistics for. If not specified or empty, display statistics for all entities.

### print_lua_object_statistics

Print LuaObject counts per mod.

### print_robot_jobs

Print construction robot job counts to the player's console.

### remove_alert

Removes all alerts matching the given filters or if an empty filters table is given all alerts are removed.

**Parameters:**

- `entity` `LuaEntity` _(optional)_: 
- `icon` `SignalID` _(optional)_: 
- `message` `LocalisedString` _(optional)_: 
- `position` `MapPosition` _(optional)_: 
- `prototype` `EntityID` _(optional)_: 
- `surface` `SurfaceIdentification` _(optional)_: 
- `type` `defines.alert_type` _(optional)_: 

### request_translation

Requests a translation for the given localised string. If the request is successful, the [on_string_translated](runtime:on_string_translated) event will be fired with the results.

Does nothing if this player is not connected (see [LuaPlayer::connected](runtime:LuaPlayer::connected)).

**Parameters:**

- `localised_string` `LocalisedString`: 

**Returns:**

- `uint`: The unique ID for the requested translation.

### request_translations

Requests translation for the given set of localised strings. If the request is successful, a [on_string_translated](runtime:on_string_translated) event will be fired for each string with the results.

Does nothing if this player is not connected (see [LuaPlayer::connected](runtime:LuaPlayer::connected)).

**Parameters:**

- `localised_strings` ``LocalisedString`[]`: 

**Returns:**

- ``uint`[]`: The unique IDs for the requested translations.

### set_active_quick_bar_page

Sets which quick bar page is being used for the given screen page.

**Parameters:**

- `page_index` `uint`: The new quick bar page.
- `screen_index` `uint`: The screen page. Index 1 is the top row in the gui. Index can go beyond the visible number of bars on the screen to account for the interface config setting change.

### set_controller

Set the controller type of the player.

Setting a player to [defines.controllers.editor](runtime:defines.controllers.editor) auto promotes the player to admin and enables cheat mode. Setting a player to [defines.controllers.editor](runtime:defines.controllers.editor) also requires the calling player be an admin.

**Parameters:**

- `character` `LuaEntity` _(optional)_: Entity to control. Mandatory when `type` is [defines.controllers.character](runtime:defines.controllers.character), ignored otherwise.
- `chart_mode_cutoff` `double` _(optional)_: If specified and `type` is [defines.controllers.cutscene](runtime:defines.controllers.cutscene), the game will switch to chart-mode (map zoomed out) rendering when the zoom level is less than this value.
- `final_transition_time` `uint` _(optional)_: If specified and `type` is [defines.controllers.cutscene](runtime:defines.controllers.cutscene), it is the time in ticks it will take for the camera to pan from the final waypoint back to the starting position. If not given the camera will not pan back to the start position/zoom.
- `position` `MapPosition` _(optional)_: If specified and `type` is [defines.controllers.remote](runtime:defines.controllers.remote), the position the remote controller will be centered on.
- `start_position` `MapPosition` _(optional)_: If specified and `type` is [defines.controllers.cutscene](runtime:defines.controllers.cutscene), the cutscene will start at this position. If not given the start position will be the player position.
- `start_zoom` `double` _(optional)_: If specified and `type` is [defines.controllers.cutscene](runtime:defines.controllers.cutscene), the cutscene will start at this zoom level. If not given the start zoom will be the player's zoom.
- `surface` `SurfaceIdentification` _(optional)_: If specified and `type` is [defines.controllers.remote](runtime:defines.controllers.remote), the surface the remote controller will be put on.
- `type` `defines.controllers`: Which controller to use.
- `waypoints` ``CutsceneWaypoint`[]` _(optional)_: List of waypoints for the cutscene controller. This parameter is mandatory when `type` is [defines.controllers.cutscene](runtime:defines.controllers.cutscene).

### set_ending_screen_data

Setup the screen to be shown when the game is finished.

**Parameters:**

- `file` `string` _(optional)_: Path to image to be shown.
- `message` `LocalisedString`: Message to be shown.

### set_goal_description

Set the text in the goal window (top left).

**Parameters:**

- `only_update` `boolean` _(optional)_: When `true`, won't play the "goal updated" sound.
- `text` `LocalisedString` _(optional)_: The text to display. Lines can be delimited with `\n`. Passing an empty string or omitting this parameter entirely will make the goal window disappear.

### set_infinity_inventory_filter

Sets the filter for this map editor infinity filters at the given index.

**Parameters:**

- `filter` : The new filter or `nil` to clear the filter.
- `index` `uint`: The index to set.

### set_quick_bar_slot

Sets the quick bar filter for the given slot. If a [LuaItemStack](runtime:LuaItemStack) is provided, the slot will be set to that particular item instance if it has extra data, for example a specific blueprint or spidertron remote. Otherwise, it will be set to all items of that prototype, for example iron plates.

**Parameters:**

- `filter` : The filter or `nil` to clear it.
- `index` `uint`: The slot index. 1 for the first slot of page one, 2 for slot two of page one, 11 for the first slot of page 2, etc.

### set_shortcut_available

Make a custom Lua shortcut available or unavailable.

**Parameters:**

- `available` `boolean`: 
- `prototype_name` `string`: Prototype name of the custom shortcut.

### set_shortcut_toggled

Toggle or untoggle a custom Lua shortcut

**Parameters:**

- `prototype_name` `string`: Prototype name of the custom shortcut.
- `toggled` `boolean`: 

### start_selection

Starts selection with selection tool from the specified position. Does nothing if the player's cursor is not a selection tool.

**Parameters:**

- `position` `MapPosition`: The position to start selection from.
- `selection_mode` `defines.selection_mode`: The type of selection to start.

### toggle_map_editor

Toggles this player into or out of the map editor. Does nothing if this player isn't an admin or if the player doesn't have permission to use the map editor.

### unlock_achievement

Unlock the achievements of the given player. This has any effect only when this is the local player, the achievement isn't unlocked so far and the achievement is of the type "achievement".

**Parameters:**

- `name` `string`: name of the achievement to unlock

### unmute_alert

Unmutes alerts for the given alert category.

**Parameters:**

- `alert_type` `defines.alert_type`: 

**Returns:**

- `boolean`: Whether the alert type was unmuted (false if it was wasn't muted).

### use_from_cursor

Uses the current item in the cursor if it's a capsule or does nothing if not.

**Parameters:**

- `position` `MapPosition`: Where the item would be used.

## Attributes

### admin

**Type:** `boolean`

`true` if the player is an admin.

Trying to change player admin status from the console when you aren't an admin does nothing.

### afk_time

**Type:** `uint` _(read-only)_

How many ticks since the last action of this player.

### auto_sort_main_inventory

**Type:** `boolean` _(read-only)_

If the main inventory will be auto sorted.

### blueprint_to_setup

**Type:** `LuaItemStack` _(read-only)_

The item stack containing a blueprint to be setup.

### blueprints

**Type:** ``LuaRecord`[]` _(read-only)_

Records contained in the player's blueprint library.

### centered_on

**Type:** `LuaEntity`

The entity being centered on in remote view.

When writing, the player will be switched to remote view (if not already in it) and centered on the given entity.

### character

**Type:** `LuaEntity`

The character attached to this player, if any. Returns `nil` when the player is disconnected (see [LuaPlayer::connected](runtime:LuaPlayer::connected)).

### chat_color

**Type:** `Color`

The color used when this player talks in game.

### color

**Type:** `Color`

The color associated with the player. This will be used to tint the player's character as well as their buildings and vehicles.

### connected

**Type:** `boolean` _(read-only)_

`true` if the player is currently connected to the game.

### controller_type

**Type:** `defines.controllers` _(read-only)_



### cursor_stack_temporary

**Type:** `boolean`

Returns true if the current item stack in cursor will be destroyed after clearing the cursor. Manually putting it into inventory still preserves the item. If the cursor stack is not one of the supported types (blueprint, blueprint-book, deconstruction-planner, upgrade-planner), write operation will be silently ignored.

### cutscene_character

**Type:** `LuaEntity` _(read-only)_

When in a cutscene; the character this player would be using once the cutscene is over, if any. Returns `nil` when the player is disconnected (see [LuaPlayer::connected](runtime:LuaPlayer::connected)).

### display_density_scale

**Type:** `double` _(read-only)_

The display density scale for this player. The display density scale is the factor of [LuaPlayer::display_scale](runtime:LuaPlayer::display_scale) that is determined by the physical DPI of the screen that Factorio is running on. In most cases, the default value is 1. If the player is playing on a high-density display, this value may be 2 or greater.

During [on_player_created](runtime:on_player_created), this attribute will always return a scale of `1`. To get the actual scale, listen to the [on_player_display_density_scale_changed](runtime:on_player_display_density_scale_changed) event raised shortly afterwards.

### display_resolution

**Type:** `DisplayResolution` _(read-only)_

The display resolution for this player.

During [on_player_created](runtime:on_player_created), this attribute will always return a resolution of `{width=1920, height=1080}`. To get the actual resolution, listen to the [on_player_display_resolution_changed](runtime:on_player_display_resolution_changed) event raised shortly afterwards.

### display_scale

**Type:** `double` _(read-only)_

The display scale for this player.

During [on_player_created](runtime:on_player_created), this attribute will always return a scale of `1`. To get the actual scale, listen to the [on_player_display_scale_changed](runtime:on_player_display_scale_changed) event raised shortly afterwards.

### drag_target

**Type:** `DragTarget` _(read-only)_

The wire drag target for this player, if any.

### entity_copy_source

**Type:** `LuaEntity` _(read-only)_

The source entity used during entity settings copy-paste, if any.

### game_view_settings

**Type:** `GameViewSettings`

The player's game view settings.

### gui

**Type:** `LuaGui` _(read-only)_



### hand_location

**Type:** `ItemStackLocation`

The original location of the item in the cursor, marked with a hand. `nil` if the cursor stack is empty. When writing, the specified inventory slot must be empty and the cursor stack must not be empty.

### index

**Type:** `uint` _(read-only)_

This player's index in [LuaGameScript::players](runtime:LuaGameScript::players) (unique ID). It is assigned when a player is created, and remains so (even when the player is not [connected](runtime:LuaPlayer::connected)) until the player is irreversibly [removed](runtime:on_player_removed). Indexes of removed players can be reused.

### infinity_inventory_filters

**Type:** ``InfinityInventoryFilter`[]`

The filters for this map editor infinity inventory settings.

### input_method

**Type:** `defines.input_method` _(read-only)_

The input method of the player, mouse and keyboard or game controller

### last_online

**Type:** `uint` _(read-only)_

At what tick this player was last online.

### locale

**Type:** `string` _(read-only)_

The active locale for this player.

During [on_player_created](runtime:on_player_created), this attribute will be `en`. To get the actual value, listen to the [on_player_locale_changed](runtime:on_player_locale_changed) event raised shortly afterwards.

### map_view_settings

**Type:** `any`

The player's map view settings. To write to this, use a table containing the fields that should be changed.

### minimap_enabled

**Type:** `boolean`

`true` if the minimap is visible.

### mod_settings

**Type:** `LuaCustomTable<`string`, `ModSetting`>` _(read-only)_

The current per-player settings for the this player, indexed by prototype name. Returns the same structure as [LuaSettings::get_player_settings](runtime:LuaSettings::get_player_settings). This table becomes invalid if its associated player does.

Even though this attribute is marked as read-only, individual settings can be changed by overwriting their [ModSetting](runtime:ModSetting) table. Mods can only change their own settings. Using the in-game console, all player settings can be changed.

### name

**Type:** `string` _(read-only)_

The player's username.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### online_time

**Type:** `uint` _(read-only)_

How many ticks did this player spend playing this save (all sessions combined).

### opened_self

**Type:** `boolean` _(read-only)_

`true` if the player opened itself. I.e. if they opened the character or god-controller GUI.

### permission_group

**Type:** `LuaPermissionGroup`

The permission group this player is part of, if any.

### physical_controller_type

**Type:** `defines.controllers` _(read-only)_

The player's "physical" controller. When a player is in the remote controller, this specifies the controller they will return to. When the player is not in the remote controller, this is equivalent to [LuaPlayer::controller_type](runtime:LuaPlayer::controller_type).

### physical_position

**Type:** `MapPosition` _(read-only)_

The current position of this player's physical controller.

### physical_surface

**Type:** `LuaSurface` _(read-only)_

The surface this player's physical controller is on.

### physical_surface_index

**Type:** `uint` _(read-only)_

Unique ID associated with the surface this player's physical controller is currently on.

### physical_vehicle

**Type:** `LuaEntity` _(read-only)_

The current vehicle of this player's physical controller.

### remove_unfiltered_items

**Type:** `boolean`

If items not included in this map editor infinity inventory filters should be removed.

### render_mode

**Type:** `defines.render_mode` _(read-only)_

The render mode of the player, like map or zoom to world.

### show_on_map

**Type:** `boolean`

If `true`, circle and name of given player is rendered on the map/chart.

### spectator

**Type:** `boolean`

If `true`, zoom-to-world noise effect will be disabled and environmental sounds will be based on zoom-to-world view instead of position of player's character.

### spidertron_remote_selection

**Type:** ``LuaEntity`[]`

All SpiderVehicles currently selected by the player, if they are holding a spidertron remote.

### stashed_controller_type

**Type:** `defines.controllers` _(read-only)_

The stashed controller type, if any. This is mainly useful when a player is in the map editor.

### tag

**Type:** `string`

The tag that is shown after the player in chat, on the map and above multiplayer selection rectangles.

### ticks_to_respawn

**Type:** `uint`

The number of ticks until this player will respawn. `nil` if this player is not waiting to respawn.

Set to `nil` to immediately respawn the player.

Set to any positive value to trigger the respawn state for this player.

### undo_redo_stack

**Type:** `LuaUndoRedoStack` _(read-only)_

The undo and redo stack for this player.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

### zoom

**Type:** `double`

The current player controller's zoom level. Must be positive. The baseline zoom level is 1. Values greater than 1 will zoom in closer to the world and values between 0 and 1 will zoom out away from the world.

Writing values outside the current zoom limits is always valid, but read values will always be clamped to the range defined by [LuaPlayer::zoom_limits](runtime:LuaPlayer::zoom_limits).

### zoom_limits

**Type:** `ZoomLimits`

The current player controller's zoom limits.

Reading this field creates a copy, so modifying the returned table's fields directly will not alter the player's zoom limits. To change the zoom limits for the player's current controller, set the entire field to the desired [ZoomLimits](runtime:ZoomLimits) table.

Zoom limits may or may not reset to default any time the player controller changes. Use the [defines.events.on_player_controller_changed](runtime:defines.events.on_player_controller_changed) event to respond to and correct the new controller's zoom limits.

---

## LuaProcessionLayerInheritanceGroupPrototype

# LuaProcessionLayerInheritanceGroupPrototype

Prototype of a procession inheritance group which synchronizes offsets between procession steps.

**Parent:** `LuaPrototypeBase`

## Attributes

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaProcessionPrototype

# LuaProcessionPrototype

Prototype of a procession.

**Parent:** `LuaPrototypeBase`

## Attributes

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaProfiler

# LuaProfiler

An object used to measure script performance.

Since performance is non-deterministic, these objects don't allow reading the raw time values from Lua. They can be used anywhere a [LocalisedString](runtime:LocalisedString) is used, except for [LuaGuiElement::add](runtime:LuaGuiElement::add)'s LocalisedString arguments, [LuaSurface::create_entity](runtime:LuaSurface::create_entity)'s `text` argument, and [LuaEntity::add_market_item](runtime:LuaEntity::add_market_item).

## Methods

### add

Add the duration of another timer to this timer. Useful to reduce start/stop overhead when accumulating time onto many timers at once.

If other is running, the time to now will be added.

**Parameters:**

- `other` `LuaProfiler`: The timer to add to this timer.

### divide

Divides the current duration by a set value. Useful for calculating the average of many iterations.

Does nothing if this isn't stopped.

**Parameters:**

- `number` `double`: The number to divide by. Must be > 0.

### reset

Resets the clock, also restarting it.

### restart

Start the clock again, without resetting it.

### stop

Stops the clock.

## Attributes

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaProgrammableSpeakerControlBehavior

# LuaProgrammableSpeakerControlBehavior

Control behavior for programmable speakers.

**Parent:** `LuaControlBehavior`

## Attributes

### circuit_condition

**Type:** `CircuitConditionDefinition`



### circuit_parameters

**Type:** `ProgrammableSpeakerCircuitParameters`



### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaPrototypeBase

# LuaPrototypeBase

Base for all prototype classes.

## Attributes

### factoriopedia_description

**Type:** `LocalisedString` _(read-only)_

Provides additional description used in factoriopedia.

### group

**Type:** `LuaGroup` _(read-only)_

Group of this prototype.

### hidden

**Type:** `boolean` _(read-only)_



### hidden_in_factoriopedia

**Type:** `boolean` _(read-only)_



### localised_description

**Type:** `LocalisedString` _(read-only)_



### localised_name

**Type:** `LocalisedString` _(read-only)_



### name

**Type:** `string` _(read-only)_

Name of this prototype.

### order

**Type:** `string` _(read-only)_

The string used to alphabetically sort these prototypes. It is a simple string that has no additional semantic meaning.

### parameter

**Type:** `boolean` _(read-only)_



### subgroup

**Type:** `LuaGroup` _(read-only)_

Subgroup of this prototype.

### type

**Type:** `string` _(read-only)_

Type of this prototype.

---

## LuaPrototypes

# LuaPrototypes

Provides read-only access to prototypes. It is accessible through the global object named `prototypes`.

## Methods

### get_achievement_filtered

Returns a dictionary of all LuaAchievementPrototypes that fit the given filters. The prototypes are indexed by `name`.

**Parameters:**

- `filters` ``AchievementPrototypeFilter`[]`: 

**Returns:**

- `LuaCustomTable<`string`, `LuaAchievementPrototype`>`: 

### get_decorative_filtered

Returns a dictionary of all LuaDecorativePrototypes that fit the given filters. The prototypes are indexed by `name`.

**Parameters:**

- `filters` ``DecorativePrototypeFilter`[]`: 

**Returns:**

- `LuaCustomTable<`string`, `LuaDecorativePrototype`>`: 

### get_entity_filtered

Returns a dictionary of all LuaEntityPrototypes that fit the given filters. The prototypes are indexed by `name`.

**Parameters:**

- `filters` ``EntityPrototypeFilter`[]`: 

**Returns:**

- `LuaCustomTable<`string`, `LuaEntityPrototype`>`: 

### get_equipment_filtered

Returns a dictionary of all LuaEquipmentPrototypes that fit the given filters. The prototypes are indexed by `name`.

**Parameters:**

- `filters` ``EquipmentPrototypeFilter`[]`: 

**Returns:**

- `LuaCustomTable<`string`, `LuaEquipmentPrototype`>`: 

### get_fluid_filtered

Returns a dictionary of all LuaFluidPrototypes that fit the given filters. The prototypes are indexed by `name`.

**Parameters:**

- `filters` ``FluidPrototypeFilter`[]`: 

**Returns:**

- `LuaCustomTable<`string`, `LuaFluidPrototype`>`: 

### get_history

Gets the prototype history for the given type and name.

**Parameters:**

- `name` `string`: 
- `type` `string`: 

**Returns:**

- `PrototypeHistory`: 

### get_item_filtered

Returns a dictionary of all LuaItemPrototypes that fit the given filters. The prototypes are indexed by `name`.

**Parameters:**

- `filters` ``ItemPrototypeFilter`[]`: 

**Returns:**

- `LuaCustomTable<`string`, `LuaItemPrototype`>`: 

### get_mod_setting_filtered

Returns a dictionary of all LuaModSettingPrototypes that fit the given filters. The prototypes are indexed by `name`.

**Parameters:**

- `filters` ``ModSettingPrototypeFilter`[]`: 

**Returns:**

- `LuaCustomTable<`string`, `LuaModSettingPrototype`>`: 

### get_recipe_filtered

Returns a dictionary of all LuaRecipePrototypes that fit the given filters. The prototypes are indexed by `name`.

**Parameters:**

- `filters` ``RecipePrototypeFilter`[]`: 

**Returns:**

- `LuaCustomTable<`string`, `LuaRecipePrototype`>`: 

### get_technology_filtered

Returns a dictionary of all LuaTechnologyPrototypes that fit the given filters. The prototypes are indexed by `name`.

**Parameters:**

- `filters` ``TechnologyPrototypeFilter`[]`: 

**Returns:**

- `LuaCustomTable<`string`, `LuaTechnologyPrototype`>`: 

### get_tile_filtered

Returns a dictionary of all LuaTilePrototypes that fit the given filters. The prototypes are indexed by `name`.

**Parameters:**

- `filters` ``TilePrototypeFilter`[]`: 

**Returns:**

- `LuaCustomTable<`string`, `LuaTilePrototype`>`: 

## Attributes

### achievement

**Type:** `LuaCustomTable<`string`, `LuaAchievementPrototype`>` _(read-only)_

A dictionary containing every LuaAchievementPrototype indexed by `name`.

### active_trigger

**Type:** `LuaCustomTable<`string`, `LuaActiveTriggerPrototype`>` _(read-only)_

A dictionary containing every LuaActiveTriggerPrototype indexed by `name`.

### airborne_pollutant

**Type:** `LuaCustomTable<`string`, `LuaAirbornePollutantPrototype`>` _(read-only)_

A dictionary containing every LuaAirbornePollutantPrototype indexed by `name`.

### ammo_category

**Type:** `LuaCustomTable<`string`, `LuaAmmoCategoryPrototype`>` _(read-only)_

A dictionary containing every LuaAmmoCategoryPrototype indexed by `name`.

### asteroid_chunk

**Type:** `LuaCustomTable<`string`, `LuaAsteroidChunkPrototype`>` _(read-only)_

A dictionary containing every LuaAsteroidChunkPrototype indexed by `name`.

### autoplace_control

**Type:** `LuaCustomTable<`string`, `LuaAutoplaceControlPrototype`>` _(read-only)_

A dictionary containing every LuaAutoplaceControlPrototype indexed by `name`.

### burner_usage

**Type:** `LuaCustomTable<`string`, `LuaBurnerUsagePrototype`>` _(read-only)_

A dictionary containing every LuaBurnerUsagePrototype indexed by `name`.

### collision_layer

**Type:** `LuaCustomTable<`string`, `LuaCollisionLayerPrototype`>` _(read-only)_

A dictionary containing every LuaCollisionLayerPrototype indexed by `name`.

### custom_event

**Type:** `LuaCustomTable<`string`, `LuaCustomEventPrototype`>` _(read-only)_

A dictionary containing every defined custom event, indexed by `name`.

### custom_input

**Type:** `LuaCustomTable<`string`, `LuaCustomInputPrototype`>` _(read-only)_

A dictionary containing every LuaCustomInputPrototype indexed by `name`.

### damage

**Type:** `LuaCustomTable<`string`, `LuaDamagePrototype`>` _(read-only)_

A dictionary containing every LuaDamagePrototype indexed by `name`.

### decorative

**Type:** `LuaCustomTable<`string`, `LuaDecorativePrototype`>` _(read-only)_

A dictionary containing every LuaDecorativePrototype indexed by `name`.

### entity

**Type:** `LuaCustomTable<`string`, `LuaEntityPrototype`>` _(read-only)_

A dictionary containing every LuaEntityPrototype indexed by `name`.

### equipment

**Type:** `LuaCustomTable<`string`, `LuaEquipmentPrototype`>` _(read-only)_

A dictionary containing every LuaEquipmentPrototype indexed by `name`.

### equipment_category

**Type:** `LuaCustomTable<`string`, `LuaEquipmentCategoryPrototype`>` _(read-only)_

A dictionary containing every LuaEquipmentCategoryPrototype indexed by `name`.

### equipment_grid

**Type:** `LuaCustomTable<`string`, `LuaEquipmentGridPrototype`>` _(read-only)_

A dictionary containing every LuaEquipmentGridPrototype indexed by `name`.

### fluid

**Type:** `LuaCustomTable<`string`, `LuaFluidPrototype`>` _(read-only)_

A dictionary containing every LuaFluidPrototype indexed by `name`.

### font

**Type:** `LuaCustomTable<`string`, `LuaFontPrototype`>` _(read-only)_

A dictionary containing every LuaFontPrototype indexed by `name`.

### fuel_category

**Type:** `LuaCustomTable<`string`, `LuaFuelCategoryPrototype`>` _(read-only)_

A dictionary containing every LuaFuelCategoryPrototype indexed by `name`.

### item

**Type:** `LuaCustomTable<`string`, `LuaItemPrototype`>` _(read-only)_

A dictionary containing every LuaItemPrototype indexed by `name`.

### item_group

**Type:** `LuaCustomTable<`string`, `LuaGroup`>` _(read-only)_

A dictionary containing every ItemGroup indexed by `name`.

### item_subgroup

**Type:** `LuaCustomTable<`string`, `LuaGroup`>` _(read-only)_

A dictionary containing every ItemSubgroup indexed by `name`.

### map_gen_preset

**Type:** `LuaCustomTable<`string`, `MapGenPreset`>` _(read-only)_

A dictionary containing every MapGenPreset indexed by `name`.

A MapGenPreset is an exact copy of the prototype table provided from the data stage.

### max_beacon_supply_area_distance

**Type:** `uint` _(read-only)_



### max_electric_pole_connection_distance

**Type:** `double` _(read-only)_



### max_electric_pole_supply_area_distance

**Type:** `float` _(read-only)_



### max_force_distraction_chunk_distance

**Type:** `uint` _(read-only)_



### max_force_distraction_distance

**Type:** `double` _(read-only)_



### max_gate_activation_distance

**Type:** `double` _(read-only)_



### max_inserter_reach_distance

**Type:** `double` _(read-only)_



### max_pipe_to_ground_distance

**Type:** `uint8` _(read-only)_



### max_underground_belt_distance

**Type:** `uint8` _(read-only)_



### mod_setting

**Type:** `LuaCustomTable<`string`, `LuaModSettingPrototype`>` _(read-only)_

A dictionary containing every LuaModSettingPrototype indexed by `name`.

### module_category

**Type:** `LuaCustomTable<`string`, `LuaModuleCategoryPrototype`>` _(read-only)_

A dictionary containing every LuaModuleCategoryPrototype indexed by `name`.

### named_noise_expression

**Type:** `LuaCustomTable<`string`, `LuaNamedNoiseExpression`>` _(read-only)_

A dictionary containing every LuaNamedNoiseExpression indexed by `name`.

### named_noise_function

**Type:** `LuaCustomTable<`string`, `LuaNamedNoiseFunction`>` _(read-only)_

A dictionary containing every LuaNamedNoiseFunction indexed by `name`.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### particle

**Type:** `LuaCustomTable<`string`, `LuaParticlePrototype`>` _(read-only)_

A dictionary containing every LuaParticlePrototype indexed by `name`.

### procession

**Type:** `LuaCustomTable<`string`, `LuaProcessionPrototype`>` _(read-only)_

A dictionary containing every LuaProcessionPrototype indexed by `name`.

### procession_layer_inheritance_group

**Type:** `LuaCustomTable<`string`, `LuaProcessionLayerInheritanceGroupPrototype`>` _(read-only)_

A dictionary containing every LuaProcessionLayerInheritanceGroupPrototype indexed by `name`.

### quality

**Type:** `LuaCustomTable<`string`, `LuaQualityPrototype`>` _(read-only)_



### recipe

**Type:** `LuaCustomTable<`string`, `LuaRecipePrototype`>` _(read-only)_

A dictionary containing every LuaRecipePrototype indexed by `name`.

### recipe_category

**Type:** `LuaCustomTable<`string`, `LuaRecipeCategoryPrototype`>` _(read-only)_

A dictionary containing every LuaRecipeCategoryPrototype indexed by `name`.

### resource_category

**Type:** `LuaCustomTable<`string`, `LuaResourceCategoryPrototype`>` _(read-only)_

A dictionary containing every LuaResourceCategoryPrototype indexed by `name`.

### shortcut

**Type:** `LuaCustomTable<`string`, `LuaShortcutPrototype`>` _(read-only)_

A dictionary containing every LuaShortcutPrototype indexed by `name`.

### space_connection

**Type:** `LuaCustomTable<`string`, `LuaSpaceConnectionPrototype`>` _(read-only)_



### space_location

**Type:** `LuaCustomTable<`string`, `LuaSpaceLocationPrototype`>` _(read-only)_



### style

**Type:** `LuaCustomTable<`string`, `string`>` _(read-only)_

A map of styles that [LuaGuiElement](runtime:LuaGuiElement) can use.

Maps from the style's name to its type, as seen on [StyleSpecification](prototype:StyleSpecification).

### surface

**Type:** `LuaCustomTable<`string`, `LuaSurfacePrototype`>` _(read-only)_

A dictionary containing every LuaSurfacePrototype indexed by `name`.

### surface_property

**Type:** `LuaCustomTable<`string`, `LuaSurfacePropertyPrototype`>` _(read-only)_



### technology

**Type:** `LuaCustomTable<`string`, `LuaTechnologyPrototype`>` _(read-only)_

A dictionary containing every [LuaTechnologyPrototype](runtime:LuaTechnologyPrototype) indexed by `name`.

### tile

**Type:** `LuaCustomTable<`string`, `LuaTilePrototype`>` _(read-only)_

A dictionary containing every LuaTilePrototype indexed by `name`.

### trivial_smoke

**Type:** `LuaCustomTable<`string`, `LuaTrivialSmokePrototype`>` _(read-only)_

A dictionary containing every LuaTrivialSmokePrototype indexed by `name`.

### virtual_signal

**Type:** `LuaCustomTable<`string`, `LuaVirtualSignalPrototype`>` _(read-only)_

A dictionary containing every LuaVirtualSignalPrototype indexed by `name`.

---

## LuaProxyContainerControlBehavior

# LuaProxyContainerControlBehavior

Control behavior for proxy container.

**Parent:** `LuaControlBehavior`

## Attributes

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### read_contents

**Type:** `boolean`

`true` if this proxy container is sending inventory contents to a circuit network

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaPumpControlBehavior

# LuaPumpControlBehavior

Control behavior for pumps.

**Parent:** `LuaGenericOnOffControlBehavior`

## Attributes

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### set_filter

**Type:** `boolean`

`true` if the pump should set its fluid filter from the circuit network signals.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaQualityPrototype

# LuaQualityPrototype

Prototype of a quality.

**Parent:** `LuaPrototypeBase`

## Attributes

### beacon_power_usage_multiplier

**Type:** `float` _(read-only)_



### color

**Type:** `Color` _(read-only)_

The color of the prototype

### draw_sprite_by_default

**Type:** `boolean` _(read-only)_



### level

**Type:** `uint` _(read-only)_

Level basically specifies the stat-increasing value of this quality level

### mining_drill_resource_drain_multiplier

**Type:** `float` _(read-only)_



### next

**Type:** `LuaQualityPrototype` _(read-only)_

The next higher level of the quality

### next_probability

**Type:** `double` _(read-only)_

The probability multiplier of getting the next level of quality

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaRCON

# LuaRCON

An interface to send messages to the calling RCON interface through the global object named `rcon`.

## Methods

### print

Print text to the calling RCON interface if any.

**Parameters:**

- `message` `LocalisedString`: 

## Attributes

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

---

## LuaRadarControlBehavior

# LuaRadarControlBehavior

Control behavior for radars

**Parent:** `LuaControlBehavior`

## Attributes

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaRailEnd

# LuaRailEnd

Utility object that binds to a rail entity and rail_direction to allow easier traversal over rails

## Methods

### flip_direction

Moves to opposite end on the rail this object points to

### get_rail_extensions

Returns all possible rail extensions from this position as defined by the planner item.

**Parameters:**

- `planner_item` `ItemID`: Rail planner that defines possible rail extensions

**Returns:**

- ``RailExtensionData`[]`: 

### make_copy

Creates a copy of this LuaRailEnd object.

**Returns:**

- `LuaRailEnd`: 

### move_forward

Moves forward by 1 rail to the specified connection direction

**Parameters:**

- `connection_direction` `defines.rail_connection_direction`: 

**Returns:**

- `boolean`: If the move was successful. False if there is no rail connected in given connection_direction

### move_natural

Moves forward by 1 rail in the natural direction. Natural direction is a move in the direction taken by the train over rail connection related to this rail end. If there are no trains, the natural direction is straight if straight connected rail exists, otherwise it is right if right connected rail exists, otherwise it is left if left connected rail exists. Natural direction is not defined if there are no rails connected to this end and this method will fail.

**Returns:**

- `boolean`: If the move was successful. False only when there are no rails connected on this end

### move_to_segment_end

Moves forward until a rail segment boundary is reached. If this rail end is at the segment boundary, it will not move at all. When a rail segment is cyclical, it will reach the rail segment boundary at some arbitrary position unless the segment boundary is well defined by presence of rail signals, train stop or other rails connecting to the rails loop.

## Attributes

### alternative_in_signal_location

**Type:** `RailLocation` _(read-only)_

Location of the alternative incoming signal, which goes to the right relative to the rail end movement. Not all places have alternative incoming signal spot, so when it is not available, a nil will be given instead

### alternative_out_signal_location

**Type:** `RailLocation` _(read-only)_

Location of the alternative outgoing signal, which goes to the right relative to the rail end movement. Not all places have alternative outgoing signal spot, so when it is not available, a nil will be given instead

### direction

**Type:** `defines.rail_direction` _(read-only)_

Which end of the rail this RailEnd is binding to.

### in_signal_location

**Type:** `RailLocation` _(read-only)_

Location of an incoming signal, which goes to the left relative to the rail end movement.

### location

**Type:** `RailLocation` _(read-only)_

Location of the rail end

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### out_signal_location

**Type:** `RailLocation` _(read-only)_

Location of an outgoing signal, which goes to the right relative to the rail end movement.

### rail

**Type:** `LuaEntity` _(read-only)_

Rail to which this RailEnd is binding to.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaRailPath

# LuaRailPath

A rail path.

## Attributes

### current

**Type:** `uint` _(read-only)_

The current rail index.

### is_front

**Type:** `boolean` _(read-only)_

If the path goes from the front of the train

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### rails

**Type:** `LuaCustomTable<`uint`, `LuaEntity`>` _(read-only)_

Array of the rails that this path travels over.

### size

**Type:** `uint` _(read-only)_

The total number of rails in this path.

### total_distance

**Type:** `double` _(read-only)_

The total path distance.

### travelled_distance

**Type:** `double` _(read-only)_

The total distance traveled.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaRailSignalBaseControlBehavior

# LuaRailSignalBaseControlBehavior

Control behavior for rail signals and rail chain signals.

**Parent:** `LuaControlBehavior`

## Attributes

### blue_signal

**Type:** `SignalID`



### circuit_condition

**Type:** `CircuitConditionDefinition`

The circuit condition when controlling the signal through the circuit network.

### close_signal

**Type:** `boolean`

If this will close the rail signal based off the circuit condition.

### green_signal

**Type:** `SignalID`



### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### orange_signal

**Type:** `SignalID`



### read_signal

**Type:** `boolean`

If this will read the rail signal state.

### red_signal

**Type:** `SignalID`



### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaRandomGenerator

# LuaRandomGenerator

A deterministic random generator independent from the core games random generator that can be seeded and re-seeded at will. This random generator can be saved and loaded and will maintain its state.

Note this is entirely different from calling [math.random](libraries.html)() and you should be sure you actually want to use this over calling `math.random()`. If you aren't sure if you need to use this over calling `math.random()` then you probably don't need to use this.

## Methods

### re_seed

Re-seeds the random generator with the given value.

Seeds that are close together will produce similar results. Seeds from 0 to 341 will produce the same results.

**Parameters:**

- `seed` `uint`: 

## Attributes

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaReactorControlBehavior

# LuaReactorControlBehavior

Control behavior for Reactor

**Parent:** `LuaControlBehavior`

## Attributes

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### read_fuel

**Type:** `boolean`

If this will read fuel inventory and currently burning fuel

### read_temperature

**Type:** `boolean`

If this will read temperature of the reactor

### temperature_signal

**Type:** `SignalID`



### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaRecipe

# LuaRecipe

A crafting recipe. Recipes belong to forces (see [LuaForce](runtime:LuaForce)) because some recipes are unlocked by research, and researches are per-force.

## Methods

### has_category

Checks if recipe has given category

**Parameters:**

- `category` `RecipeCategoryID`: 

**Returns:**

- `boolean`: `true` if recipe has this category.

### reload

Reload the recipe from the prototype.

## Attributes

### additional_categories

**Type:** ``string`[]` _(read-only)_

Additional categories of this recipe.

### category

**Type:** `string` _(read-only)_

Category of the recipe.

### enabled

**Type:** `boolean`

Can the recipe be used?

### energy

**Type:** `double` _(read-only)_

Energy required to execute this recipe. This directly affects the crafting time: Recipe's energy is exactly its crafting time in seconds, when crafted in an assembling machine with crafting speed exactly equal to one.

### force

**Type:** `LuaForce` _(read-only)_

The force that owns this recipe.

### group

**Type:** `LuaGroup` _(read-only)_

Group of this recipe.

### hidden

**Type:** `boolean` _(read-only)_

Is the recipe hidden? Hidden recipes don't show up in the crafting menu.

### hidden_from_flow_stats

**Type:** `boolean`

Is the recipe hidden from flow statistics?

### ingredients

**Type:** ``Ingredient`[]` _(read-only)_

The ingredients to this recipe.

### localised_description

**Type:** `LocalisedString` _(read-only)_



### localised_name

**Type:** `LocalisedString` _(read-only)_

Localised name of the recipe.

### name

**Type:** `string` _(read-only)_

Name of the recipe. This can be different than the name of the result items as there could be more recipes to make the same item.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### order

**Type:** `string` _(read-only)_

The string used to alphabetically sort these prototypes. It is a simple string that has no additional semantic meaning.

### productivity_bonus

**Type:** `float`

The productivity bonus for this recipe.

### products

**Type:** ``Product`[]` _(read-only)_

The results/products of this recipe.

### prototype

**Type:** `LuaRecipePrototype` _(read-only)_

The prototype for this recipe.

### subgroup

**Type:** `LuaGroup` _(read-only)_

Subgroup of this recipe.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaRecipeCategoryPrototype

# LuaRecipeCategoryPrototype

Prototype of a recipe category.

**Parent:** `LuaPrototypeBase`

## Attributes

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaRecipePrototype

# LuaRecipePrototype

A crafting recipe prototype.

**Parent:** `LuaPrototypeBase`

## Methods

### has_category

Checks if recipe has given category

**Parameters:**

- `category` `RecipeCategoryID`: 

**Returns:**

- `boolean`: `true` if recipe has this category.

## Attributes

### additional_categories

**Type:** ``string`[]` _(read-only)_

Additional categories of the recipe.

### allow_as_intermediate

**Type:** `boolean` _(read-only)_

If this recipe is enabled for the purpose of intermediate hand-crafting.

### allow_decomposition

**Type:** `boolean` _(read-only)_

Is this recipe allowed to be broken down for the recipe tooltip "Total raw" calculations?

### allow_inserter_overload

**Type:** `boolean` _(read-only)_

If the recipe is allowed to have the extra inserter overload bonus applied (4 * stack inserter stack size).

### allow_intermediates

**Type:** `boolean` _(read-only)_

If this recipe is allowed to use intermediate recipes when hand-crafting.

### allowed_effects

**Type:** `dictionary<`string`, `boolean`>` _(read-only)_

The allowed module effects for this recipe, if any.

### allowed_module_categories

**Type:** `dictionary<`string`, `True`>` _(read-only)_

The allowed module categories for this recipe, if any.

### alternative_unlock_methods

**Type:** ``LuaTechnologyPrototype`[]` _(read-only)_

Additional technologies listed under "Unlocked by" on a recipe's Factoriopedia page.

### always_show_made_in

**Type:** `boolean` _(read-only)_

Should this recipe always show "Made in" in the tooltip?

### always_show_products

**Type:** `boolean` _(read-only)_

If the products are always shown in the recipe tooltip.

### category

**Type:** `string` _(read-only)_

Category of the recipe.

### crafting_machine_tints

**Type:** ``Color`[]` _(read-only)_



### effect_limitation_messages

**Type:** ``LocalisedString`[]` _(read-only)_



### emissions_multiplier

**Type:** `double` _(read-only)_

The emissions multiplier for this recipe.

### enabled

**Type:** `boolean` _(read-only)_

If this recipe prototype is enabled by default (enabled at the beginning of a game).

### energy

**Type:** `double` _(read-only)_

Energy required to execute this recipe. This directly affects the crafting time: Recipe's energy is exactly its crafting time in seconds, when crafted in an assembling machine with crafting speed exactly equal to one.

### factoriopedia_alternative

**Type:** `LuaRecipePrototype` _(read-only)_

An alternative prototype that will be used to display info about this prototype in Factoriopedia.

### hidden_from_flow_stats

**Type:** `boolean` _(read-only)_

Is the recipe hidden from flow statistics (item/fluid production statistics)?

### hidden_from_player_crafting

**Type:** `boolean` _(read-only)_

Is the recipe hidden from player crafting? The recipe will still show up for selection in machines.

### hide_from_flow_stats

**Type:** `boolean` _(read-only)_



### hide_from_player_crafting

**Type:** `boolean` _(read-only)_



### hide_from_signal_gui

**Type:** `boolean` _(read-only)_

Is this recipe is marked to be hidden from the signal GUI.

### ingredients

**Type:** ``Ingredient`[]` _(read-only)_

The ingredients to this recipe.

### is_parameter

**Type:** `boolean` _(read-only)_



### main_product

**Type:** `Product` _(read-only)_

The main product of this recipe, if any.

### maximum_productivity

**Type:** `double` _(read-only)_

The maximal productivity bonus that can be achieved with this recipe.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### overload_multiplier

**Type:** `uint` _(read-only)_

Used to determine how many extra items are put into an assembling machine before it's considered "full enough".

### preserve_products_in_machine_output

**Type:** `boolean` _(read-only)_



### products

**Type:** ``Product`[]` _(read-only)_

The results/products of this recipe.

### request_paste_multiplier

**Type:** `uint` _(read-only)_

The multiplier used when this recipe is copied from an assembling machine to a requester chest. For each item in the recipe the item count * this value is set in the requester chest.

### reset_freshness_on_craft

**Type:** `boolean` _(read-only)_



### result_is_always_fresh

**Type:** `boolean` _(read-only)_



### show_amount_in_title

**Type:** `boolean` _(read-only)_

If the amount is shown in the recipe tooltip title when the recipe produces more than 1 product.

### surface_conditions

**Type:** ``SurfaceCondition`[]` _(read-only)_

The surface conditions required to craft this recipe.

### trash

**Type:** ``LuaItemPrototype`[]` _(read-only)_

The 'trash' items that this recipe might produce as a result of spoiling.

### unlock_results

**Type:** `boolean` _(read-only)_

Is this recipe unlocks the result item(s) so they're shown in filter-select GUIs.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaRecord

# LuaRecord

A reference to a record in the blueprint library. Records in the "my blueprints" shelf are read-only, but records in the "game blueprints" shelf are read/write.

## Methods

### build_blueprint

Build this blueprint at the given location.

Built entities can be come invalid between the building of the blueprint and the function returning if by_player or raise_built is used and one of those events invalidates the entity.

**Parameters:**

- `build_mode` `defines.build_mode` _(optional)_: If `normal`, blueprint will not be built if any one thing can't be built. If `forced`, anything that can be built is built and obstructing nature entities will be deconstructed. If `superforced`, all obstructions will be deconstructed and the blueprint will be built.
- `by_player` `PlayerIdentification` _(optional)_: The player to use if any. If provided [defines.events.on_built_entity](runtime:defines.events.on_built_entity) will also be fired on successful entity creation.
- `direction` `defines.direction` _(optional)_: The direction to use when building
- `force` `ForceID`: Force to use for the building
- `position` `MapPosition`: The position to build at
- `raise_built` `boolean` _(optional)_: If true; [defines.events.script_raised_built](runtime:defines.events.script_raised_built) will be fired on successful entity creation. Note: this is ignored if by_player is provided.
- `skip_fog_of_war` `boolean` _(optional)_: If chunks covered by fog-of-war are skipped.
- `surface` `SurfaceIdentification`: Surface to build on

**Returns:**

- ``LuaEntity`[]`: Array of created ghosts

### cancel_deconstruct_area

Cancel deconstruct the given area with this deconstruction planner.

**Parameters:**

- `area` `BoundingBox`: The area to deconstruct
- `by_player` `PlayerIdentification` _(optional)_: The player to use if any.
- `force` `ForceID`: Force to use for canceling deconstruction
- `skip_fog_of_war` `boolean` _(optional)_: If chunks covered by fog-of-war are skipped. Defaults to `false`.
- `super_forced` `boolean` _(optional)_: If the cancel deconstruction is super-forced. Defaults to `false`.
- `surface` `SurfaceIdentification`: Surface to cancel deconstruct on

### clear_blueprint

Clears this blueprint.

### clear_deconstruction_data

Clears all settings/filters on this deconstruction planner, resetting it to default values.

### clear_upgrade_data

Clears all settings/filters on this upgrade planner, resetting it to default values.

### create_blueprint

Sets up this blueprint using the found blueprintable entities/tiles on the surface.

**Parameters:**

- `always_include_tiles` `boolean` _(optional)_: When true, blueprintable tiles are always included in the blueprint. When false they're only included if no entities exist in the setup area. Defaults to false.
- `area` `BoundingBox`: The bounding box
- `force` `ForceID`: Force to use for the creation
- `include_entities` `boolean` _(optional)_: When true, entities are included in the blueprint. Defaults to true.
- `include_fuel` `boolean` _(optional)_: When true, train fuel is included in the blueprint, Defaults to true.
- `include_modules` `boolean` _(optional)_: When true, modules are included in the blueprint. Defaults to true.
- `include_station_names` `boolean` _(optional)_: When true, station names are included in the blueprint. Defaults to false.
- `include_trains` `boolean` _(optional)_: When true, trains are included in the blueprint. Defaults to false.
- `surface` `SurfaceIdentification`: Surface to create from

**Returns:**

- `dictionary<`uint`, `LuaEntity`>`: The blueprint entity index to source entity mapping.

### deconstruct_area

Deconstruct the given area with this deconstruction planner.

**Parameters:**

- `area` `BoundingBox`: The area to deconstruct
- `by_player` `PlayerIdentification` _(optional)_: The player to use if any.
- `force` `ForceID`: Force to use for the deconstruction
- `skip_fog_of_war` `boolean` _(optional)_: If chunks covered by fog-of-war are skipped. Defaults to `false`.
- `super_forced` `boolean` _(optional)_: If the deconstruction is super-forced. Defaults to `false`.
- `surface` `SurfaceIdentification`: Surface to deconstruct on

### get_active_index

The active index of this BlueprintBookRecord. For records in "my blueprints", the result will be the same regardless of the player, but records in "game blueprints" may have different active indices per player.

**Parameters:**

- `player` `PlayerIdentification`: 

**Returns:**

- `uint`: 

### get_blueprint_entities

The entities in this blueprint.

**Returns:**

- ``BlueprintEntity`[]`: 

### get_blueprint_entity_count

Gets the number of entities in this blueprint blueprint.

**Returns:**

- `uint`: 

### get_blueprint_entity_tag

Gets the given tag on the given blueprint entity index in this blueprint blueprint.

**Parameters:**

- `index` `uint`: The entity index.
- `tag` `string`: The tag to get.

**Returns:**

- `AnyBasic`: 

### get_blueprint_entity_tags

Gets the tags for the given blueprint entity index in this blueprint.

**Parameters:**

- `index` `uint`: 

**Returns:**

- `Tags`: 

### get_blueprint_tiles

A list of the tiles in this blueprint.

**Returns:**

- ``Tile`[]`: 

### get_entity_filter

Gets the entity filter at the given index for this deconstruction planner.

**Parameters:**

- `index` `uint`: 

**Returns:**

- `ItemFilter`: 

### get_mapper

Gets the filter at the given index for this upgrade item. Note that sources (`"from"` type) that are undefined will read as `{type = "item"}`, while destinations (`"to"` type) that are undefined will read as `nil`.

In contrast to [LuaRecord::set_mapper](runtime:LuaRecord::set_mapper), indices past the upgrade item's current size are considered to be out of bounds.

**Parameters:**

- `index` `uint`: The index of the mapper to read.
- `type` : 

**Returns:**

- : 

### get_tile_filter

Gets the tile filter at the given index for this deconstruction planner.

**Parameters:**

- `index` `uint`: 

**Returns:**

- `string`: 

### is_blueprint_setup

Is this blueprint setup? I.e. is it a non-empty blueprint?

**Returns:**

- `boolean`: 

### set_blueprint_entities

Set new entities to be a part of this blueprint.

**Parameters:**

- `entities` ``BlueprintEntity`[]`: The new blueprint entities.

### set_blueprint_entity_tag

Sets the given tag on the given blueprint entity index in this blueprint blueprint.

**Parameters:**

- `index` `uint`: The entity index.
- `tag` `string`: The tag to set.
- `value` `AnyBasic`: The tag value to set or `nil` to clear the tag.

### set_blueprint_entity_tags

Sets the tags on the given blueprint entity index in this blueprint.

**Parameters:**

- `index` `uint`: The entity index
- `tags` `Tags`: 

### set_blueprint_tiles

Set specific tiles in this blueprint.

**Parameters:**

- `tiles` ``Tile`[]`: Tiles to be a part of the blueprint.

### set_entity_filter

Sets the entity filter at the given index for this deconstruction planner.

**Parameters:**

- `filter` : Writing `nil` removes the filter.
- `index` `uint`: 

**Returns:**

- `boolean`: Whether the new filter was successfully set (ie. was valid).

### set_mapper

Sets the module filter at the given index for this upgrade item.

In contrast to [LuaRecord::get_mapper](runtime:LuaRecord::get_mapper), indices past the upgrade item's current size are valid and expand the list of mappings accordingly, if within reasonable bounds.

**Parameters:**

- `index` `uint`: The index of the mapper to set.
- `mapper` : The mapper to set. Set `nil` to clear the mapper.
- `type` : 

### set_tile_filter

Sets the tile filter at the given index for this deconstruction planner.

**Parameters:**

- `filter` : Setting to nil erases the filter.
- `index` `uint`: 

**Returns:**

- `boolean`: Whether the new filter was successfully set (ie. was valid).

## Attributes

### blueprint_absolute_snapping

**Type:** `boolean`

If absolute snapping is enabled on this blueprint.

### blueprint_position_relative_to_grid

**Type:** `TilePosition`

The offset from the absolute grid. `nil` if absolute snapping is not enabled.

### blueprint_snap_to_grid

**Type:** `TilePosition`

The snapping grid size in this blueprint. `nil` if snapping is not enabled.

### contents

**Type:** `dictionary<`ItemStackIndex`, `LuaRecord`>` _(read-only)_

The contents of this BlueprintBookRecord. This is sparse array - it may have gaps, so using `#` will not be reliable. Use [LuaRecord::contents_size](runtime:LuaRecord::contents_size) or `pairs()` to iterate this table.

### contents_size

**Type:** `ItemStackIndex` _(read-only)_

The highest populated index in the contents of this BlueprintBookRecord.

### cost_to_build

**Type:** ``ItemWithQualityCounts`[]` _(read-only)_

List of raw materials required to build this blueprint.

### default_icons

**Type:** ``BlueprintSignalIcon`[]` _(read-only)_

The default icons for a blueprint blueprint.

### entity_filter_count

**Type:** `uint` _(read-only)_

The number of entity filters this deconstruction planner supports.

### entity_filter_mode

**Type:** `defines.deconstruction_item.entity_filter_mode`

The blacklist/whitelist entity filter mode for this deconstruction planner.

### entity_filters

**Type:** ``ItemFilter`[]`

The entity filters for this deconstruction planner. The attribute is a sparse array with the keys representing the index of the filter. All prototypes in this array must not have the `"not-deconstructable"` flag set and are either a `cliff` or marked as `minable`.

### is_blueprint_preview

**Type:** `boolean` _(read-only)_

Is this blueprint record a preview? A preview record must be synced by the player before entity and tile data can be read.

### mapper_count

**Type:** `uint` _(read-only)_

The current count of mappers in the upgrade item.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### preview_icons

**Type:** ``BlueprintSignalIcon`[]`

The preview icons for this record.

### tile_filter_count

**Type:** `uint` _(read-only)_

The number of tile filters this deconstruction planner supports.

### tile_filter_mode

**Type:** `defines.deconstruction_item.tile_filter_mode`

The blacklist/whitelist tile filter mode for this deconstruction planner.

### tile_filters

**Type:** ``TileID`[]`

The tile filters for this deconstruction planner. The attribute is a sparse array with the keys representing the index of the filter. Reading filters always returns an array of strings which are the tile prototype names.

### tile_selection_mode

**Type:** `defines.deconstruction_item.tile_selection_mode`

The tile selection mode for this deconstruction planner.

### trees_and_rocks_only

**Type:** `boolean`

If this deconstruction planner, is set to allow trees and rocks only.

### type

**Type:**  _(read-only)_

The type of this blueprint record.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

### valid_for_write

**Type:** `boolean` _(read-only)_

Is this record valid for writing? A record is invalid for write if it is a BlueprintRecord preview or if it is in the "My blueprints" shelf.

---

## LuaRemote

# LuaRemote

Registry of interfaces between scripts. An interface is simply a dictionary mapping names to functions. A script or mod can then register an interface with [LuaRemote](runtime:LuaRemote), after that any script can call the registered functions, provided it knows the interface name and the desired function name. An instance of LuaRemote is available through the global object named `remote`.

## Methods

### add_interface

Add a remote interface.

**Parameters:**

- `functions` `dictionary<`string`, `function`>`: List of functions that are members of the new interface.
- `name` `string`: Name of the interface. If the name matches any existing interface, an error is thrown.

### call

Call a function of an interface.

Providing an unknown interface or function name will result in a script error.

**Parameters:**

- `function` `string`: Function name that belongs to the `interface`.
- `interface` `string`: Interface to look up `function` in.

**Returns:**

- `Any`: 

### remove_interface

Removes an interface with the given name.

**Parameters:**

- `name` `string`: Name of the interface.

**Returns:**

- `boolean`: Whether the interface was removed. `false` if the interface didn't exist.

## Attributes

### interfaces

**Type:** `dictionary<`string`, `dictionary<`string`, `True`>`>` _(read-only)_

List of all registered interfaces. For each interface name, `remote.interfaces[name]` is a dictionary mapping the interface's registered functions to `true`.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

---

## LuaRenderObject

# LuaRenderObject

Reference to a single LuaRendering object.

## Methods

### bring_to_front

Reorder this object so that it is drawn in front of the already existing objects.

### destroy

Destroys this object. Does not error when the object is invalid.

### move_to_back

Reorder this object so that it is drawn in the back of the already existing objects.

### set_corners

Set the corners of the rectangle with this id.

**Parameters:**

- `left_top` `ScriptRenderTarget`: 
- `right_bottom` `ScriptRenderTarget`: 

### set_dashes

Set the length of the dashes and the length of the gaps in this line.

**Parameters:**

- `dash_length` `double`: 
- `gap_length` `double`: 

## Attributes

### alignment

**Type:** `TextAlign`

Alignment of this text.

### angle

**Type:** `float`

Angle of this arc. Angle in radian.

### animation

**Type:** `string`

Animation prototype name of this animation.

### animation_offset

**Type:** `double`

Animation offset of this animation. Animation offset in frames.

### animation_speed

**Type:** `double`

Animation speed of this animation. Animation speed in frames per tick.

### color

**Type:** `Color`

Color or tint of the object.

### dash_length

**Type:** `double`

Dash length of this line.

### draw_on_ground

**Type:** `boolean`

If this object is being drawn on the ground, under most entities and sprites.

### filled

**Type:** `boolean`

If this circle or rectangle is filled.

### font

**Type:** `string`

Font of this text.

### forces

**Type:** 

Forces for which this object is rendered or `nil` if visible to all forces. Writing nil or empty array will make object to be visible to all forces.

### from

**Type:** `ScriptRenderTarget`

Where this line is drawn from.

### gap_length

**Type:** `double`

Length of the gaps in this line.

### id

**Type:** `uint64` _(read-only)_

Unique identifier of this render object.

### intensity

**Type:** `float`

Intensity of this light.

### left_top

**Type:** `ScriptRenderTarget`

Where top left corner of this rectangle is drawn.

### max_radius

**Type:** `double`

Radius of the outer edge of this arc.

### min_radius

**Type:** `double`

Radius of the inner edge of this arc.

### minimum_darkness

**Type:** `float`

Minimum darkness at which this light is rendered.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### only_in_alt_mode

**Type:** `boolean`

If this object is only rendered in alt-mode.

### orientation

**Type:** `RealOrientation`

Orientation of this object.

Polygon vertices that are set to an entity will ignore this.

### orientation_target

**Type:** `ScriptRenderTarget`

Target to which this object rotates so that it faces the target. Note that `orientation` is still applied to the object. Writing `nil` will clear the orientation_target. `nil` if no target.

Polygon vertices that are set to an entity will ignore this.

### oriented

**Type:** `boolean`

If this light is rendered with the same orientation as the target entity. Note that `orientation` is still applied to the sprite.

### oriented_offset

**Type:** `Vector`

Offsets the center of the sprite or animation if `orientation_target` is given. This offset will rotate together with the sprite or animation.

### players

**Type:** 

Players for which this object is visible or `nil` if visible to all players.

### radius

**Type:** `double`

Radius of this circle.

### render_layer

**Type:** `RenderLayer`

Render layer of this sprite or animation.

### right_bottom

**Type:** `ScriptRenderTarget`

Where bottom right corner of this rectangle is drawn.

### scale

**Type:** `double`

Scale of the text or light.

### scale_with_zoom

**Type:** `boolean`

If this text scales with player zoom.

### sprite

**Type:** `SpritePath`

Sprite of the sprite or light.

### start_angle

**Type:** `float`

Where this arc starts. Angle in radian.

### surface

**Type:** `LuaSurface` _(read-only)_

Surface this object is rendered on.

### target

**Type:** `ScriptRenderTarget`

Where this object is drawn.

Polygon vertices that are set to an entity will ignore this.

### text

**Type:** `LocalisedString`

Text that is displayed by this text object.

### time_to_live

**Type:** `uint`

Time to live of this object. This will be 0 if the object does not expire.

### to

**Type:** `ScriptRenderTarget`

Where this line is drawn to.

### type

**Type:**  _(read-only)_

Type of this object.

### use_rich_text

**Type:** `boolean`

If this text parses rich text tags.

### use_target_orientation

**Type:** `boolean`

If this object uses the target orientation.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

### vertical_alignment

**Type:** `VerticalTextAlign`

Vertical alignment of this text.

### vertices

**Type:** ``ScriptRenderTarget`[]`

Vertices of this polygon.

### visible

**Type:** `boolean`

If this object is rendered to anyone at all.

### width

**Type:** `float`

Width of the object. Value is in pixels (32 per tile).

### x_scale

**Type:** `double`

Horizontal scale of this sprite or animation.

### y_scale

**Type:** `double`

Vertical scale of this sprite or animation.

---

## LuaRendering

# LuaRendering

Allows rendering of geometric shapes, text and sprites in the game world through the global object named `rendering`. Each render object is identified by an id that is universally unique for the lifetime of a whole game.

If an entity target of an object is destroyed or changes surface, then the object is also destroyed.

## Methods

### clear

Destroys all render objects.

**Parameters:**

- `mod_name` `string` _(optional)_: If provided, only the render objects created by this mod are destroyed. An empty string (`""`) refers to all objects not belonging to a mod, such as those created using console commands.

### draw_animation

Create an animation.

**Parameters:**

- `animation` `string`: Name of an [AnimationPrototype](prototype:AnimationPrototype).
- `animation_offset` `double` _(optional)_: Offset of the animation in frames. Default is 0.
- `animation_speed` `double` _(optional)_: How many frames the animation goes forward per tick. Default is 1.
- `forces` `ForceSet` _(optional)_: The forces that this object is rendered to. Passing `nil` or an empty table will render it to all forces.
- `only_in_alt_mode` `boolean` _(optional)_: If this should only be rendered in alt mode. Defaults to false.
- `orientation` `RealOrientation` _(optional)_: The orientation of the animation. Default is 0.
- `orientation_target` `ScriptRenderTarget` _(optional)_: If given, the animation rotates so that it faces this target. Note that `orientation` is still applied to the animation.
- `oriented_offset` `Vector` _(optional)_: Offsets the center of the animation if `orientation_target` is given. This offset will rotate together with the animation.
- `players` ``PlayerIdentification`[]` _(optional)_: The players that this object is rendered to. Passing `nil` or an empty table will render it to all players.
- `render_layer` `RenderLayer` _(optional)_: Render layer of the animation. Defaults to `"arrow"`.
- `surface` `SurfaceIdentification`: 
- `target` `ScriptRenderTarget`: Center of the animation.
- `time_to_live` `uint` _(optional)_: In ticks. Defaults to living forever.
- `tint` `Color` _(optional)_: 
- `use_target_orientation` `boolean` _(optional)_: Only used if `orientation_target` is a LuaEntity.
- `visible` `boolean` _(optional)_: If this is rendered to anyone at all. Defaults to true.
- `x_scale` `double` _(optional)_: Horizontal scale of the animation. Default is 1.
- `y_scale` `double` _(optional)_: Vertical scale of the animation. Default is 1.

**Returns:**

- `LuaRenderObject`: 

### draw_arc

Create an arc.

**Parameters:**

- `angle` `float`: The angle of the arc, in radian.
- `color` `Color`: 
- `draw_on_ground` `boolean` _(optional)_: If this should be drawn below sprites and entities. Defaults to false.
- `forces` `ForceSet` _(optional)_: The forces that this object is rendered to. Passing `nil` or an empty table will render it to all forces.
- `max_radius` `double`: The radius of the outer edge of the arc, in tiles.
- `min_radius` `double`: The radius of the inner edge of the arc, in tiles.
- `only_in_alt_mode` `boolean` _(optional)_: If this should only be rendered in alt mode. Defaults to false.
- `players` ``PlayerIdentification`[]` _(optional)_: The players that this object is rendered to. Passing `nil` or an empty table will render it to all players.
- `start_angle` `float`: Where the arc starts, in radian.
- `surface` `SurfaceIdentification`: 
- `target` `ScriptRenderTarget`: 
- `time_to_live` `uint` _(optional)_: In ticks. Defaults to living forever.
- `visible` `boolean` _(optional)_: If this is rendered to anyone at all. Defaults to true.

**Returns:**

- `LuaRenderObject`: 

### draw_circle

Create a circle.

**Parameters:**

- `color` `Color`: 
- `draw_on_ground` `boolean` _(optional)_: If this should be drawn below sprites and entities. Defaults to false.
- `filled` `boolean` _(optional)_: If the circle should be filled. Defaults to false.
- `forces` `ForceSet` _(optional)_: The forces that this object is rendered to. Passing `nil` or an empty table will render it to all forces.
- `only_in_alt_mode` `boolean` _(optional)_: If this should only be rendered in alt mode. Defaults to false.
- `players` ``PlayerIdentification`[]` _(optional)_: The players that this object is rendered to. Passing `nil` or an empty table will render it to all players.
- `radius` `double`: In tiles.
- `surface` `SurfaceIdentification`: 
- `target` `ScriptRenderTarget`: 
- `time_to_live` `uint` _(optional)_: In ticks. Defaults to living forever.
- `visible` `boolean` _(optional)_: If this is rendered to anyone at all. Defaults to true.
- `width` `float` _(optional)_: Width of the outline, used only if filled = false. Value is in pixels (32 per tile). Defaults to 1.

**Returns:**

- `LuaRenderObject`: 

### draw_light

Create a light.

The base game uses the utility sprites `light_medium` and `light_small` for lights.

**Parameters:**

- `color` `Color` _(optional)_: Defaults to white (no tint).
- `forces` `ForceSet` _(optional)_: The forces that this object is rendered to. Passing `nil` or an empty table will render it to all forces.
- `intensity` `float` _(optional)_: Default is 1.
- `minimum_darkness` `float` _(optional)_: The minimum darkness at which this light is rendered. Default is 0.
- `only_in_alt_mode` `boolean` _(optional)_: If this should only be rendered in alt mode. Defaults to false.
- `orientation` `RealOrientation` _(optional)_: The orientation of the light. Default is 0.
- `oriented` `boolean` _(optional)_: If this light has the same orientation as the entity target, default is false. Note that `orientation` is still applied to the sprite.
- `players` ``PlayerIdentification`[]` _(optional)_: The players that this object is rendered to. Passing `nil` or an empty table will render it to all players.
- `scale` `float` _(optional)_: Default is 1.
- `sprite` `SpritePath`: 
- `surface` `SurfaceIdentification`: 
- `target` `ScriptRenderTarget`: Center of the light.
- `time_to_live` `uint` _(optional)_: In ticks. Defaults to living forever.
- `visible` `boolean` _(optional)_: If this is rendered to anyone at all. Defaults to true.

**Returns:**

- `LuaRenderObject`: 

### draw_line

Create a line.

**Parameters:**

- `color` `Color`: 
- `dash_length` `double` _(optional)_: Length of the dashes that this line has. Used only if gap_length > 0. Default is 0.
- `dash_offset` `double` _(optional)_: Starting offset to apply to dashes. Cannot be greater than dash_length + gap_length. Default is 0.
- `draw_on_ground` `boolean` _(optional)_: If this should be drawn below sprites and entities. Defaults to false.
- `forces` `ForceSet` _(optional)_: The forces that this object is rendered to. Passing `nil` or an empty table will render it to all forces.
- `from` `ScriptRenderTarget`: 
- `gap_length` `double` _(optional)_: Length of the gaps that this line has, in tiles. Default is 0.
- `only_in_alt_mode` `boolean` _(optional)_: If this should only be rendered in alt mode. Defaults to false.
- `players` ``PlayerIdentification`[]` _(optional)_: The players that this object is rendered to. Passing `nil` or an empty table will render it to all players.
- `surface` `SurfaceIdentification`: 
- `time_to_live` `uint` _(optional)_: In ticks. Defaults to living forever.
- `to` `ScriptRenderTarget`: 
- `visible` `boolean` _(optional)_: If this is rendered to anyone at all. Defaults to true.
- `width` `float`: In pixels (32 per tile).

**Returns:**

- `LuaRenderObject`: 

### draw_polygon

Create a triangle mesh defined by a triangle strip.

**Parameters:**

- `color` `Color`: 
- `draw_on_ground` `boolean` _(optional)_: If this should be drawn below sprites and entities. Defaults to false.
- `forces` `ForceSet` _(optional)_: The forces that this object is rendered to. Passing `nil` or an empty table will render it to all forces.
- `only_in_alt_mode` `boolean` _(optional)_: If this should only be rendered in alt mode. Defaults to false.
- `orientation` `RealOrientation` _(optional)_: The orientation applied to all vertices. Default is 0.
- `orientation_target` `ScriptRenderTarget` _(optional)_: If given, the vertices (that are not set to an entity) rotate so that it faces this target. Note that `orientation` is still applied.
- `players` ``PlayerIdentification`[]` _(optional)_: The players that this object is rendered to. Passing `nil` or an empty table will render it to all players.
- `surface` `SurfaceIdentification`: 
- `target` `ScriptRenderTarget` _(optional)_: Acts like an offset applied to all vertices that are not set to an entity.
- `time_to_live` `uint` _(optional)_: In ticks. Defaults to living forever.
- `use_target_orientation` `boolean` _(optional)_: Only used if `orientation_target` is a LuaEntity.
- `vertices` ``ScriptRenderTarget`[]`: 
- `visible` `boolean` _(optional)_: If this is rendered to anyone at all. Defaults to true.

**Returns:**

- `LuaRenderObject`: 

### draw_rectangle

Create a rectangle.

**Parameters:**

- `color` `Color`: 
- `draw_on_ground` `boolean` _(optional)_: If this should be drawn below sprites and entities. Defaults to false.
- `filled` `boolean` _(optional)_: If the rectangle should be filled. Defaults to false.
- `forces` `ForceSet` _(optional)_: The forces that this object is rendered to. Passing `nil` or an empty table will render it to all forces.
- `left_top` `ScriptRenderTarget`: 
- `only_in_alt_mode` `boolean` _(optional)_: If this should only be rendered in alt mode. Defaults to false.
- `players` ``PlayerIdentification`[]` _(optional)_: The players that this object is rendered to. Passing `nil` or an empty table will render it to all players.
- `right_bottom` `ScriptRenderTarget`: 
- `surface` `SurfaceIdentification`: 
- `time_to_live` `uint` _(optional)_: In ticks. Defaults to living forever.
- `visible` `boolean` _(optional)_: If this is rendered to anyone at all. Defaults to true.
- `width` `float` _(optional)_: Width of the outline, used only if filled = false. Value is in pixels (32 per tile). Defaults to 1.

**Returns:**

- `LuaRenderObject`: 

### draw_sprite

Create a sprite.

**Parameters:**

- `forces` `ForceSet` _(optional)_: The forces that this object is rendered to. Passing `nil` or an empty table will render it to all forces.
- `only_in_alt_mode` `boolean` _(optional)_: If this should only be rendered in alt mode. Defaults to false.
- `orientation` `RealOrientation` _(optional)_: The orientation of the sprite. Default is 0.
- `orientation_target` `ScriptRenderTarget` _(optional)_: If given, the sprite rotates so that it faces this target. Note that `orientation` is still applied to the sprite.
- `oriented_offset` `Vector` _(optional)_: Offsets the center of the sprite if `orientation_target` is given. This offset will rotate together with the sprite.
- `players` ``PlayerIdentification`[]` _(optional)_: The players that this object is rendered to. Passing `nil` or an empty table will render it to all players.
- `render_layer` `RenderLayer` _(optional)_: Render layer of the sprite. Defaults to `"arrow"`.
- `sprite` `SpritePath`: 
- `surface` `SurfaceIdentification`: 
- `target` `ScriptRenderTarget`: Center of the sprite.
- `time_to_live` `uint` _(optional)_: In ticks. Defaults to living forever.
- `tint` `Color` _(optional)_: 
- `use_target_orientation` `boolean` _(optional)_: Only used if `orientation_target` is a LuaEntity.
- `visible` `boolean` _(optional)_: If this is rendered to anyone at all. Defaults to true.
- `x_scale` `double` _(optional)_: Horizontal scale of the sprite. Default is 1.
- `y_scale` `double` _(optional)_: Vertical scale of the sprite. Default is 1.

**Returns:**

- `LuaRenderObject`: 

### draw_text

Create a text.

Not all fonts support scaling.

**Parameters:**

- `alignment` `TextAlign` _(optional)_: Defaults to "left".
- `color` `Color`: 
- `draw_on_ground` `boolean` _(optional)_: If this should be drawn below sprites and entities. Rich text does not support this option. Defaults to false.
- `font` `string` _(optional)_: Name of font to use. Defaults to the same font as flying-text.
- `forces` `ForceSet` _(optional)_: The forces that this object is rendered to. Passing `nil` or an empty table will render it to all forces.
- `only_in_alt_mode` `boolean` _(optional)_: If this should only be rendered in alt mode. Defaults to false.
- `orientation` `RealOrientation` _(optional)_: The orientation of the text. Default is 0.
- `players` ``PlayerIdentification`[]` _(optional)_: The players that this object is rendered to. Passing `nil` or an empty table will render it to all players.
- `scale` `double` _(optional)_: 
- `scale_with_zoom` `boolean` _(optional)_: Defaults to false. If true, the text scales with player zoom, resulting in it always being the same size on screen, and the size compared to the game world changes.
- `surface` `SurfaceIdentification`: 
- `target` `ScriptRenderTarget`: 
- `text` `LocalisedString`: The text to display.
- `time_to_live` `uint` _(optional)_: In ticks. Defaults to living forever.
- `use_rich_text` `boolean` _(optional)_: If rich text rendering is enabled. Defaults to false.
- `vertical_alignment` `VerticalTextAlign` _(optional)_: Defaults to "top".
- `visible` `boolean` _(optional)_: If this is rendered to anyone at all. Defaults to true.

**Returns:**

- `LuaRenderObject`: 

### get_all_objects

Gets an array of all valid objects.

**Parameters:**

- `mod_name` `string` _(optional)_: If provided, get only the render objects created by this mod. An empty string (`""`) refers to all objects not belonging to a mod, such as those created using console commands.

**Returns:**

- ``LuaRenderObject`[]`: 

### get_object_by_id

Gives LuaRenderObject for given object ID. May return nil if object does not exist or is invalid.

**Parameters:**

- `object_id` `uint64`: 

**Returns:**

- `LuaRenderObject`: 

## Attributes

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

---

## LuaResourceCategoryPrototype

# LuaResourceCategoryPrototype

Prototype of a resource category.

**Parent:** `LuaPrototypeBase`

## Attributes

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaRoboportControlBehavior

# LuaRoboportControlBehavior

Control behavior for roboports.

**Parent:** `LuaControlBehavior`

## Attributes

### available_construction_output_signal

**Type:** `SignalID`



### available_logistic_output_signal

**Type:** `SignalID`



### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### read_items_mode

**Type:** `defines.control_behavior.roboport.read_items_mode`

Selects contents that are to be read from the roboport

### read_logistics

**Type:** `boolean`

Legacy field, please use LuaRoboportControlBehavior::read_items_mode instead. `true` if the roboport should report the logistics network content to the circuit network.

### read_robot_stats

**Type:** `boolean`

`true` if the roboport should report the robot statistics to the circuit network.

### roboport_count_output_signal

**Type:** `SignalID`



### total_construction_output_signal

**Type:** `SignalID`



### total_logistic_output_signal

**Type:** `SignalID`



### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaRocketSiloControlBehavior

# LuaRocketSiloControlBehavior

Control behavior for rocket silos.

**Parent:** `LuaControlBehavior`

## Attributes

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### read_mode

**Type:** `defines.control_behavior.rocket_silo.read_mode`

The items read mode for the rocket silo.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaSchedule

# LuaSchedule

The schedule of a particular [LuaTrain](runtime:LuaTrain) or [LuaSpacePlatform](runtime:LuaSpacePlatform).

## Methods

### activate_interrupt

Activates the interrupt at the given index, if the index is valid.

**Parameters:**

- `index` `uint`: 

### add_interrupt

Adds the given interrupt to the schedule if an interrupt with the given name does not already exist.

**Parameters:**

- `interrupt` `ScheduleInterrupt`: 

### add_record

Adds the given record to the end of the current schedule or at the given index using the provided data.

**Parameters:**

- `data` `AddRecordData`: 

**Returns:**

- `uint`: The index the record was added at.

### add_wait_condition

Adds the given wait condition to the given record.

**Parameters:**

- `condition_index` `uint`: 
- `record_index` `ScheduleRecordPosition`: 
- `type` `WaitConditionType`: 

### change_interrupt

Changes the interrupt at the given index to the provided values. Note, the names must match.

**Parameters:**

- `index` `uint`: 
- `interrupt` `ScheduleInterrupt`: 

### change_wait_condition

Changes the wait condition on the given record to the new values.

**Parameters:**

- `condition_index` `uint`: 
- `record_index` `ScheduleRecordPosition`: 
- `wait_condition` `WaitCondition`: 

### clear_interrupts

Removes all interrupts.

### clear_records



**Parameters:**

- `interrupt_index` `uint` _(optional)_: If provided, clears the records for this interrupt.

### copy_record

Copies the record from the given schedule at the given index into this schedule at the given index.

**Parameters:**

- `destination_index` `uint`: 
- `source_index` `uint`: 
- `source_schedule` `LuaSchedule`: 

### drag_interrupt



**Parameters:**

- `from` `uint`: 
- `to` `uint`: 

### drag_record



**Parameters:**

- `from` `uint`: 
- `interrupt_index` `uint` _(optional)_: The interrupt to operate on, if any.
- `to` `uint`: 

### drag_wait_condition



**Parameters:**

- `from` `uint`: 
- `index` `ScheduleRecordPosition`: The record to change.
- `to` `uint`: 

### get_inside_interrupt

Gets if the given interrupt can be triggered inside other interrupts.

**Parameters:**

- `interrupt_index` `uint`: 

**Returns:**

- `boolean`: 

### get_interrupt



**Parameters:**

- `index` `uint`: 

**Returns:**

- `ScheduleInterrupt`: 

### get_interrupts



**Returns:**

- ``ScheduleInterrupt`[]`: 

### get_record



**Parameters:**

- `index` `ScheduleRecordPosition`: 

**Returns:**

- `ScheduleRecord`: 

### get_record_count

If the given index is invalid, `nil` is returned.

**Parameters:**

- `interrupt_index` `uint` _(optional)_: If provided, the record count in this interrupt is read.

**Returns:**

- `uint`: 

### get_records



**Parameters:**

- `interrupt_index` `uint` _(optional)_: If provided, gets the records for this interrupt.

**Returns:**

- ``ScheduleRecord`[]`: 

### get_wait_condition

Gets the wait condition at the given index if one exists.

**Parameters:**

- `condition_index` `uint`: 
- `schedule_index` `ScheduleRecordPosition`: 

**Returns:**

- `WaitCondition`: 

### get_wait_condition_count

The number of wait conditions in the given schedule record.

**Parameters:**

- `index` `ScheduleRecordPosition`: 

**Returns:**

- `uint`: 

### get_wait_conditions

Gets the wait conditions at the given index if they exist.

**Parameters:**

- `schedule_index` `ScheduleRecordPosition`: 

**Returns:**

- ``WaitCondition`[]`: 

### go_to_station



**Parameters:**

- `schedule_index` `uint`: The schedule index

### remove_interrupt

Removes the interrupt at the given index, if the index is valid.

**Parameters:**

- `index` `uint`: 

### remove_record

Removes the record at the given index, if the index is valid.

**Parameters:**

- `index` `ScheduleRecordPosition`: 

### remove_wait_condition

Removes the given wait condition from the given record.

**Parameters:**

- `condition_index` `uint`: 
- `record_index` `ScheduleRecordPosition`: 

### rename_interrupt



**Parameters:**

- `new_name` `string`: The new name - if it already exists, does nothing.
- `old_name` `string`: The interrupt to rename

### set_allow_unloading

Sets if unloading is allowed at the given schedule index.

**Parameters:**

- `allow` `boolean`: 
- `index` `ScheduleRecordPosition`: 

### set_inside_interrupt

Sets if the given interrupt can be triggered inside other interrupts.

**Parameters:**

- `interrupt_index` `uint`: 
- `value` `boolean`: 

### set_interrupts



**Parameters:**

- `interrupts` ``ScheduleInterrupt`[]`: 

### set_records



**Parameters:**

- `interrupt_index` `uint` _(optional)_: If provided, the records will be set on this interrupt.
- `records` ``ScheduleRecord`[]`: 

### set_stopped



**Parameters:**

- `stopped` `boolean`: 

### set_wait_condition_mode

Sets the comparison on the given wait condition.

**Parameters:**

- `condition_index` `uint`: 
- `mode` `string`: `"and"`, or `"or"`
- `record_index` `ScheduleRecordPosition`: 

## Attributes

### current

**Type:** `uint` _(read-only)_



### group

**Type:** `string`

The group this schedule is part of, if any.

### interrupt_count

**Type:** `uint` _(read-only)_



### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### owner

**Type:**  _(read-only)_

The owner of this schedule.

### tick_of_last_activity

**Type:** `MapTick`

Note: when writing, value must not be larger than LuaGameScript::tick

### tick_of_last_schedule_change

**Type:** `MapTick` _(read-only)_



### ticks_in_station

**Type:** `MapTick` _(read-only)_



### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaSelectorCombinatorControlBehavior

# LuaSelectorCombinatorControlBehavior

Control behavior for selector combinators.

**Parent:** `LuaCombinatorControlBehavior`

## Attributes

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### parameters

**Type:** `SelectorCombinatorParameters`

The selector combinator parameters. `parameters` may be `nil` in order to clear the parameters.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaSettings

# LuaSettings

Object containing mod settings of three distinct types: `startup`, `global`, and `player`. An instance of LuaSettings is available through the global object named `settings`.

## Methods

### get_player_settings

Gets the current per-player settings for the given player, indexed by prototype name. Returns the same structure as [LuaPlayer::mod_settings](runtime:LuaPlayer::mod_settings). This table becomes invalid if its associated player does.

Even though this attribute is a getter, individual settings can be changed by overwriting their [ModSetting](runtime:ModSetting) table. Mods can only change their own settings. Using the in-game console, all player settings can be changed.

**Parameters:**

- `player` `PlayerIdentification`: 

**Returns:**

- `LuaCustomTable<`string`, `ModSetting`>`: 

## Attributes

### global

**Type:** `LuaCustomTable<`string`, `ModSetting`>` _(read-only)_

The current global mod settings, indexed by prototype name.

Even though this attribute is marked as read-only, individual settings can be changed by overwriting their [ModSetting](runtime:ModSetting) table. Mods can only change their own settings. Using the in-game console, all player settings can be changed.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### player_default

**Type:** `LuaCustomTable<`string`, `ModSetting`>` _(read-only)_

The **default** player mod settings for this map, indexed by prototype name. Changing these settings only affects the default settings for future players joining the game.

Individual settings can be changed by overwriting their [ModSetting](runtime:ModSetting) table. Mods can only change their own settings. Using the in-game console, all player settings can be changed.

### startup

**Type:** `LuaCustomTable<`string`, `ModSetting`>` _(read-only)_

The startup mod settings, indexed by prototype name.

---

## LuaShortcutPrototype

# LuaShortcutPrototype

Prototype of a shortcut.

**Parent:** `LuaPrototypeBase`

## Attributes

### action

**Type:** `string` _(read-only)_



### associated_control_input

**Type:** `string` _(read-only)_

The control input that is associated with this shortcut, if any.

### item_to_spawn

**Type:** `LuaItemPrototype` _(read-only)_

The item to create when this shortcut is used, if any.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### technology_to_unlock

**Type:** `LuaTechnologyPrototype` _(read-only)_

The technology that needs to be researched once (in any save) for this shortcut to be unlocked (in all saves).

### toggleable

**Type:** `boolean` _(read-only)_



### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaSimulation

# LuaSimulation

Functions for use during simulations. This object cannot be saved, and cannot be used outside of a simulation.

The simulation object instance can be obtained from [LuaGameScript::simulation](runtime:LuaGameScript::simulation).

## Methods

### activate_rail_planner

Activate the rail planner at the given position.

**Parameters:**

- `build_mode` `defines.build_mode` _(optional)_: Defaults to [normal](runtime:defines.build_mode.normal).
- `ghost_mode` `boolean` _(optional)_: Defaults to `false`.
- `position` `MapPosition` _(optional)_: 

### control_down

Send a control press event at the current cursor position.

**Parameters:**

- `control` `string`: The name of the control input to press.
- `notify` `boolean`: Whether to show flying text of the activated control.

### control_press

Send a control down and up event at the current cursor position. This is equivalent to calling [LuaSimulation::control_down](runtime:LuaSimulation::control_down), then [LuaSimulation::control_up](runtime:LuaSimulation::control_up).

**Parameters:**

- `control` `string`: The name of the control input to press and release.
- `notify` `boolean`: Whether to show flying text of the activated control.

### control_up

Send a control release event at the current cursor position.

**Parameters:**

- `control` `string`: The name of the control input to release.

### create_test_player



**Parameters:**

- `name` `string`: The name of the new player.

**Returns:**

- `LuaPlayer`: The created player.

### deactivate_rail_planner

Deactivate the rail planner.

### get_slot_position



**Parameters:**

- `inventory`  _(optional)_: Defaults to `"character"`.
- `inventory_index` `InventoryIndex`: 
- `slot_index` `ItemStackIndex`: This index is 0-based, unlike other inventory indices.

**Returns:**

- `MapPosition`: Position of the GUI slot on the screen, if successfully found.

### get_widget_position



**Parameters:**

- `data` `string` _(optional)_: 
- `data2` `string` _(optional)_: 
- `type` `SimulationWidgetType`: 

**Returns:**

- `MapPosition`: Center of the GUI widget on the screen, if successfully found.

### mouse_click

Send a left mouse button click event at its current position. This is equivalent to calling [LuaSimulation::mouse_down](runtime:LuaSimulation::mouse_down), then [LuaSimulation::mouse_up](runtime:LuaSimulation::mouse_up).

### mouse_down

Send a left mouse button-down event at its current position.

### mouse_up

Send a left mouse button-up event at its current position.

### move_cursor

Move the cursor towards the given position at the given speed.

**Parameters:**

- `position` `MapPosition`: 
- `speed` `double` _(optional)_: Defaults to `0.2`.

**Returns:**

- `boolean`: Whether the cursor will reach the target position with this move.

### scroll_clipboard_backwards

Scroll the clipboard backwards by one entry.

### scroll_clipboard_forwards

Scroll the clipboard forwards by one entry.

### write

Write text as if it was typed by a player. Overwrites existing text by selecting it first.

**Parameters:**

- `text` `string` _(optional)_: The text to write. Does nothing if no text is provided.

## Attributes

### active_quickbars

**Type:** `any`



### camera_alt_info

**Type:** `any`



### camera_player

**Type:** `any`



### camera_player_cursor_direction

**Type:** `any`



### camera_player_cursor_position

**Type:** `MapPosition`



### camera_position

**Type:** `MapPosition`



### camera_surface_index

**Type:** `uint`



### camera_zoom

**Type:** `any`



### gui_tooltip_interval

**Type:** `any`



### hide_cursor

**Type:** `any`



### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### smart_belt_building

**Type:** `any`



### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaSpaceConnectionPrototype

# LuaSpaceConnectionPrototype

Prototype of a space connection.

**Parent:** `LuaPrototypeBase`

## Attributes

### asteroid_spawn_definitions

**Type:** ``SpaceConnectionAsteroidSpawnDefinition`[]` _(read-only)_



### factoriopedia_alternative

**Type:** `LuaSpaceConnectionPrototype` _(read-only)_

An alternative prototype that will be used to display info about this prototype in Factoriopedia.

### from

**Type:** `LuaSpaceLocationPrototype` _(read-only)_



### length

**Type:** `uint` _(read-only)_



### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### to

**Type:** `LuaSpaceLocationPrototype` _(read-only)_



### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaSpaceLocationPrototype

# LuaSpaceLocationPrototype

Prototype of a space location, such as a planet.

**Parent:** `LuaPrototypeBase`

## Attributes

### asteroid_spawn_definitions

**Type:** ``SpaceLocationAsteroidSpawnDefinition`[]` _(read-only)_



### asteroid_spawn_influence

**Type:** `double` _(read-only)_



### entities_require_heating

**Type:** `boolean` _(read-only)_



### factoriopedia_alternative

**Type:** `LuaSpaceLocationPrototype` _(read-only)_

An alternative prototype that will be used to display info about this prototype in Factoriopedia.

### map_gen_settings

**Type:** `MapGenSettings` _(read-only)_



### map_seed_offset

**Type:** `uint` _(read-only)_



### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### player_effects

**Type:** ``TriggerItem`[]` _(read-only)_



### pollutant_type

**Type:** `LuaAirbornePollutantPrototype` _(read-only)_



### position

**Type:** `MapPosition` _(read-only)_



### solar_power_in_space

**Type:** `double` _(read-only)_



### surface_properties

**Type:** `dictionary<`string`, `double`>` _(read-only)_

A mapping of the surface property name to the value.

### ticks_between_player_effects

**Type:** `uint` _(read-only)_



### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaSpacePlatform

# LuaSpacePlatform

A space platform.

## Methods

### apply_starter_pack

Applies the starter pack for this platform if it hasn't already been applied.

**Returns:**

- `LuaEntity`: The platform hub.

### can_leave_current_location

Returns `true` when the space platform isn't waiting on any delivery from the planet.

**Returns:**

- `boolean`: 

### cancel_deletion

Cancels deletion of this space platform if it was scheduled for deletion.

### clear_ejected_items

Removes all ejected items from this space platform.

### create_asteroid_chunks

Creates the given asteroid chunks on this platform.

**Parameters:**

- `asteroid_chunks` ``AsteroidChunk`[]`: 

### damage_tile

Damages the given tile if it exists, the chunk is generated, and it is a platform foundation tile.

**Parameters:**

- `cause` `LuaEntity` _(optional)_: 
- `damage` `float`: 
- `position` `TilePosition`: 

### destroy

Schedules this space platform for deletion.

**Parameters:**

- `ticks` `uint` _(optional)_: The number of ticks from now when this platform will be deleted.

### destroy_asteroid_chunks

Destroys all asteroid chunks from the given area. If no area and no position are given, then the entire surface is searched.

**Parameters:**

- `area` `BoundingBox` _(optional)_: 
- `invert` `boolean` _(optional)_: If the filters should be inverted.
- `limit` `uint` _(optional)_: 
- `name`  _(optional)_: 
- `position` `MapPosition` _(optional)_: 

### eject_item

Ejects an item into space on this space platform.

If a LuaItemStack is provided, the actual item is ejected and removed from the source.

**Parameters:**

- `item` `ItemStackIdentification`: 
- `movement` `Vector`: When inserters drop items into space, the [InserterPrototype::insert_position](prototype:InserterPrototype::insert_position) rotated to the inserter direction is used.
- `position` `MapPosition`: 

### find_asteroid_chunks_filtered

Find asteroid chunks of a given name in a given area.

If no filters are given, returns all asteroid chunks in the search area. If multiple filters are specified, returns only asteroid chunks matching every given filter. If no area and no position are given, the entire surface is searched.

**Parameters:**

- `area` `BoundingBox` _(optional)_: 
- `invert` `boolean` _(optional)_: If the filters should be inverted.
- `limit` `uint` _(optional)_: 
- `name`  _(optional)_: 
- `position` `MapPosition` _(optional)_: 

**Returns:**

- ``AsteroidChunk`[]`: 

### get_schedule



**Returns:**

- `LuaSchedule`: 

### repair_tile

Repairs the given tile if it's damaged.

**Parameters:**

- `amount` `float` _(optional)_: 
- `position` `TilePosition`: 

## Attributes

### damaged_tiles

**Type:** ``unknown`[]` _(read-only)_

The damaged tiles on this platform.

### distance

**Type:** `double`

The point on space connection this platform is at or `nil`.

It is represented as a number in range `[0, 1]`, with 0 being [LuaSpaceConnectionPrototype::from](runtime:LuaSpaceConnectionPrototype::from) and 1 being [LuaSpaceConnectionPrototype::to](runtime:LuaSpaceConnectionPrototype::to).

### ejected_items

**Type:** ``EjectedItem`[]` _(read-only)_

All items that have been thrown overboard.

### force

**Type:** `LuaForce` _(read-only)_

The force of this space platform.

### hub

**Type:** `LuaEntity` _(read-only)_

The hub on this platform. `nil` if the platform has not had the starter pack applied or hub was destroyed but the platform not yet deleted.

If the hub is destroyed the platform will be deleted at the end of the tick but is otherwise valid to use until that point.

### index

**Type:** `uint` _(read-only)_

The unique index of this space platform.

### last_visited_space_location

**Type:** `LuaSpaceLocationPrototype` _(read-only)_

The space location this space platform previously went through or stopped at.

### name

**Type:** `string`

The name of this space platform.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### paused

**Type:** `boolean`

When `true`, the platform has paused thrust and does not advance its schedule.

### schedule

**Type:** `PlatformSchedule`

This platform's current schedule, if any. Set to `nil` to clear.

The schedule can't be changed by modifying the returned table. Instead, changes must be made by assigning a new table to this attribute.

### scheduled_for_deletion

**Type:** `uint` _(read-only)_

If this platform is scheduled for deletion.

Returns how many ticks are left before the platform will be deleted. 0 if not scheduled for deletion.

### space_connection

**Type:** `LuaSpaceConnectionPrototype`

The space connection this space platform is traveling through or `nil`.

Write operation requires a valid space connection and it sets the distance to 0.5.

### space_location

**Type:** `LuaSpaceLocationPrototype`

The space location this space platform is stopped at or `nil`.

Write operation requires a valid space location and will cancel pending item requests.

### speed

**Type:** `double`



### starter_pack

**Type:** `ItemIDAndQualityIDPair` _(read-only)_

The starter pack used to create this space platform.

### state

**Type:** `defines.space_platform_state` _(read-only)_

The current state of this space platform.

### surface

**Type:** `LuaSurface` _(read-only)_

The surface that belongs to this platform (if it has been created yet).

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

### weight

**Type:** `uint` _(read-only)_

The total weight of the platform.

---

## LuaSpacePlatformHubControlBehavior

# LuaSpacePlatformHubControlBehavior

Control behavior for space platform hubs

**Parent:** `LuaControlBehavior`

## Attributes

### damage_taken_signal

**Type:** `SignalID`

Signal to be transmitted with platform's damage taken value.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### read_contents

**Type:** `boolean`

`true` if this hub is sending its content to a circuit network

### read_damage_taken

**Type:** `boolean`

Whether damage taken by the space platform is sent to circuit network.

### read_moving_from

**Type:** `boolean`

Whether current connection "from" end is sent to circuit network.

### read_moving_to

**Type:** `boolean`

Whether current connection "to" end is sent to circuit network.

### read_speed

**Type:** `boolean`

Whether current speed of space platform is sent to circuit network.

### send_to_platform

**Type:** `boolean`

Whether the signals are used for circuit conditions in the platform's schedule

### speed_signal

**Type:** `SignalID`

Signal to be transmitted with platform's current speed.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaStorageTankControlBehavior

# LuaStorageTankControlBehavior

Control behavior for storage tanks.

**Parent:** `LuaControlBehavior`

## Attributes

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### read_contents

**Type:** `boolean`

If the storage tank content is sent to circuit network

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaStyle

# LuaStyle

Style of a GUI element. All of the attributes listed here may be `nil` if not available for a particular GUI element.

## Attributes

### badge_font

**Type:** `string`



### badge_horizontal_spacing

**Type:** `int`



### bar_width

**Type:** `uint`



### bottom_cell_padding

**Type:** `int`

Space between the table cell contents bottom and border.

### bottom_margin

**Type:** `int`



### bottom_padding

**Type:** `int`



### cell_padding

**Type:** `any`

Space between the table cell contents and border. Sets top/right/bottom/left cell paddings to this value.

### clicked_font_color

**Type:** `Color`



### clicked_vertical_offset

**Type:** `int`



### color

**Type:** `Color`



### column_alignments

**Type:** `LuaCustomTable<`uint`, `Alignment`>` _(read-only)_

Array containing the alignment for every column of this table element. Even though this property is marked as read-only, the alignment can be changed by indexing the LuaCustomTable, like so:

### default_badge_font_color

**Type:** `Color`



### disabled_badge_font_color

**Type:** `Color`



### disabled_font_color

**Type:** `Color`



### draw_grayscale_picture

**Type:** `boolean`



### extra_bottom_margin_when_activated

**Type:** `int`



### extra_bottom_padding_when_activated

**Type:** `int`



### extra_left_margin_when_activated

**Type:** `int`



### extra_left_padding_when_activated

**Type:** `int`



### extra_margin_when_activated

**Type:** `any`

Sets `extra_top/right/bottom/left_margin_when_activated` to this value.

An array with two values sets top/bottom margin to the first value and left/right margin to the second value. An array with four values sets top, right, bottom, left margin respectively.

### extra_padding_when_activated

**Type:** `any`

Sets `extra_top/right/bottom/left_padding_when_activated` to this value.

An array with two values sets top/bottom padding to the first value and left/right padding to the second value. An array with four values sets top, right, bottom, left padding respectively.

### extra_right_margin_when_activated

**Type:** `int`



### extra_right_padding_when_activated

**Type:** `int`



### extra_top_margin_when_activated

**Type:** `int`



### extra_top_padding_when_activated

**Type:** `int`



### font

**Type:** `string`



### font_color

**Type:** `Color`



### gui

**Type:** `LuaGui` _(read-only)_

Gui of the [LuaGuiElement](runtime:LuaGuiElement) of this style.

### height

**Type:** `any`

Sets both minimal and maximal height to the given value.

### horizontal_align

**Type:** 

Horizontal align of the inner content of the widget, if any.

### horizontal_spacing

**Type:** `int`

Horizontal space between individual cells.

### horizontally_squashable

**Type:** `boolean`

Whether the GUI element can be squashed (by maximal width of some parent element) horizontally. `nil` if this element does not support squashing.

This is mainly meant to be used for scroll-pane. The default value is false.

### horizontally_stretchable

**Type:** `boolean`

Whether the GUI element stretches its size horizontally to other elements. `nil` if this element does not support stretching.

### hovered_font_color

**Type:** `Color`



### left_cell_padding

**Type:** `int`

Space between the table cell contents left and border.

### left_margin

**Type:** `int`



### left_padding

**Type:** `int`



### margin

**Type:** `any`

Sets top/right/bottom/left margins to this value.

An array with two values sets top/bottom margin to the first value and left/right margin to the second value. An array with four values sets top, right, bottom, left margin respectively.

### maximal_height

**Type:** `int`

Maximal height ensures, that the widget will never be bigger than than that size. It can't be stretched to be bigger.

### maximal_width

**Type:** `int`

Maximal width ensures, that the widget will never be bigger than than that size. It can't be stretched to be bigger.

### minimal_height

**Type:** `int`

Minimal height ensures, that the widget will never be smaller than than that size. It can't be squashed to be smaller.

### minimal_width

**Type:** `int`

Minimal width ensures, that the widget will never be smaller than than that size. It can't be squashed to be smaller.

### name

**Type:** `string` _(read-only)_

Name of this style.

### natural_height

**Type:** `int`

Natural height specifies the height of the element tries to have, but it can still be squashed/stretched to have a smaller or bigger size.

### natural_width

**Type:** `int`

Natural width specifies the width of the element tries to have, but it can still be squashed/stretched to have a smaller or bigger size.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### padding

**Type:** `any`

Sets top/right/bottom/left paddings to this value.

An array with two values sets top/bottom padding to the first value and left/right padding to the second value. An array with four values sets top, right, bottom, left padding respectively.

### pie_progress_color

**Type:** `Color`



### rich_text_setting

**Type:** `defines.rich_text_setting`

How this GUI element handles rich text.

### right_cell_padding

**Type:** `int`

Space between the table cell contents right and border.

### right_margin

**Type:** `int`



### right_padding

**Type:** `int`



### selected_badge_font_color

**Type:** `Color`



### selected_clicked_font_color

**Type:** `Color`



### selected_font_color

**Type:** `Color`



### selected_hovered_font_color

**Type:** `Color`



### single_line

**Type:** `boolean`



### size

**Type:** `any`

Sets both width and height to the given value. Also accepts an array with two values, setting width to the first and height to the second one.

### stretch_image_to_widget_size

**Type:** `boolean`



### strikethrough_color

**Type:** `Color`



### top_cell_padding

**Type:** `int`

Space between the table cell contents top and border.

### top_margin

**Type:** `int`



### top_padding

**Type:** `int`



### use_header_filler

**Type:** `boolean`



### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

### vertical_align

**Type:** 

Vertical align of the inner content of the widget, if any.

### vertical_spacing

**Type:** `int`

Vertical space between individual cells.

### vertically_squashable

**Type:** `boolean`

Whether the GUI element can be squashed (by maximal height of some parent element) vertically. `nil` if this element does not support squashing.

This is mainly meant to be used for scroll-pane. The default (parent) value for scroll pane is true, false otherwise.

### vertically_stretchable

**Type:** `boolean`

Whether the GUI element stretches its size vertically to other elements. `nil` if this element does not support stretching.

### width

**Type:** `any`

Sets both minimal and maximal width to the given value.

---

## LuaSurface

# LuaSurface

A "domain" of the world. Surfaces can only be created and deleted through the API. Surfaces are uniquely identified by their name. Every game contains at least the surface "nauvis".

## Methods

### add_script_area

Adds the given script area.

**Parameters:**

- `area` `ScriptArea`: 

**Returns:**

- `uint`: The id of the created area.

### add_script_position

Adds the given script position.

**Parameters:**

- `position` `ScriptPosition`: 

**Returns:**

- `uint`: The id of the created position.

### build_checkerboard

Sets the given area to the checkerboard lab tiles.

**Parameters:**

- `area` `BoundingBox`: The tile area.

### build_enemy_base

Send a group to build a new base.

The specified force must be AI-controlled; i.e. `force.ai_controllable` must be `true`.

**Parameters:**

- `force` `ForceID` _(optional)_: Force the new base will belong to. Defaults to enemy.
- `position` `MapPosition`: Location of the new base.
- `unit_count` `uint`: Number of biters to send for the base-building task.

### calculate_tile_properties

Calculate values for a list of tile properties at a list of positions. Requests for unrecognized properties will be ignored, so this can also be used to test whether those properties exist.

**Parameters:**

- `positions` ``MapPosition`[]`: Positions for which to calculate property values.
- `property_names` ``string`[]`: Names of properties (`"elevation"`, etc) to calculate.

**Returns:**

- `dictionary<`string`, ``double`[]`>`: Table of property value lists, keyed by property name.

### can_fast_replace

If there exists an entity at the given location that can be fast-replaced with the given entity parameters.

**Parameters:**

- `direction` `defines.direction` _(optional)_: Direction the entity would be placed. Defaults to `north`.
- `force` `ForceID` _(optional)_: The force that would place the entity. Defaults to the `"neutral"` force.
- `name` `EntityID`: Name of the entity to check.
- `position` `MapPosition`: Where the entity would be placed.

**Returns:**

- `boolean`: 

### can_place_entity

Check for collisions with terrain or other entities.

**Parameters:**

- `build_check_type` `defines.build_check_type` _(optional)_: Which type of check should be carried out. Defaults to `ghost_revive`.
- `direction` `defines.direction` _(optional)_: Direction of the placed entity. Defaults to `north`.
- `force` `ForceID` _(optional)_: The force that would place the entity. Defaults to the `"neutral"` force.
- `forced` `boolean` _(optional)_: If `true`, entities that can be marked for deconstruction are ignored. Only used if `build_check_type` is either `manual_ghost`, `script_ghost` or `blueprint_ghost`. Defaults to `false`.
- `inner_name` `string` _(optional)_: The prototype name of the entity contained in the ghost. Only used if `name` is `entity-ghost`.
- `name` `EntityID`: Name of the entity prototype to check.
- `position` `MapPosition`: Where the entity would be placed.

**Returns:**

- `boolean`: 

### cancel_deconstruct_area

Cancel a deconstruction order.

**Parameters:**

- `area` `BoundingBox`: The area to cancel deconstruction orders in.
- `force` `ForceID`: The force whose deconstruction orders to cancel.
- `item` `LuaItemStack` _(optional)_: The deconstruction item to use if any.
- `item_index` `uint` _(optional)_: The index of the undo item to add this action to. An index of `0` creates a new undo item for it. Defaults to putting it into the appropriate undo item automatically if not specified.
- `player` `PlayerIdentification` _(optional)_: The player to set the last_user to, if any.  Also the player whose undo queue this action should be added to.
- `skip_fog_of_war` `boolean` _(optional)_: If chunks covered by fog-of-war are skipped. Defaults to `false`.
- `super_forced` `boolean` _(optional)_: If the cancel deconstruction is super-forced. Defaults to `false`.

### cancel_upgrade_area

Cancel a upgrade order.

**Parameters:**

- `area` `BoundingBox`: The area to cancel upgrade orders in.
- `force` `ForceID`: The force whose upgrade orders to cancel.
- `item` `LuaItemStack`: The upgrade item to use.
- `player` `PlayerIdentification` _(optional)_: The player to set the last_user to if any.
- `skip_fog_of_war` `boolean` _(optional)_: If chunks covered by fog-of-war are skipped.

### clear

Clears this surface deleting all entities and chunks on it.

**Parameters:**

- `ignore_characters` `boolean` _(optional)_: Whether characters on this surface that are connected to or associated with players should be ignored (not destroyed). Defaults to `false`.

### clear_hidden_tiles

Completely removes hidden and double hidden tiles data on this surface.

### clear_pollution

Clears all pollution on this surface.

### clone_area

Clones the given area.

Entities are cloned in an order such that they can always be created, eg rails before trains.

**Parameters:**

- `clear_destination_decoratives` `boolean` _(optional)_: If the destination decoratives should be cleared
- `clear_destination_entities` `boolean` _(optional)_: If the destination entities should be cleared
- `clone_decoratives` `boolean` _(optional)_: If decoratives should be cloned
- `clone_entities` `boolean` _(optional)_: If entities should be cloned
- `clone_tiles` `boolean` _(optional)_: If tiles should be cloned
- `create_build_effect_smoke` `boolean` _(optional)_: If true, the building effect smoke will be shown around the new entities. Defaults to `false`.
- `destination_area` `BoundingBox`: 
- `destination_force` `ForceID` _(optional)_: 
- `destination_surface` `SurfaceIdentification` _(optional)_: 
- `expand_map` `boolean` _(optional)_: If the destination surface should be expanded when destination_area is outside current bounds. Defaults to `false`.
- `source_area` `BoundingBox`: 

### clone_brush

Clones the given area.

[defines.events.on_entity_cloned](runtime:defines.events.on_entity_cloned) is raised for each entity, and then [defines.events.on_area_cloned](runtime:defines.events.on_area_cloned) is raised.

Entities are cloned in an order such that they can always be created, eg rails before trains.

**Parameters:**

- `clear_destination_decoratives` `boolean` _(optional)_: If the destination decoratives should be cleared
- `clear_destination_entities` `boolean` _(optional)_: If the destination entities should be cleared
- `clone_decoratives` `boolean` _(optional)_: If decoratives should be cloned
- `clone_entities` `boolean` _(optional)_: If entities should be cloned
- `clone_tiles` `boolean` _(optional)_: If tiles should be cloned
- `create_build_effect_smoke` `boolean` _(optional)_: If true, the building effect smoke will be shown around the new entities.
- `destination_force`  _(optional)_: 
- `destination_offset` `TilePosition`: 
- `destination_surface` `SurfaceIdentification` _(optional)_: 
- `expand_map` `boolean` _(optional)_: If the destination surface should be expanded when destination_area is outside current bounds. Defaults to `false`.
- `manual_collision_mode` `boolean` _(optional)_: If manual-style collision checks should be done.
- `source_offset` `TilePosition`: 
- `source_positions` ``TilePosition`[]`: 

### clone_entities

Clones the given entities.

Entities are cloned in an order such that they can always be created, eg rails before trains.

**Parameters:**

- `create_build_effect_smoke` `boolean` _(optional)_: If true, the building effect smoke will be shown around the new entities.
- `destination_force` `ForceID` _(optional)_: 
- `destination_offset` `Vector`: 
- `destination_surface` `SurfaceIdentification` _(optional)_: 
- `entities` ``LuaEntity`[]`: 
- `snap_to_grid` `boolean` _(optional)_: 

### count_entities_filtered

Count entities of given type or name in a given area. Works just like [LuaSurface::find_entities_filtered](runtime:LuaSurface::find_entities_filtered), except this only returns the count. As it doesn't construct all the wrapper objects, this is more efficient if one is only interested in the number of entities.

- If no `area` or `position` are given, the entire surface is searched.

- If `position` is given, this returns the entities colliding with that position (i.e the given position is within the entity's collision box).

- If `position` and `radius` are given, this returns entities in the radius of the position.

- If `area` is specified, this returns entities colliding with that area.

**Parameters:**

- `filter` `EntitySearchFilters`: 

**Returns:**

- `uint`: 

### count_tiles_filtered

Count tiles of a given name in a given area. Works just like [LuaSurface::find_tiles_filtered](runtime:LuaSurface::find_tiles_filtered), except this only returns the count. As it doesn't construct all the wrapper objects, this is more efficient if one is only interested in the number of tiles.

If no `area` or `position` and `radius` is given, the entire surface is searched. If `position` and `radius` are given, only tiles within the radius of the position are included.

**Parameters:**

- `filter` `TileSearchFilters`: 

**Returns:**

- `uint`: 

### create_decoratives

Adds the given decoratives to the surface.

This will merge decoratives of the same type that already exist effectively increasing the "amount" field.

**Parameters:**

- `check_collision` `boolean` _(optional)_: If collision should be checked against entities/tiles.
- `decoratives` ``Decorative`[]`: 

### create_entities_from_blueprint_string

This method only works when used in simulations.

Places entities via the given blueprint string. These entities are force-built.

**Parameters:**

- `by_player` `PlayerIdentification` _(optional)_: The player that placed the blueprint. Defaults to `nil`.
- `direction` `defines.direction` _(optional)_: The direction to place the blueprint in. Defaults to north.
- `flip_horizontal` `boolean` _(optional)_: Whether to flip the blueprint horizontally. Defaults to `false`.
- `flip_vertical` `boolean` _(optional)_: Whether to flip the blueprint vertically. Defaults to `false`.
- `force` `ForceID` _(optional)_: The force to place the blueprint for. Defaults to the player force.
- `position` `MapPosition`: The position to place the blueprint at.
- `string` `string`: The blueprint string to import.

**Returns:**

- `int`: If the blueprint string was invalid, `1` is returned. Otherwise, `nil` is returned.

### create_entity

Create an entity on this surface.

**Parameters:**

- `cause`  _(optional)_: Cause entity / force. The entity or force that triggered the chain of events that led to this entity being created. Used for beams, projectiles, stickers, etc. so that the damage receiver can know which entity or force to retaliate against.
- `character` `LuaEntity` _(optional)_: If fast_replace is true simulate fast replace using this character.
- `create_build_effect_smoke` `boolean` _(optional)_: If false, the building effect smoke will not be shown around the new entity. Defaults to `true`.
- `direction` `defines.direction` _(optional)_: Desired orientation of the entity after creation.
- `fast_replace` `boolean` _(optional)_: If true, building will attempt to simulate fast-replace building. Defaults to `false`.
- `force` `ForceID` _(optional)_: Force of the entity, default is enemy.
- `item` `LuaItemStack` _(optional)_: If provided, the entity will attempt to pull stored values from this item (for example; creating a spidertron from a previously named and mined spidertron)
- `item_index` `uint` _(optional)_: The index of the undo item to add this action to. An index of `0` creates a new undo item for it. Defaults to putting it into the appropriate undo item automatically if not specified.
- `move_stuck_players` `boolean` _(optional)_: If true, any characters that are in the way of the entity are teleported out of the way.
- `name` `EntityID`: The entity prototype name to create.
- `player` `PlayerIdentification` _(optional)_: If given set the last_user to this player. If fast_replace is true simulate fast replace using this player. Also the player whose undo queue this action should be added to.
- `position` `MapPosition`: Where to create the entity.
- `preserve_ghosts_and_corpses` `boolean` _(optional)_: If true, colliding ghosts and corpses will not be removed by the creation of some entity types. Defaults to `false`.
- `quality` `QualityID` _(optional)_: Quality of the entity to be created. Defaults to `normal`.
- `raise_built` `boolean` _(optional)_: If true; [defines.events.script_raised_built](runtime:defines.events.script_raised_built) will be fired on successful entity creation. Defaults to `false`.
- `snap_to_grid` `boolean` _(optional)_: If false the exact position given is used to instead of snapping to the normal entity grid. This only applies if the entity normally snaps to the grid.
- `source`  _(optional)_: Source entity. Used for beams, projectiles, and highlight-boxes.
- `spawn_decorations` `boolean` _(optional)_: If true, entity types that have [spawn_decoration](runtime:LuaEntityPrototype::spawn_decorations) property will apply triggers defined in the property. Defaults to `false`.
- `spill` `boolean` _(optional)_: If false while fast_replace is true and player is nil any items from fast-replacing will be deleted instead of dropped on the ground. Defaults to `true`.
- `target`  _(optional)_: Entity with health for the new entity to target.

**Returns:**

- `LuaEntity`: The created entity or `nil` if the creation failed.

### create_global_electric_network

Creates a global electric network for this surface, if one doesn't exist already.

### create_particle

Creates a particle at the given location

**Parameters:**

- `frame_speed` `float`: 
- `height` `float`: 
- `movement` `Vector`: 
- `name` `ParticleID`: The particle name.
- `position` `MapPosition`: Where to create the particle.
- `vertical_speed` `float`: 

### create_trivial_smoke



**Parameters:**

- `name` `TrivialSmokeID`: The smoke prototype name to create.
- `position` `MapPosition`: Where to create the smoke.

### create_unit_group

Create a new unit group at a given position.

**Parameters:**

- `force` `ForceID` _(optional)_: Force of the new unit group. Defaults to `"enemy"`.
- `position` `MapPosition`: Initial position of the new unit group.

**Returns:**

- `LuaCommandable`: 

### deconstruct_area

Place a deconstruction request.

**Parameters:**

- `area` `BoundingBox`: The area to mark for deconstruction.
- `force` `ForceID`: The force whose bots should perform the deconstruction.
- `item` `LuaItemStack` _(optional)_: The deconstruction item to use if any.
- `player` `PlayerIdentification` _(optional)_: The player to set the last_user to if any.
- `skip_fog_of_war` `boolean` _(optional)_: If chunks covered by fog-of-war are skipped. Defaults to `false`.
- `super_forced` `boolean` _(optional)_: If the deconstruction is super-forced. Defaults to `false`.

### decorative_prototype_collides

Whether the given decorative prototype collides at the given position and direction.

**Parameters:**

- `position` `MapPosition`: The position to check.
- `prototype` `DecorativeID`: The decorative prototype to check.

**Returns:**

- `boolean`: 

### delete_chunk



**Parameters:**

- `position` `ChunkPosition`: The chunk position to delete

### destroy_decoratives

Removes all decoratives from the given area. If no area and no position are given, then the entire surface is searched.

**Parameters:**

- `area` `BoundingBox` _(optional)_: 
- `collision_mask`  _(optional)_: 
- `exclude_soft` `boolean` _(optional)_: Soft decoratives can be drawn over rails.
- `from_layer` `string` _(optional)_: 
- `invert` `boolean` _(optional)_: If the filters should be inverted.
- `limit` `uint` _(optional)_: 
- `name`  _(optional)_: 
- `position` `TilePosition` _(optional)_: 
- `to_layer` `string` _(optional)_: 

### destroy_global_electric_network

Destroys the global electric network for this surface, if it exists.

### edit_script_area

Sets the given script area to the new values.

**Parameters:**

- `area` `ScriptArea`: 
- `id` `uint`: The area to edit.

### edit_script_position

Sets the given script position to the new values.

**Parameters:**

- `id` `uint`: The position to edit.
- `position` `ScriptPosition`: 

### entity_prototype_collides

Whether the given entity prototype collides at the given position and direction.

**Parameters:**

- `direction` `defines.direction` _(optional)_: 
- `position` `MapPosition`: The position to check.
- `prototype` `EntityID`: The entity prototype to check.
- `use_map_generation_bounding_box` `boolean`: If the map generation bounding box should be used instead of the collision bounding box.

**Returns:**

- `boolean`: 

### execute_lightning

Creates lightning. If other entities which can be lightning targets are nearby, the final position will be adjusted.

**Parameters:**

- `name` `EntityID`: 
- `position` `MapPosition`: 

### find_closest_logistic_network_by_position

Find the logistic network with a cell closest to a given position.

**Parameters:**

- `force` `ForceID`: Force the logistic network should belong to.
- `position` `MapPosition`: 

**Returns:**

- `LuaLogisticNetwork`: The found network or `nil` if no such network was found.

### find_decoratives_filtered

Find decoratives of a given name in a given area.

If no filters are given, returns all decoratives in the search area. If multiple filters are specified, returns only decoratives matching every given filter. If no area and no position are given, the entire surface is searched.

**Parameters:**

- `area` `BoundingBox` _(optional)_: 
- `collision_mask`  _(optional)_: 
- `exclude_soft` `boolean` _(optional)_: Soft decoratives can be drawn over rails.
- `from_layer` `string` _(optional)_: 
- `invert` `boolean` _(optional)_: If the filters should be inverted.
- `limit` `uint` _(optional)_: 
- `name`  _(optional)_: 
- `position` `TilePosition` _(optional)_: 
- `to_layer` `string` _(optional)_: 

**Returns:**

- ``DecorativeResult`[]`: 

### find_enemy_units

Find enemy units (entities with type "unit") of a given force within an area.

This is more efficient than [LuaSurface::find_entities](runtime:LuaSurface::find_entities).

**Parameters:**

- `center` `MapPosition`: Center of the search area
- `force` `ForceID` _(optional)_: Force to find enemies of. If not given, uses the player force.
- `radius` `double`: Radius of the circular search area

**Returns:**

- ``LuaEntity`[]`: 

### find_entities

Find entities in a given area.

If no area is given all entities on the surface are returned.

**Parameters:**

- `area` `BoundingBox` _(optional)_: 

**Returns:**

- ``LuaEntity`[]`: 

### find_entities_filtered

Find all entities of the given type or name in the given area.

If no filters (`name`, `type`, `force`, etc.) are given, this returns all entities in the search area. If multiple filters are specified, only entities matching all given filters are returned.

- If no `area` or `position` are given, the entire surface is searched.

- If `position` is given, this returns the entities colliding with that position (i.e the given position is within the entity's collision box).

- If `position` and `radius` are given, this returns the entities within the radius of the position. Looks for the center of entities.

- If `area` is specified, this returns the entities colliding with that area.

**Parameters:**

- `filter` `EntitySearchFilters`: 

**Returns:**

- ``LuaEntity`[]`: 

### find_entity

Find an entity of the given name at the given position. This checks both the exact position and the bounding box of the entity.

**Parameters:**

- `entity` `EntityWithQualityID`: Name of the entity to look for.
- `position` `MapPosition`: Coordinates to look at.

**Returns:**

- `LuaEntity`: `nil` if no such entity is found.

### find_logistic_network_by_position

Find the logistic network that covers a given position.

**Parameters:**

- `force` `ForceID`: Force the logistic network should belong to.
- `position` `MapPosition`: 

**Returns:**

- `LuaLogisticNetwork`: The found network or `nil` if no such network was found.

### find_logistic_networks_by_construction_area

Finds all of the logistics networks whose construction area intersects with the given position.

**Parameters:**

- `force` `ForceID`: Force the logistic networks should belong to.
- `position` `MapPosition`: 

**Returns:**

- ``LuaLogisticNetwork`[]`: 

### find_nearest_enemy

Find the enemy military target ([military entity](https://wiki.factorio.com/Military_units_and_structures)) closest to the given position.

**Parameters:**

- `force` `ForceID` _(optional)_: The force the result will be an enemy of. Uses the player force if not specified.
- `max_distance` `double`: Radius of the circular search area.
- `position` `MapPosition`: Center of the search area.

**Returns:**

- `LuaEntity`: The nearest enemy military target or `nil` if no enemy could be found within the given area.

### find_nearest_enemy_entity_with_owner

Find the enemy entity-with-owner closest to the given position.

**Parameters:**

- `force` `ForceID` _(optional)_: The force the result will be an enemy of. Uses the player force if not specified.
- `max_distance` `double`: Radius of the circular search area.
- `position` `MapPosition`: Center of the search area.

**Returns:**

- `LuaEntity`: The nearest enemy entity-with-owner or `nil` if no enemy could be found within the given area.

### find_non_colliding_position

Find a non-colliding position within a given radius.

Special care needs to be taken when using a radius of `0`. The game will not stop searching until it finds a suitable position, so it is important to make sure such a position exists. One particular case where it would not be able to find a solution is running it before any chunks have been generated.

**Parameters:**

- `center` `MapPosition`: Center of the search area.
- `force_to_tile_center` `boolean` _(optional)_: Will only check tile centers. This can be useful when your intent is to place a building at the resulting position, as they must generally be placed at tile centers. Defaults to `false`.
- `name` `EntityID`: Prototype name of the entity to find a position for. (The bounding box for the collision checking is taken from this prototype.)
- `precision` `double`: The step length from the given position as it searches, in tiles. Minimum value is `0.01`.
- `radius` `double`: Max distance from `center` to search in. A radius of `0` means an infinitely-large search area.

**Returns:**

- `MapPosition`: The non-colliding position. May be `nil` if no suitable position was found.

### find_non_colliding_position_in_box

Find a non-colliding position within a given rectangle.

**Parameters:**

- `force_to_tile_center` `boolean` _(optional)_: Will only check tile centers. This can be useful when your intent is to place a building at the resulting position, as they must generally be placed at tile centers. Defaults to `false`.
- `name` `EntityID`: Prototype name of the entity to find a position for. (The bounding box for the collision checking is taken from this prototype.)
- `precision` `double`: The step length from the given position as it searches, in tiles. Minimum value is 0.01.
- `search_space` `BoundingBox`: The rectangle to search inside.

**Returns:**

- `MapPosition`: The non-colliding position. May be `nil` if no suitable position was found.

### find_tiles_filtered

Find all tiles of the given name in the given area.

If no filters are given, this returns all tiles in the search area.

If no `area` or `position` and `radius` is given, the entire surface is searched. If `position` and `radius` are given, only tiles within the radius of the position are included.

**Parameters:**

- `filter` `TileSearchFilters`: 

**Returns:**

- ``LuaTile`[]`: 

### find_units

Find units (entities with type "unit") of a given force and force condition within a given area.

This is more efficient than [LuaSurface::find_entities](runtime:LuaSurface::find_entities).

**Parameters:**

- `area` `BoundingBox`: Box to find units within.
- `condition` `ForceCondition`: Only forces which meet the condition will be included in the search.
- `force` `ForceID`: Force performing the search.

**Returns:**

- ``LuaEntity`[]`: 

### force_generate_chunk_requests

Blocks and generates all chunks that have been requested using all available threads.

### get_chunks

Get an iterator going over every chunk on this surface.

**Returns:**

- `LuaChunkIterator`: 

### get_closest

Gets the closest entity in the list to this position.

**Parameters:**

- `entities` ``LuaEntity`[]`: The Entities to check.
- `position` `MapPosition`: 

**Returns:**

- `LuaEntity`: 

### get_connected_tiles

Gets all tiles of the given types that are connected horizontally or vertically to the given tile position including the given tile position.

This won't find tiles in non-generated chunks.

**Parameters:**

- `area` `BoundingBox` _(optional)_: The area to find connected tiles in. If provided the start position must be in this area.
- `include_diagonal` `boolean` _(optional)_: Include tiles that are connected diagonally.
- `position` `TilePosition`: The tile position to start at.
- `tiles` ``TileID`[]`: The tiles to search for.

**Returns:**

- ``TilePosition`[]`: The resulting set of tiles.

### get_double_hidden_tile

The double hidden tile name or `nil` if there isn't one for the given position.

**Parameters:**

- `position` `TilePosition`: The tile position.

**Returns:**

- `string`: 

### get_entities_with_force

Returns all the military targets (entities with force) on this chunk for the given force.

**Parameters:**

- `force` `ForceID`: Entities of this force will be returned.
- `position` `ChunkPosition`: The chunk's position.

**Returns:**

- ``LuaEntity`[]`: 

### get_hidden_tile

The hidden tile name.

**Parameters:**

- `position` `TilePosition`: The tile position.

**Returns:**

- `string`: `nil` if there isn't one for the given position.

### get_map_exchange_string

Gets the map exchange string for the current map generation settings of this surface.

**Returns:**

- `string`: 

### get_pollution

Get the pollution for a given position.

Pollution is stored per chunk, so this will return the same value for all positions in one chunk.

**Parameters:**

- `position` `MapPosition`: The position to poll the chunk's pollution

**Returns:**

- `double`: 

### get_property

Gets the value of surface property on this surface.

**Parameters:**

- `property` `SurfacePropertyID`: Property to read.

**Returns:**

- `double`: Value of the property.

### get_random_chunk

Gets a random generated chunk position or 0,0 if no chunks have been generated on this surface.

**Returns:**

- `ChunkPosition`: 

### get_resource_counts

Gets the resource amount of all resources on this surface

**Returns:**

- `dictionary<`string`, `uint`>`: 

### get_script_area

Gets the first script area by name or id.

**Parameters:**

- `key`  _(optional)_: The name or id of the area to get.

**Returns:**

- `ScriptArea`: 

### get_script_areas

Gets the script areas that match the given name or if no name is given all areas are returned.

**Parameters:**

- `name` `string` _(optional)_: 

**Returns:**

- ``ScriptArea`[]`: 

### get_script_position

Gets the first script position by name or id.

**Parameters:**

- `key`  _(optional)_: The name or id of the position to get.

**Returns:**

- `ScriptPosition`: 

### get_script_positions

Gets the script positions that match the given name or if no name is given all positions are returned.

**Parameters:**

- `name` `string` _(optional)_: 

**Returns:**

- ``ScriptPosition`[]`: 

### get_starting_area_radius

Gets the starting area radius of this surface.

**Returns:**

- `double`: 

### get_tile

Get the tile at a given position. An alternative call signature for this method is passing it a single [TilePosition](runtime:TilePosition).

Non-integer values will result in them being rounded down.

**Parameters:**

- `x` `int`: 
- `y` `int`: 

**Returns:**

- `LuaTile`: 

### get_total_pollution

Gets the total amount of pollution on the surface by iterating over all the chunks containing pollution.

**Returns:**

- `double`: 

### is_chunk_generated

Is a given chunk generated?

**Parameters:**

- `position` `ChunkPosition`: The chunk's position.

**Returns:**

- `boolean`: 

### play_sound

Play a sound for every player on this surface.

The sound is not played if its location is not [charted](runtime:LuaForce::chart) for that player.

**Parameters:**

- `sound_specification` `PlaySoundSpecification`: The sound to play.

### pollute

Spawn pollution at the given position.

**Parameters:**

- `amount` `double`: How much pollution to add.
- `prototype` `EntityID` _(optional)_: The entity prototype to attribute the pollution change to in statistics. If not defined, the pollution change will not show up in statistics.
- `source` `MapPosition`: Where to spawn the pollution.

### print

Print text to the chat console of all players on this surface.

By default, messages that are identical to a message sent in the last 60 ticks are not printed again.

**Parameters:**

- `message` `LocalisedString`: 
- `print_settings` `PrintSettings` _(optional)_: 

### regenerate_decorative

Regenerate autoplacement of some decoratives on this surface. This can be used to autoplace newly-added decoratives.

All specified decorative prototypes must be autoplacable. If nothing is given all decoratives are generated on all chunks.

**Parameters:**

- `chunks` ``ChunkPosition`[]` _(optional)_: The chunk positions to regenerate the decoratives on. If not given all chunks are regenerated. Note chunks with status < entities are ignored.
- `decoratives`  _(optional)_: Prototype names of decorative or decoratives to autoplace. When `nil` all decoratives with an autoplace are used.

### regenerate_entity

Regenerate autoplacement of some entities on this surface. This can be used to autoplace newly-added entities.

All specified entity prototypes must be autoplacable. If nothing is given all entities are generated on all chunks.

**Parameters:**

- `chunks` ``ChunkPosition`[]` _(optional)_: The chunk positions to regenerate the entities on. If not given all chunks are regenerated. Note chunks with status < entities are ignored.
- `entities`  _(optional)_: Prototype names of entity or entities to autoplace. When `nil` all entities with an autoplace are used.

### remove_script_area

Removes the given script area.

**Parameters:**

- `id` `uint`: 

**Returns:**

- `boolean`: If the area was actually removed. False when it didn't exist.

### remove_script_position

Removes the given script position.

**Parameters:**

- `id` `uint`: 

**Returns:**

- `boolean`: If the position was actually removed. False when it didn't exist.

### request_path

Generates a path with the specified constraints (as an array of [PathfinderWaypoints](runtime:PathfinderWaypoint)) using the unit pathfinding algorithm. This path can be used to emulate pathing behavior by script for non-unit entities, such as vehicles. If you want to command actual units (such as biters or spitters) to move, use [LuaCommandable::set_command](runtime:LuaCommandable::set_command) via [LuaEntity::commandable](runtime:LuaEntity::commandable) instead.

The resulting path is ultimately returned asynchronously via [on_script_path_request_finished](runtime:on_script_path_request_finished).

**Parameters:**

- `bounding_box` `BoundingBox`: The dimensions of the object that's supposed to travel the path.
- `can_open_gates` `boolean` _(optional)_: Whether the path request can open gates. Defaults to `false`.
- `collision_mask` `CollisionMask`: The collision mask the `bounding_box` collides with.
- `entity_to_ignore` `LuaEntity` _(optional)_: Makes the pathfinder ignore collisions with this entity if it is given.
- `force` `ForceID`: The force for which to generate the path, determining which gates can be opened for example.
- `goal` `MapPosition`: The position to find a path to.
- `max_attack_distance` `double` _(optional)_: Defines the maximum allowed distance between the last traversable path waypoint and an obstacle entity to be destroyed. Only used when finding a discontiguous path, i.e. when `max_gap_size` > 0. This field filters out paths that are blocked by obstacles that are outside the entity's attack range. Allowed values are `0` or greater. Defaults to `max_gap_size`.
- `max_gap_size` `int` _(optional)_: Defines the maximum allowed distance between path waypoints. 0 means that paths must be contiguous (as they are for biters). Values greater than 0 will produce paths with "gaps" that are suitable for spiders. Allowed values are from `0` to `31`. Defaults to `0`.
- `path_resolution_modifier` `int` _(optional)_: Defines how coarse the pathfinder's grid is, where smaller values mean a coarser grid. Defaults to `0`, which equals a resolution of `1x1` tiles, centered on tile centers. Values range from `-8` to `8` inclusive, where each integer increment doubles/halves the resolution. So, a resolution of `-8` equals a grid of `256x256` tiles, and a resolution of `8` equals `1/256` of a tile.
- `pathfind_flags` `PathfinderFlags` _(optional)_: Flags that affect pathfinder behavior.
- `radius` `double` _(optional)_: How close the pathfinder needs to get to its `goal` (in tiles). Defaults to `1`.
- `start` `MapPosition`: The position from which to start pathfinding.

**Returns:**

- `uint`: A unique handle to identify this call when [on_script_path_request_finished](runtime:on_script_path_request_finished) fires.

### request_to_generate_chunks

Request that the game's map generator generate chunks at the given position for the given radius on this surface. If the radius is `0`, then only the chunk at the given position is generated.

**Parameters:**

- `position` `MapPosition`: Where to generate the new chunks.
- `radius` `uint` _(optional)_: The chunk radius from `position` to generate new chunks in. Defaults to `0`.

### set_chunk_generated_status

Set generated status of a chunk. Useful when copying chunks.

**Parameters:**

- `position` `ChunkPosition`: The chunk's position.
- `status` `defines.chunk_generated_status`: The chunk's new status.

### set_double_hidden_tile

Set double hidden tile for the specified position. During normal gameplay, only [non-mineable](runtime:LuaTilePrototype::mineable_properties) tiles can become double hidden.

Does nothing if hidden tile at specified position does not exist.

**Parameters:**

- `position` `TilePosition`: The tile position.
- `tile` `TileID` _(optional)_: The new double hidden tile or `nil` to clear the double hidden tile.

### set_hidden_tile

Set the hidden tile for the specified position. While during normal gameplay only [non-mineable](runtime:LuaTilePrototype::mineable_properties) or [foundation](runtime:LuaTilePrototype::is_foundation) tiles can become hidden, this method allows any kind of tile to be set as the hidden one.

**Parameters:**

- `position` `TilePosition`: The tile position.
- `tile` `TileID` _(optional)_: The new hidden tile or `nil` to clear the hidden tile.

### set_multi_command

Give a command to multiple units. This will automatically select suitable units for the task.

**Parameters:**

- `command` `Command`: 
- `force` `ForceID` _(optional)_: Force of the units this command is to be given to. If not specified, uses the enemy force.
- `unit_count` `uint`: Number of units to give the command to.
- `unit_search_distance` `uint` _(optional)_: Radius to search for units. The search area is centered on the destination of the command. If not specified uses default value of 150.

**Returns:**

- `uint`: Number of units actually sent. May be less than `count` if not enough units were available.

### set_pollution

Set the pollution for a given position.

Pollution changes by this are not included in pollution statistics and do not affect evolution factors (as opposed to [LuaSurface::pollute](runtime:LuaSurface::pollute)).

**Parameters:**

- `amount` `double`: New amount of pollution to be set on the chunk. Must be >= 0.
- `position` `MapPosition`: The position to set the chunk's pollution

### set_property

Sets the value of surface property on this surface.

**Parameters:**

- `property` `SurfacePropertyID`: Property to change.
- `value` `double`: The wanted value of the property.

### set_tiles

Set tiles at specified locations. Can automatically correct the edges around modified tiles.

Placing a [mineable](runtime:LuaTilePrototype::mineable_properties) tile on top of a non-mineable or [foundation](runtime:LuaTilePrototype::is_foundation) one will turn the latter into the [LuaTile::hidden_tile](runtime:LuaTile::hidden_tile) for that tile. Placing a mineable non-foundation tile on a mineable non-foundation one or a mineable foundation tile on a mineable foundation one will not modify the hidden tile. This restriction can however be circumvented by using [LuaSurface::set_hidden_tile](runtime:LuaSurface::set_hidden_tile). Placing a non-foundation tile on top of a foundation one when there already exists a hidden tile will push hidden tile to [double hidden](runtime:LuaTile::double_hidden_tile), and foundation tile will turn into hidden. Placing a mineable foundation tile over a mineable non-foundation tile with hidden mineable foundation tile, the hidden tile will be replaced by previously double hidden tile and double hidden tile will be erased. Placing a non-mineable tile will erase hidden and double hidden tiles.

It is recommended to call this method once for all the tiles you want to change rather than calling it individually for every tile. As the tile correction is used after every step, calling it one by one could cause the tile correction logic to redo some of the changes. Also, many small API calls are generally more performance intensive than one big one.

**Parameters:**

- `correct_tiles` `boolean` _(optional)_: If `false`, the correction logic is not applied to the changed tiles. Defaults to `true`.
- `player` `PlayerIdentification` _(optional)_: The player whose undo queue to add these actions to.
- `raise_event` `boolean` _(optional)_: Defaults to `false`.
- `remove_colliding_decoratives` `boolean` _(optional)_: Defaults to `true`.
- `remove_colliding_entities`  _(optional)_: Defaults to `true`.
- `tiles` ``Tile`[]`: 
- `undo_index` `uint` _(optional)_: The index of the undo item to add this action to. An index of `0` creates a new undo item for it. Defaults to putting it into the appropriate undo item automatically if not specified.

### spill_inventory

Spill inventory on the ground centered at a given location.

**Parameters:**

- `allow_belts` `boolean` _(optional)_: Whether items can be spilled onto belts. Defaults to `true`.
- `drop_full_stack` `boolean` _(optional)_: If item on ground should be made out of an entire provided stack. Defaults to `false`.
- `enable_looted` `boolean` _(optional)_: When true, each created item will be flagged with the [LuaEntity::to_be_looted](runtime:LuaEntity::to_be_looted) flag. Defaults to `false`.
- `force` `ForceID` _(optional)_: When provided (and not `nil`) the items will be marked for deconstruction by this force.
- `inventory` `LuaInventory`: Inventory to spill
- `max_radius` `double` _(optional)_: Max radius from the specified `position` to spill items.
- `position` `MapPosition`: Center of the spillage
- `use_start_position_on_failure` `boolean` _(optional)_: Allow spilling items at `position` if no non-colliding position is found. Note: Setting to false might cause some items not to be spilled. Defaults to `true`.

**Returns:**

- ``LuaEntity`[]`: The created item-on-ground entities.

### spill_item_stack

Spill items on the ground centered at a given location.

**Parameters:**

- `allow_belts` `boolean` _(optional)_: Whether items can be spilled onto belts. Defaults to `true`.
- `drop_full_stack` `boolean` _(optional)_: If item on ground should be made out of an entire provided stack. Defaults to `false`.
- `enable_looted` `boolean` _(optional)_: When true, each created item will be flagged with the [LuaEntity::to_be_looted](runtime:LuaEntity::to_be_looted) flag. Defaults to `false`.
- `force` `ForceID` _(optional)_: When provided (and not `nil`) the items will be marked for deconstruction by this force.
- `max_radius` `double` _(optional)_: Max radius from the specified `position` to spill items.
- `position` `MapPosition`: Center of the spillage
- `stack` `ItemStackIdentification`: Stack of items to spill
- `use_start_position_on_failure` `boolean` _(optional)_: Allow spilling items at `position` if no non-colliding position is found. Note: Setting to false might cause some items not to be spilled. Defaults to `true`.

**Returns:**

- ``LuaEntity`[]`: The created item-on-ground entities.

### upgrade_area

Place an upgrade request.

**Parameters:**

- `area` `BoundingBox`: The area to mark for upgrade.
- `force` `ForceID`: The force whose bots should perform the upgrade.
- `item` `LuaItemStack`: The upgrade item to use.
- `player` `PlayerIdentification` _(optional)_: The player to set the last_user to if any.
- `skip_fog_of_war` `boolean` _(optional)_: If chunks covered by fog-of-war are skipped.

## Attributes

### always_day

**Type:** `boolean`

When set to true, the sun will always shine.

### brightness_visual_weights

**Type:** `ColorModifier`

Defines how surface daytime brightness influences each color channel of the current color lookup table (LUT).

The LUT is multiplied by `((1 - weight) + brightness * weight)` and result is clamped to range `[0, 1]`.

Default is `{0, 0, 0}`, which means no influence.

### darkness

**Type:** `float` _(read-only)_

Amount of darkness at the current time, as a number in range `[0, 1]`.

### dawn

**Type:** `double`

The daytime when dawn starts.

### daytime

**Type:** `double`

Current time of day, as a number in range `[0, 1)`.

### daytime_parameters

**Type:** `unknown`

Parameters of daytime. Equivalent as reading [dusk](runtime:LuaSurface::dusk), [evening](runtime:LuaSurface::evening), [morning](runtime:LuaSurface::morning) and [dawn](runtime:LuaSurface::dawn) at the same time.

In order for a write to take place, a new table needs to be written in one go: changing individual members of the returned table has no effect as those are value copies.

### deletable

**Type:** `boolean` _(read-only)_

If this surface can be deleted.

### dusk

**Type:** `double`

The daytime when dusk starts.

### evening

**Type:** `double`

The daytime when evening starts.

### freeze_daytime

**Type:** `boolean`

True if daytime is currently frozen.

### generate_with_lab_tiles

**Type:** `boolean`

When set to true, new chunks will be generated with lab tiles, instead of using the surface's map generation settings.

### global_effect

**Type:** `ModuleEffects`

Surface-wide effects applied to entities with effect receivers. `nil` if this surface is not using surface-wide effect source.

### global_electric_network_statistics

**Type:** `LuaFlowStatistics` _(read-only)_

The global electric network statistics for this surface.

### has_global_electric_network

**Type:** `boolean` _(read-only)_

Whether this surface currently has a global electric network.

### ignore_surface_conditions

**Type:** `boolean`

If surface condition checks should not be performed on this surface.

### index

**Type:** `uint` _(read-only)_

This surface's index in [LuaGameScript::surfaces](runtime:LuaGameScript::surfaces) (unique ID). It is assigned when a surface is created, and remains so until it is [deleted](runtime:on_surface_deleted). Indexes of deleted surfaces can be reused.

### localised_name

**Type:** `LocalisedString`

Localised name of this surface. When set, will replace the internal surface name in places where a player sees surface name.

Value may be ignored if a surface has a SpacePlatform or Planet object attached to it, which take the precedence.

### map_gen_settings

**Type:** `MapGenSettings`

The generation settings for this surface. These can be modified after surface generation, but note that this will not retroactively update the surface. To manually regenerate it, [LuaSurface::regenerate_entity](runtime:LuaSurface::regenerate_entity), [LuaSurface::regenerate_decorative](runtime:LuaSurface::regenerate_decorative), and [LuaSurface::delete_chunk](runtime:LuaSurface::delete_chunk) can be used.

### min_brightness

**Type:** `double`

The minimal brightness during the night. Defaults to `0.15`. This has an effect on both rendering and game mechanics such as biter spawns and solar power.

### morning

**Type:** `double`

The daytime when morning starts.

### name

**Type:** `string`

The name of this surface. Names are unique among surfaces.

The default surface can't be renamed.

### no_enemies_mode

**Type:** `boolean`

Is no-enemies mode enabled on this surface?

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### peaceful_mode

**Type:** `boolean`

Is peaceful mode enabled on this surface?

### planet

**Type:** `LuaPlanet` _(read-only)_

The planet associated with this surface, if there is one.

Use [LuaPlanet::associate_surface](runtime:LuaPlanet::associate_surface) to create a new association with a planet.

### platform

**Type:** `LuaSpacePlatform` _(read-only)_



### pollutant_type

**Type:** `LuaAirbornePollutantPrototype` _(read-only)_

The type of pollutant enabled on the surface, or `nil` if no pollutant is enabled.

### pollution_statistics

**Type:** `LuaFlowStatistics` _(read-only)_

The pollution statistics for this surface.

### show_clouds

**Type:** `boolean`

If clouds are shown on this surface. If false, clouds are never shown. If true the player must also have clouds enabled in graphics settings for them to be shown.

### solar_power_multiplier

**Type:** `double`

The multiplier of solar power on this surface. Cannot be less than 0.

### ticks_per_day

**Type:** `uint`

The number of ticks per day for this surface.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

### wind_orientation

**Type:** `RealOrientation`

Current wind direction.

### wind_orientation_change

**Type:** `double`

Change in wind orientation per tick.

### wind_speed

**Type:** `double`

Current wind speed in tiles per tick.

---

## LuaSurfacePropertyPrototype

# LuaSurfacePropertyPrototype

Prototype of a surface property.

**Parent:** `LuaPrototypeBase`

## Attributes

### default_value

**Type:** `double` _(read-only)_



### is_time

**Type:** `boolean` _(read-only)_



### localised_unit_key

**Type:** `string` _(read-only)_



### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaSurfacePrototype

# LuaSurfacePrototype

Prototype of a surface.

**Parent:** `LuaPrototypeBase`

## Attributes

### factoriopedia_alternative

**Type:** `LuaSurfacePrototype` _(read-only)_

An alternative prototype that will be used to display info about this prototype in Factoriopedia.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### surface_properties

**Type:** `dictionary<`SurfacePropertyID`, `double`>` _(read-only)_



### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaTechnology

# LuaTechnology

One research item.

## Methods

### reload

Reload this technology from its prototype.

### research_recursive

Research this technology and all of its prerequisites recursively.

## Attributes

### enabled

**Type:** `boolean`

Can this technology be researched?

### force

**Type:** `LuaForce` _(read-only)_

The force this technology belongs to.

### level

**Type:** `uint`

The current level of this technology. For level-based technology writing to this is the same as researching the technology to the previous level. Writing the level will set [LuaTechnology::enabled](runtime:LuaTechnology::enabled) to `true`.

### localised_description

**Type:** `LocalisedString` _(read-only)_



### localised_name

**Type:** `LocalisedString` _(read-only)_

Localised name of this technology.

### name

**Type:** `string` _(read-only)_

Name of this technology.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### order

**Type:** `string` _(read-only)_

The string used to alphabetically sort these prototypes. It is a simple string that has no additional semantic meaning.

### prerequisites

**Type:** `dictionary<`string`, `LuaTechnology`>` _(read-only)_

Prerequisites of this technology. The result maps technology name to the [LuaTechnology](runtime:LuaTechnology) object.

### prototype

**Type:** `LuaTechnologyPrototype` _(read-only)_

The prototype of this technology.

### research_unit_count

**Type:** `uint` _(read-only)_

The number of research units required for this technology.

This is multiplied by the current research cost multiplier, unless [LuaTechnologyPrototype::ignore_tech_cost_multiplier](runtime:LuaTechnologyPrototype::ignore_tech_cost_multiplier) is `true`.

### research_unit_count_formula

**Type:** `MathExpression` _(read-only)_

The count formula, if this research has any. See [TechnologyUnit::count_formula](prototype:TechnologyUnit::count_formula) for details.

### research_unit_energy

**Type:** `double` _(read-only)_

Amount of energy required to finish a unit of research.

### research_unit_ingredients

**Type:** ``ResearchIngredient`[]` _(read-only)_

The types of ingredients that labs will require to research this technology.

### researched

**Type:** `boolean`

Has this technology been researched? Switching from `false` to `true` will trigger the technology advancement perks; switching from `true` to `false` will reverse them.

### saved_progress

**Type:** `double`

Saved technology progress fraction as a value in range `[0, 1)`. 0 means there is no saved progress.

### successors

**Type:** `dictionary<`string`, `LuaTechnology`>` _(read-only)_

Successors of this technology, i.e. technologies which have this technology as a prerequisite.

### upgrade

**Type:** `boolean` _(read-only)_

Is this an upgrade-type research?

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

### visible_when_disabled

**Type:** `boolean`

If this technology will be visible in the research GUI even though it is disabled.

---

## LuaTechnologyPrototype

# LuaTechnologyPrototype

A Technology prototype.

**Parent:** `LuaPrototypeBase`

## Attributes

### allows_productivity

**Type:** `boolean` _(read-only)_



### effects

**Type:** ``TechnologyModifier`[]` _(read-only)_

Effects applied when this technology is researched.

### enabled

**Type:** `boolean` _(read-only)_

If this technology prototype is enabled by default (enabled at the beginning of a game).

### essential

**Type:** `boolean` _(read-only)_

If this technology prototype is essential, meaning it is shown in the condensed technology graph.

### factoriopedia_alternative

**Type:** `LuaTechnologyPrototype` _(read-only)_

An alternative prototype that will be used to display info about this prototype in Factoriopedia.

### ignore_tech_cost_multiplier

**Type:** `boolean` _(read-only)_

If this technology ignores the technology cost multiplier setting.

[LuaTechnologyPrototype::research_unit_count](runtime:LuaTechnologyPrototype::research_unit_count) will already take this setting into account.

### level

**Type:** `uint` _(read-only)_

The level of this research.

### max_level

**Type:** `uint` _(read-only)_

The max level of this research.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### prerequisites

**Type:** `dictionary<`string`, `LuaTechnologyPrototype`>` _(read-only)_

Prerequisites of this technology. The result maps technology name to the [LuaTechnologyPrototype](runtime:LuaTechnologyPrototype) object.

### research_trigger

**Type:** `ResearchTrigger` _(read-only)_

The trigger that will research this technology if any.

### research_unit_count

**Type:** `uint` _(read-only)_

The number of research units required for this technology.

This is multiplied by the current research cost multiplier, unless [LuaTechnologyPrototype::ignore_tech_cost_multiplier](runtime:LuaTechnologyPrototype::ignore_tech_cost_multiplier) is `true`.

### research_unit_count_formula

**Type:** `MathExpression` _(read-only)_

The count formula, if this research has any. See [TechnologyUnit::count_formula](prototype:TechnologyUnit::count_formula) for details.

### research_unit_energy

**Type:** `double` _(read-only)_

Amount of energy required to finish a unit of research.

### research_unit_ingredients

**Type:** ``ResearchIngredient`[]` _(read-only)_

The types of ingredients that labs will require to research this technology.

### successors

**Type:** `dictionary<`string`, `LuaTechnologyPrototype`>` _(read-only)_

Successors of this technology, i.e. technologies which have this technology as a prerequisite.

### upgrade

**Type:** `boolean` _(read-only)_

If the is technology prototype is an upgrade to some other technology.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

### visible_when_disabled

**Type:** `boolean` _(read-only)_

If this technology will be visible in the research GUI even though it is disabled.

---

## LuaTile

# LuaTile

A single "square" on the map.

## Methods

### cancel_deconstruction

Cancels deconstruction if it is scheduled, does nothing otherwise.

**Parameters:**

- `force` `ForceID`: The force who did the deconstruction order.
- `player` `PlayerIdentification` _(optional)_: The player to set the last_user to if any.

### collides_with

What type of things can collide with this tile?

**Parameters:**

- `layer` `CollisionLayerID`: 

**Returns:**

- `boolean`: 

### get_tile_ghosts

Gets all tile ghosts on this tile.

**Parameters:**

- `force` `ForceID` _(optional)_: Get tile ghosts of this force.

**Returns:**

- ``LuaEntity`[]`: The tile ghosts.

### has_tile_ghost

Does this tile have any tile ghosts on it.

**Parameters:**

- `force` `ForceID` _(optional)_: Check for tile ghosts of this force.

**Returns:**

- `boolean`: 

### order_deconstruction

Orders deconstruction of this tile by the given force.

**Parameters:**

- `force` `ForceID`: The force whose robots are supposed to do the deconstruction.
- `player` `PlayerIdentification` _(optional)_: The player to set the last_user to if any.

**Returns:**

- `LuaEntity`: The deconstructible tile proxy created, if any.

### to_be_deconstructed

Is this tile marked for deconstruction?

**Parameters:**

- `force` `ForceID` _(optional)_: The force whose robots are supposed to do the deconstruction. If not given, checks if to be deconstructed by any force.

**Returns:**

- `boolean`: 

## Attributes

### double_hidden_tile

**Type:** `string` _(read-only)_

The name of the [LuaTilePrototype](runtime:LuaTilePrototype) double hidden under this tile or `nil` if there is no double hidden tile.

During normal gameplay, only [non-mineable](runtime:LuaTilePrototype::mineable_properties) tiles can become double hidden. This can however be circumvented with [LuaSurface::set_double_hidden_tile](runtime:LuaSurface::set_double_hidden_tile).

### hidden_tile

**Type:** `string` _(read-only)_

The name of the [LuaTilePrototype](runtime:LuaTilePrototype) hidden under this tile, if any.

During normal gameplay, only [non-mineable](runtime:LuaTilePrototype::mineable_properties) or [foundation](runtime:LuaTilePrototype::is_foundation) tiles can become hidden. This can however be circumvented with [LuaSurface::set_hidden_tile](runtime:LuaSurface::set_hidden_tile).

### name

**Type:** `string` _(read-only)_

Prototype name of this tile. E.g. `"sand-3"` or `"grass-2"`.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### position

**Type:** `TilePosition` _(read-only)_

The position this tile references.

### prototype

**Type:** `LuaTilePrototype` _(read-only)_



### surface

**Type:** `LuaSurface` _(read-only)_

The surface this tile is on.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaTilePrototype

# LuaTilePrototype

Prototype of a tile.

**Parent:** `LuaPrototypeBase`

## Attributes

### absorptions_per_second

**Type:** `dictionary<`string`, `double`>` _(read-only)_

A table of pollution emissions per second this tile will absorb, indexed by the name of each absorbed pollution type.

### allowed_neighbors

**Type:** `dictionary<`string`, `LuaTilePrototype`>` _(read-only)_



### allows_being_covered

**Type:** `boolean` _(read-only)_

True if this tile can be [hidden](runtime:LuaTile::hidden_tile) or replaced by another tile through player actions.

### ambient_sounds_group

**Type:** `LuaTilePrototype` _(read-only)_



### automatic_neighbors

**Type:** `boolean` _(read-only)_



### autoplace_specification

**Type:** `AutoplaceSpecification` _(read-only)_

Autoplace specification for this prototype, if any.

### bound_decoratives

**Type:** ``LuaDecorativePrototype`[]` _(read-only)_



### can_be_part_of_blueprint

**Type:** `boolean` _(read-only)_

False if this tile is not allowed in blueprints regardless of the ability to build it.

### check_collision_with_entities

**Type:** `boolean` _(read-only)_

True if building this tile should check for colliding entities above and prevent building if such are found. Also during mining tiles above this tile checks for entities colliding with this tile and prevents mining if such are found.

### collision_mask

**Type:** `CollisionMask` _(read-only)_

The collision mask this tile uses

### decorative_removal_probability

**Type:** `float` _(read-only)_

The probability that decorative entities will be removed from on top of this tile when this tile is generated.

### default_cover_tile

**Type:** `LuaTilePrototype` _(read-only)_



### default_destroyed_dropped_item_trigger

**Type:** ``TriggerItem`[]` _(read-only)_



### destroys_dropped_items

**Type:** `boolean` _(read-only)_



### factoriopedia_alternative

**Type:** `LuaTilePrototype` _(read-only)_

An alternative prototype that will be used to display info about this prototype in Factoriopedia.

### fluid

**Type:** `LuaFluidPrototype` _(read-only)_

The fluid offshore pump produces on this tile, if any.

### frozen_variant

**Type:** `LuaTilePrototype` _(read-only)_



### is_foundation

**Type:** `boolean` _(read-only)_

True if this tile can be used as a foundation for other tiles, false otherwise. Foundation tiles can be [hidden](runtime:LuaTile::hidden_tile).

### items_to_place_this

**Type:** ``ItemStackDefinition`[]` _(read-only)_

Items that when placed will produce this tile, if any. Construction bots will choose the first item in the list to build this tile.

### layer

**Type:** `uint` _(read-only)_



### map_color

**Type:** `Color` _(read-only)_



### max_health

**Type:** `float` _(read-only)_



### mineable_properties

**Type:** `unknown` _(read-only)_



### needs_correction

**Type:** `boolean` _(read-only)_

If this tile needs correction logic applied when it's generated in the world.

### next_direction

**Type:** `LuaTilePrototype` _(read-only)_

The next direction of this tile, if any. Used when a tile has multiple directions (such as hazard concrete)

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### placeable_by

**Type:** ``SimpleItemStack`[]` _(read-only)_



### scorch_mark_color

**Type:** `Color` _(read-only)_



### thawed_variant

**Type:** `LuaTilePrototype` _(read-only)_



### trigger_effect

**Type:** ``TriggerEffectItem`[]` _(read-only)_



### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

### vehicle_friction_modifier

**Type:** `float` _(read-only)_



### walking_speed_modifier

**Type:** `float` _(read-only)_



### weight

**Type:** `double` _(read-only)_

---

## LuaTrain

# LuaTrain

A train. Trains are a sequence of connected rolling stocks -- locomotives and wagons.

## Methods

### clear_fluids_inside

Clears all fluids in this train.

### clear_items_inside

Clear all items in this train.

### get_contents

Get a mapping of the train's inventory.

**Returns:**

- ``ItemWithQualityCounts`[]`: List of all items in the train.

### get_fluid_contents

Gets a mapping of the train's fluid inventory.

**Returns:**

- `dictionary<`string`, `double`>`: The counts, indexed by fluid names.

### get_fluid_count

Get the amount of a particular fluid stored in the train.

**Parameters:**

- `fluid` `string` _(optional)_: Fluid name to count. If not given, counts all fluids.

**Returns:**

- `double`: 

### get_item_count

Get the amount of a particular item stored in the train.

**Parameters:**

- `item` `ItemFilter` _(optional)_: If not given, counts all items.

**Returns:**

- `uint`: 

### get_rail_end

Gets a LuaRailEnd object pointing away from the train at specified end of the train

**Parameters:**

- `direction` `defines.rail_direction`: 

**Returns:**

- `LuaRailEnd`: 

### get_rails

Gets all rails under the train.

**Returns:**

- ``LuaEntity`[]`: 

### get_schedule



**Returns:**

- `LuaSchedule`: 

### go_to_station

Go to the station specified by the index in the train's schedule.

**Parameters:**

- `index` `uint`: 

### insert

Insert a stack into the train.

**Parameters:**

- `stack` `ItemStackIdentification`: 

### insert_fluid

Inserts the given fluid into the first available location in this train.

**Parameters:**

- `fluid` `Fluid`: 

**Returns:**

- `double`: The amount inserted.

### recalculate_path

Checks if the path is invalid and tries to re-path if it isn't.

**Parameters:**

- `force` `boolean` _(optional)_: Forces the train to re-path regardless of the current path being valid or not.

**Returns:**

- `boolean`: If the train has a path after the repath attempt.

### remove_fluid

Remove some fluid from the train.

**Parameters:**

- `fluid` `Fluid`: 

**Returns:**

- `double`: The amount of fluid actually removed.

### remove_item

Remove some items from the train.

**Parameters:**

- `stack` `ItemStackIdentification`: The amount and type of items to remove

**Returns:**

- `uint`: Number of items actually removed.

## Attributes

### back_end

**Type:** `LuaRailEnd` _(read-only)_

Back end of the train: Rail and direction on that rail where the train will go when moving backward

### back_stock

**Type:** `LuaEntity` _(read-only)_

The back stock of this train, if any. The back of the train is at the opposite end of the [front](runtime:LuaTrain::front_stock).

### cargo_wagons

**Type:** ``LuaEntity`[]` _(read-only)_

The cargo carriages the train contains.

### carriages

**Type:** ``LuaEntity`[]` _(read-only)_

The rolling stocks this train is composed of, with the numbering starting at the [front](runtime:LuaTrain::front_stock) of the train.

### fluid_wagons

**Type:** ``LuaEntity`[]` _(read-only)_

The fluid carriages the train contains.

### front_end

**Type:** `LuaRailEnd` _(read-only)_

Front end of the train: Rail and direction on that rail where the train will go when moving forward

### front_stock

**Type:** `LuaEntity` _(read-only)_

The front stock of this train, if any. The front of the train is in the direction that a majority of locomotives are pointing in. If it's a tie, the North and West directions take precedence.

### group

**Type:** `string`

The group this train belongs to.

Setting the group will apply the schedule of the group to this train.

### has_path

**Type:** `boolean` _(read-only)_

If this train has a path.

### id

**Type:** `uint` _(read-only)_

The unique train ID.

### kill_count

**Type:** `uint` _(read-only)_

The total number of kills by this train.

### killed_players

**Type:** `dictionary<`uint`, `uint`>` _(read-only)_

The players killed by this train.

The keys are the player indices, the values are how often this train killed that player.

### locomotives

**Type:** `unknown` _(read-only)_

Locomotives of the train.

### manual_mode

**Type:** `boolean`

When `true`, the train is explicitly controlled by the player or script. When `false`, the train moves autonomously according to its schedule.

### max_backward_speed

**Type:** `double` _(read-only)_

Current max speed when moving backwards, depends on locomotive prototype and fuel.

### max_forward_speed

**Type:** `double` _(read-only)_

Current max speed when moving forward, depends on locomotive prototype and fuel.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### passengers

**Type:** ``LuaPlayer`[]` _(read-only)_

The player passengers on the train

This does *not* index using player index. See [LuaPlayer::index](runtime:LuaPlayer::index) on each player instance for the player index.

### path

**Type:** `LuaRailPath` _(read-only)_

The path this train is using, if any.

### path_end_rail

**Type:** `LuaEntity` _(read-only)_

The destination rail this train is currently pathing to, if any.

### path_end_stop

**Type:** `LuaEntity` _(read-only)_

The destination train stop this train is currently pathing to, if any.

### riding_state

**Type:** `RidingState` _(read-only)_

The riding state of this train.

### schedule

**Type:** `TrainSchedule`

This train's current schedule, if any. Set to `nil` to clear.

The schedule can't be changed by modifying the returned table. Instead, changes must be made by assigning a new table to this attribute.

### signal

**Type:** `LuaEntity` _(read-only)_

The signal this train is arriving or waiting at, if any.

### speed

**Type:** `double`

Current speed.

Changing the speed of the train is potentially an unsafe operation because train uses the speed for its internal calculations of break distances, etc.

### state

**Type:** `defines.train_state` _(read-only)_

This train's current state.

### station

**Type:** `LuaEntity` _(read-only)_

The train stop this train is stopped at, if any.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

### weight

**Type:** `double` _(read-only)_

The weight of this train.

---

## LuaTrainManager

# LuaTrainManager

The train manager manages all the train in the game. LuaTrainManager allows to perform some direct queries to the train manager.

There is always exactly one train manager instance in a game, it can be obtained from [LuaGameScript::train_manager](runtime:LuaGameScript::train_manager). This object is always valid and is equal to any other instance of LuaTrainManager from this game.

## Methods

### get_train_by_id

Searches for a train with given ID.

**Parameters:**

- `train_id` `uint`: Train ID to search

**Returns:**

- `LuaTrain`: Train if found

### get_train_stops

Gets all train stops that pass given filter

**Parameters:**

- `filter` `TrainStopFilter`: Filters the train stop must pass in order to be returned here

**Returns:**

- ``LuaEntity`[]`: 

### get_trains

Gets all trains that pass given filter

**Parameters:**

- `filter` `TrainFilter`: Filters the train must pass in order to be returned here

**Returns:**

- ``LuaTrain`[]`: 

### request_train_path

Direct access to train pathfinder. Allows to search rail paths or querying which stops are accessible

**Parameters:**

- `goals` ``TrainPathFinderGoal`[]`: 
- `in_chain_signal_section` `boolean` _(optional)_: Defaults to `false`. If set to true, pathfinder will not return a path that cannot have its start immediately reserved. A path that cannot have its start immediately reserved could cause a train to stop inside of an intersection.
- `return_path` `boolean` _(optional)_: Only relevant if request type is `"path"`. Returning a full path is expensive due to multiple LuaEntity created. In order for path to be returned, true must be provided here. Defaults to false in which case a path will not be provided.
- `search_direction`  _(optional)_: Only relevant if `starts` was not provided in which case 2 starts (front and back) are deduced from the train. Selects which train ends should be considered as starts. Defaults to `"any-direction-with-locomotives"`.
- `shortest_path` `boolean` _(optional)_: Defaults to `false`. If set to true, only length of rails is added to penalties causing search to look for shortest path (not smallest penalty)
- `starts` ``RailEndStart`[]` _(optional)_: Manually provided starting positions.
- `steps_limit` `uint` _(optional)_: Maximum amount of steps pathfinder is allowed to perform.
- `train` `LuaTrain` _(optional)_: Mandatory if `starts` is not provided, optional otherwise. Selects a context for the pathfinder to decide which train to exclude from penalties and which signals are considered possible to reacquire. If `starts` is not provided, then it is also used to collect front and back ends for the search
- `type` `TrainPathRequestType` _(optional)_: Request type. Determines the return type of the method. Defaults to `"path"`.

**Returns:**

- : The type of the returned value depends on `type`.

## Attributes

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaTrainStopControlBehavior

# LuaTrainStopControlBehavior

Control behavior for train stops.

**Parent:** `LuaGenericOnOffControlBehavior`

## Attributes

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### priority_signal

**Type:** `SignalID`

The signal to be used by set-priority change priority of the train stop

### read_from_train

**Type:** `boolean`

`true` if the train stop should send the train contents to the circuit network.

### read_stopped_train

**Type:** `boolean`

`true` if the train stop should send the stopped train id to the circuit network.

### read_trains_count

**Type:** `boolean`

`true` if the train stop should send amount of incoming trains to the circuit network.

### send_to_train

**Type:** `boolean`

`true` if the train stop should send the circuit network contents to the train to use.

### set_priority

**Type:** `boolean`

`true` if the priority_signal is used to set a priority of the train stop.

### set_trains_limit

**Type:** `boolean`

`true` if the trains_limit_signal is used to set a limit of trains incoming for train stop.

### stopped_train_signal

**Type:** `SignalID`

The signal that will be sent when using the send-train-id option.

### trains_count_signal

**Type:** `SignalID`

The signal that will be sent when using the read-trains-count option.

### trains_limit_signal

**Type:** `SignalID`

The signal to be used by set-trains-limit to limit amount of incoming trains

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaTransportBeltControlBehavior

# LuaTransportBeltControlBehavior

Control behavior for transport belts.

**Parent:** `LuaGenericOnOffControlBehavior`

## Attributes

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### read_contents

**Type:** `boolean`

If the belt will read the contents and send them to the circuit network.

### read_contents_mode

**Type:** `defines.control_behavior.transport_belt.content_read_mode`

The read mode for the belt.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaTransportLine

# LuaTransportLine

One line on a transport belt.

## Methods

### can_insert_at

Can an item be inserted at a given position?

**Parameters:**

- `position` `float`: Where to insert an item.

**Returns:**

- `boolean`: 

### can_insert_at_back

Can an item be inserted at the back of this line?

**Returns:**

- `boolean`: 

### clear

Remove all items from this transport line.

### force_insert_at

Force insert item at a given position. Inserts item onto a transport line. If a position is out of range, it is clamped to a closest valid position on the transport line. Item will be inserted regardless of other items nearby, possibly forcing items to become squashed.

**Parameters:**

- `belt_stack_size` `uint8` _(optional)_: Maximum size of stack created on belt
- `items` `ItemStackIdentification`: Items to insert.
- `position` `float`: Where on the line to insert the items.

### get_contents

Get counts of all items on this line, similar to how [LuaInventory::get_contents](runtime:LuaInventory::get_contents) does.

**Returns:**

- ``ItemWithQualityCounts`[]`: List of all items on this line.

### get_detailed_contents

Get detailed information of items on this line, such as their position.

**Returns:**

- ``DetailedItemOnLine`[]`: 

### get_item_count

Count some or all items on this line, similar to how [LuaInventory::get_item_count](runtime:LuaInventory::get_item_count) does.

**Parameters:**

- `item` `ItemFilter` _(optional)_: If not specified, count all items.

**Returns:**

- `uint`: 

### get_line_item_position

Get a map position related to a position on a transport line.

**Parameters:**

- `position` `float`: Linear position along the transport line. Clamped to the transport line range.

**Returns:**

- `MapPosition`: 

### insert_at

Insert items at a given position.

**Parameters:**

- `belt_stack_size` `uint8` _(optional)_: Maximum size of stack created on belt
- `items` `ItemStackIdentification`: Items to insert.
- `position` `float`: Where on the line to insert the items.

**Returns:**

- `boolean`: Were the items inserted successfully?

### insert_at_back

Insert items at the back of this line.

**Parameters:**

- `belt_stack_size` `uint8` _(optional)_: Maximum size of stack created on belt
- `items` `ItemStackIdentification`: 

**Returns:**

- `boolean`: Were the items inserted successfully?

### line_equals

Returns whether the associated internal transport line of this line is the same as the others associated internal transport line.

This can return true even when the [LuaTransportLine::owner](runtime:LuaTransportLine::owner)s are different (so `this == other` is false), because the internal transport lines can span multiple tiles.

**Parameters:**

- `other` `LuaTransportLine`: 

**Returns:**

- `boolean`: 

### remove_item

Remove some items from this line.

**Parameters:**

- `items` `ItemStackIdentification`: Items to remove.

**Returns:**

- `uint`: Number of items actually removed.

## Attributes

### input_lines

**Type:** ``LuaTransportLine`[]` _(read-only)_

The transport lines that this transport line is fed by or an empty table if none.

### line_length

**Type:** `float` _(read-only)_

Length of the transport line. Items can be inserted at line position from 0 up to returned value

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### output_lines

**Type:** ``LuaTransportLine`[]` _(read-only)_

The transport lines that this transport line outputs items to or an empty table if none.

### owner

**Type:** `LuaEntity` _(read-only)_

The entity this transport line belongs to.

### total_segment_length

**Type:** `double` _(read-only)_

Total length of segment which consists of this line, all lines in front and lines in the back directly connected.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaTrivialSmokePrototype

# LuaTrivialSmokePrototype

Prototype of a trivial smoke.

**Parent:** `LuaPrototypeBase`

## Attributes

### affected_by_wind

**Type:** `boolean` _(read-only)_



### color

**Type:** `Color` _(read-only)_



### cyclic

**Type:** `boolean` _(read-only)_



### duration

**Type:** `uint` _(read-only)_



### end_scale

**Type:** `double` _(read-only)_



### fade_away_duration

**Type:** `uint` _(read-only)_



### fade_in_duration

**Type:** `uint` _(read-only)_



### glow_animation

**Type:** `boolean` _(read-only)_



### glow_fade_away_duration

**Type:** `uint` _(read-only)_



### movement_slow_down_factor

**Type:** `double` _(read-only)_



### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### render_layer

**Type:** `RenderLayer` _(read-only)_



### show_when_smoke_off

**Type:** `boolean` _(read-only)_



### spread_duration

**Type:** `uint` _(read-only)_



### start_scale

**Type:** `double` _(read-only)_



### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaTurretControlBehavior

# LuaTurretControlBehavior

Control behavior for turrets.

**Parent:** `LuaGenericOnOffControlBehavior`

## Attributes

### ignore_unlisted_targets_condition

**Type:** `CircuitConditionDefinition`

The condition under which the turret will ignore targets not on its priority list.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### read_ammo

**Type:** `boolean`

`true` if the turret will send the ammunition or fluid it contains to the circuit network.

### set_ignore_unlisted_targets

**Type:** `boolean`

`true` if the turret will ignore targets not on its priority list if a circuit condition is met.

### set_priority_list

**Type:** `boolean`

`true` if the turret's target priority list will be determined from the signals on the circuit network.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaUndoRedoStack

# LuaUndoRedoStack

The undo queue for a player. The term `item_index` refers to the index of an undo item in the queue, while `action_index` refers to the index of one of the individual actions that make up an undo item.

## Methods

### get_redo_item

Gets an undo item from the redo stack.

**Parameters:**

- `index` `uint`: The index of the item to get, ordered from most recent to oldest.

**Returns:**

- ``UndoRedoAction`[]`: 

### get_redo_item_count

The number of undo items in the redo stack.

**Returns:**

- `uint`: 

### get_redo_tag

Gets the tag with the given name from a specific redo item action, or `nil` if it doesn't exist.

**Parameters:**

- `action_index` `uint`: The index of the redo action.
- `item_index` `uint`: The index of the redo item, ordered from most recent to oldest.
- `tag_name` `string`: The name of the tag to get.

**Returns:**

- `AnyBasic`: 

### get_redo_tags

Gets all tags for the given redo action.

**Parameters:**

- `action_index` `uint`: The index of the redo action.
- `item_index` `uint`: The index of the redo item, ordered from most recent to oldest.

**Returns:**

- `Tags`: 

### get_undo_item

Gets an undo item from the undo stack.

**Parameters:**

- `index` `uint`: The index of the undo item to get, ordered from most recent to oldest.

**Returns:**

- ``UndoRedoAction`[]`: 

### get_undo_item_count

The number undo items in the undo stack.

**Returns:**

- `uint`: 

### get_undo_tag

Gets the tag with the given name from a specific undo item action, or `nil` if it doesn't exist.

**Parameters:**

- `action_index` `uint`: The index of the undo action.
- `item_index` `uint`: The index of the undo item, ordered from most recent to oldest.
- `tag_name` `string`: The name of the tag to get.

**Returns:**

- `AnyBasic`: 

### get_undo_tags

Gets all tags for the given undo action.

**Parameters:**

- `action_index` `uint`: The index of the undo action.
- `item_index` `uint`: The index of the undo item, ordered from most recent to oldest.

**Returns:**

- `Tags`: 

### remove_redo_action

Removes an undo action from the specified undo item on the redo stack.

**Parameters:**

- `action_index` `uint`: The index of the undo action to remove.
- `item_index` `uint`: The index of the undo item to change, ordered from most recent to oldest.

### remove_redo_item

Removes an undo item from the redo stack.

**Parameters:**

- `index` `uint`: The index of the undo item to remove, ordered from most recent to oldest.

### remove_redo_tag

Removes a tag with the given name from the specified redo item.

**Parameters:**

- `action_index` `uint`: The index of the redo action.
- `item_index` `uint`: The index of the redo item, ordered from most recent to oldest.
- `tag` `string`: The name of the tag to remove.

**Returns:**

- `boolean`: Whether the tag existed and was successfully removed.

### remove_undo_action

Removes an undo action from the specified undo item on the undo stack.

**Parameters:**

- `action_index` `uint`: The index of the undo action to remove.
- `item_index` `uint`: The index of the undo item to change, ordered from most recent to oldest.

### remove_undo_item

Removes an undo item from the undo stack.

**Parameters:**

- `index` `uint`: The index of the undo item to remove, ordered from most recent to oldest.

### remove_undo_tag

Removes a tag with the given name from the specified undo item.

**Parameters:**

- `action_index` `uint`: The index of the undo action.
- `item_index` `uint`: The index of the undo item, ordered from most recent to oldest.
- `tag` `string`: The name of the tag to remove.

**Returns:**

- `boolean`: Whether the tag existed and was successfully removed.

### set_redo_tag

Sets a new tag with the given name and value on the specified redo item action.

**Parameters:**

- `action_index` `uint`: The index of the redo action.
- `item_index` `uint`: The index of the redo item, ordered from most recent to oldest.
- `tag` `AnyBasic`: The contents of the new tag.
- `tag_name` `string`: The name of the tag to set.

### set_undo_tag

Sets a new tag with the given name and value on the specified undo item action.

**Parameters:**

- `action_index` `uint`: The index of the undo action.
- `item_index` `uint`: The index of the undo item, ordered from most recent to oldest.
- `tag` `AnyBasic`: The contents of the new tag.
- `tag_name` `string`: The name of the tag to set.

## Attributes

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### player_index

**Type:** `uint` _(read-only)_

The index of the player to whom this stack belongs to.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaVirtualSignalPrototype

# LuaVirtualSignalPrototype

Prototype of a virtual signal.

**Parent:** `LuaPrototypeBase`

## Attributes

### factoriopedia_alternative

**Type:** `LuaVirtualSignalPrototype` _(read-only)_

An alternative prototype that will be used to display info about this prototype in Factoriopedia.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### special

**Type:** `boolean` _(read-only)_

Whether this is a special signal. The `everything`, `anything`, `each`, and `unknown` signals are considered special.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaVoidEnergySourcePrototype

# LuaVoidEnergySourcePrototype

Prototype of a void energy source.

## Attributes

### emissions_per_joule

**Type:** `dictionary<`string`, `double`>` _(read-only)_

The table of emissions of this energy source in `pollution/Joule`, indexed by pollutant type. Multiplying it by energy consumption in `Watt` gives `pollution/second`.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### render_no_network_icon

**Type:** `boolean` _(read-only)_



### render_no_power_icon

**Type:** `boolean` _(read-only)_



### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaWallControlBehavior

# LuaWallControlBehavior

Control behavior for walls.

**Parent:** `LuaControlBehavior`

## Attributes

### circuit_condition

**Type:** `CircuitConditionDefinition`

The circuit condition.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### open_gate

**Type:** `boolean`



### output_signal

**Type:** `SignalID`



### read_sensor

**Type:** `boolean`



### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

---

## LuaWireConnector

# LuaWireConnector

A wire connector of a given entity. Allows to find wires, add or remove wires and do some basic operations specific to those connectors.

## Methods

### can_wire_reach

Checks if a wire can reach from this connector to the other connector.

**Parameters:**

- `other_connector` : Target to which a wire reach is to be checked.

**Returns:**

- `boolean`: 

### connect_to

Connects this connector to other wire connector.

**Parameters:**

- `origin` `defines.wire_origin` _(optional)_: Origin of the wire. Defaults to `defines.wire_origin.player`.
- `reach_check` `boolean` _(optional)_: True by default. For wires out of reach or on different surfaces, `false` must be provided.
- `target` `LuaWireConnector`: Other connector to which a wire should be added.

**Returns:**

- `boolean`: Whether a connection was made.

### disconnect_all

Removes all wires going out of this wire connector.

**Parameters:**

- `origin` `defines.wire_origin` _(optional)_: Origin of the wires to remove. Defaults to `defines.wire_origin.player`.

**Returns:**

- `boolean`: True if any wire was removed.

### disconnect_from

Disconnects this connector from other wire connector.

**Parameters:**

- `origin` `defines.wire_origin` _(optional)_: Origin of the wire. Defaults to `defines.wire_origin.player`.
- `target` `LuaWireConnector`: Other connector to which wire to be removed should be removed.

**Returns:**

- `boolean`: Whether a connection was removed.

### have_common_neighbour

Checks if this and other wire connector have a common neighbour.

**Parameters:**

- `ignore_ghost_neighbours` `boolean` _(optional)_: 
- `other_connector` `LuaWireConnector`: Other connector to check for common neighbour.

**Returns:**

- `boolean`: 

### is_connected_to

Checks if this connector has any wire going to the other connector.

**Parameters:**

- `origin` `defines.wire_origin` _(optional)_: Origin of the wire. Defaults to `defines.wire_origin.player`.
- `target` `LuaWireConnector`: Other connector to check for a connection to.

**Returns:**

- `boolean`: 

## Attributes

### connection_count

**Type:** `uint` _(read-only)_

Amount of wires going out of this connector. It includes all wires (ghost wires and real wires).

### connections

**Type:** ``WireConnection`[]` _(read-only)_

All wire connectors this connector is connected to.

### is_ghost

**Type:** `boolean` _(read-only)_

If this connector is owned by an entity inside of a ghost. If any of 2 ends of a wire attaches to a ghost connector, then a wire is considered to be a ghost.

### network_id

**Type:** `uint` _(read-only)_

Index of a CircuitNetwork or ElectricSubNetwork which is going through this wire connector. Returns 0 if there is no network associated with this wire connector right now. CircuitNetwork indexes are independent of indexes of ElectricSubNetwork so they may collide with each other.

### object_name

**Type:** `string` _(read-only)_

The class name of this object. Available even when `valid` is false. For LuaStruct objects it may also be suffixed with a dotted path to a member of the struct.

### owner

**Type:** `LuaEntity` _(read-only)_

The entity this wire connector belongs to. May return entity ghost instead if this wire connector belongs to inner entity.

### real_connection_count

**Type:** `uint` _(read-only)_

Amount of real wires going out of this connector. It only includes wires for which both wire connectors are real.

### real_connections

**Type:** ``WireConnection`[]` _(read-only)_

All wire connectors this connector is connected to with real wires.

### valid

**Type:** `boolean` _(read-only)_

Is this object valid? This Lua object holds a reference to an object within the game engine. It is possible that the game-engine object is removed whilst a mod still holds the corresponding Lua object. If that happens, the object becomes invalid, i.e. this attribute will be `false`. Mods are advised to check for object validity if any change to the game state might have occurred between the creation of the Lua object and its access.

### wire_connector_id

**Type:** `defines.wire_connector_id` _(read-only)_

Identifier of this connector in the entity this connector belongs to.

### wire_type

**Type:** `defines.wire_type` _(read-only)_

The type of wires that can be connected to this connector.

---

